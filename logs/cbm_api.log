{"text": "2025-08-01 14:00:18.510 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:79 - [Redis] set details\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF942C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF942C0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663DC80>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661EE0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661EE0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661EE0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661EE0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661EE0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663D020>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026306660D60>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661F80>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000026306660D60>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663D020>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000026306670E30>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x0000026306670E30>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 77, in get_dashboard_fiche\n    await redis_client.set(key_details, json.dumps({\"products\": details}), ex=3600)\n          │            │   │            │    │                  └ [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', statut=0, cod_...\n          │            │   │            │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │            └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:products:465576'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n           └ <_json.Encoder object at 0x0000026306670D60>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', statut=0, cod_f...\n\nTypeError: Object of type ProductDetail is not JSON serializable\n", "record": {"elapsed": {"repr": "0:03:30.223198", "seconds": 210.223198}, "exception": {"type": "TypeError", "value": "Object of type ProductDetail is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 79, "message": "[Redis] set details", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:18.510681+02:00", "timestamp": 1754049618.510681}}}
{"text": "2025-08-01 14:00:18.526 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:03:30.238825", "seconds": 210.238825}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:18.526308+02:00", "timestamp": 1754049618.526308}}}
{"text": "2025-08-01 14:00:18.527 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:03:30.240300", "seconds": 210.2403}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:18.527783+02:00", "timestamp": 1754049618.527783}}}
{"text": "2025-08-01 14:00:18.528 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:03:30.241509", "seconds": 210.241509}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:18.528992+02:00", "timestamp": 1754049618.528992}}}
{"text": "2025-08-01 14:00:18.530 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:32 - ✅ Cache hit purchase_price pour purchase:price:465576\n", "record": {"elapsed": {"repr": "0:03:30.242548", "seconds": 210.242548}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "✅ Cache hit purchase_price pour purchase:price:465576", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:18.530031+02:00", "timestamp": 1754049618.530031}}}
{"text": "2025-08-01 14:00:18.530 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:103 - [Redis] set purchase\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF942C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF942C0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663DC80>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661EE0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661EE0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661EE0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661EE0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661EE0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663D020>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026306660D60>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661F80>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96FC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000026306660D60>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663D020>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000026306670E30>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x0000026306670E30>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 101, in get_dashboard_fiche\n    await redis_client.set(key_purchase, json.dumps({\"items\": purchase}), ex=3600)\n          │            │   │             │    │               └ [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]\n          │            │   │             │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │             └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:purchase:465576'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n           └ <_json.Encoder object at 0x000002637F168D00>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)\n\nTypeError: Object of type ProductPurchasePrice is not JSON serializable\n", "record": {"elapsed": {"repr": "0:03:30.243359", "seconds": 210.243359}, "exception": {"type": "TypeError", "value": "Object of type ProductPurchasePrice is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "[Redis] set purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:18.530842+02:00", "timestamp": 1754049618.530842}}}
{"text": "2025-08-01 14:00:18.560 | INFO     | app.main:request_tracking_middleware:116 - ✅ [8bf986c7] POST /api/v1/dashboard/fiche - 200 - 60.6ms\n", "record": {"elapsed": {"repr": "0:03:30.273505", "seconds": 210.273505}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [8bf986c7] POST /api/v1/dashboard/fiche - 200 - 60.6ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:18.560988+02:00", "timestamp": 1754049618.560988}}}
{"text": "2025-08-01 14:00:32.302 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [14f673d4] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:44.014602", "seconds": 224.014602}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [14f673d4] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:32.302085+02:00", "timestamp": 1754049632.302085}}}
{"text": "2025-08-01 14:00:32.486 | INFO     | app.main:request_tracking_middleware:116 - ✅ [14f673d4] GET /api/v1/suggestions/refint-codpro - 200 - 184.2ms\n", "record": {"elapsed": {"repr": "0:03:44.198729", "seconds": 224.198729}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [14f673d4] GET /api/v1/suggestions/refint-codpro - 200 - 184.2ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:32.486212+02:00", "timestamp": 1754049632.486212}}}
{"text": "2025-08-01 14:00:32.931 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [3540a0ce] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:44.643673", "seconds": 224.643673}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [3540a0ce] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:32.931156+02:00", "timestamp": 1754049632.931156}}}
{"text": "2025-08-01 14:00:33.096 | INFO     | app.main:request_tracking_middleware:116 - ✅ [3540a0ce] GET /api/v1/suggestions/refint-codpro - 200 - 165.4ms\n", "record": {"elapsed": {"repr": "0:03:44.809107", "seconds": 224.809107}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [3540a0ce] GET /api/v1/suggestions/refint-codpro - 200 - 165.4ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:33.096590+02:00", "timestamp": 1754049633.09659}}}
{"text": "2025-08-01 14:00:34.579 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [d00f6947] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:46.291971", "seconds": 226.291971}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [d00f6947] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:34.579454+02:00", "timestamp": 1754049634.579454}}}
{"text": "2025-08-01 14:00:34.584 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [8eb2bb18] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:46.297414", "seconds": 226.297414}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [8eb2bb18] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:34.584897+02:00", "timestamp": 1754049634.584897}}}
{"text": "2025-08-01 14:00:34.660 | INFO     | app.main:request_tracking_middleware:116 - ✅ [d00f6947] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 81.2ms\n", "record": {"elapsed": {"repr": "0:03:46.373181", "seconds": 226.373181}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [d00f6947] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 81.2ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:34.660664+02:00", "timestamp": 1754049634.660664}}}
{"text": "2025-08-01 14:00:34.681 | INFO     | app.main:request_tracking_middleware:116 - ✅ [8eb2bb18] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 96.9ms\n", "record": {"elapsed": {"repr": "0:03:46.394329", "seconds": 226.394329}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [8eb2bb18] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 96.9ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:34.681812+02:00", "timestamp": 1754049634.681812}}}
{"text": "2025-08-01 14:00:34.772 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [92874515] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:46.485414", "seconds": 226.485414}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [92874515] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:34.772897+02:00", "timestamp": 1754049634.772897}}}
{"text": "2025-08-01 14:00:34.959 | INFO     | app.main:request_tracking_middleware:116 - ✅ [92874515] GET /api/v1/suggestions/refint-codpro - 200 - 186.4ms\n", "record": {"elapsed": {"repr": "0:03:46.671822", "seconds": 226.671822}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [92874515] GET /api/v1/suggestions/refint-codpro - 200 - 186.4ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:34.959305+02:00", "timestamp": 1754049634.959305}}}
{"text": "2025-08-01 14:00:38.398 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [f5f87f4b] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:50.111115", "seconds": 230.111115}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [f5f87f4b] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.398598+02:00", "timestamp": 1754049638.398598}}}
{"text": "2025-08-01 14:00:38.405 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 1 cod_pro\n", "record": {"elapsed": {"repr": "0:03:50.118327", "seconds": 230.118327}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 1 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.405810+02:00", "timestamp": 1754049638.40581}}}
{"text": "2025-08-01 14:00:38.412 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:e316fbe2183ea4cf3769c70a72ff40a0\n", "record": {"elapsed": {"repr": "0:03:50.124835", "seconds": 230.124835}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:e316fbe2183ea4cf3769c70a72ff40a0", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.412318+02:00", "timestamp": 1754049638.412318}}}
{"text": "2025-08-01 14:00:38.413 | DEBUG    | app.services.products.detail_service:get_product_details:35 - ✅ Cache hit produit:details pour produit:details:20980\n", "record": {"elapsed": {"repr": "0:03:50.125943", "seconds": 230.125943}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "✅ Cache hit produit:details pour produit:details:20980", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.413426+02:00", "timestamp": 1754049638.413426}}}
{"text": "2025-08-01 14:00:38.413 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:79 - [Redis] set details\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF96CA0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF96CA0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663F120>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663EFC0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF967A0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF97560>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF967A0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663EFC0>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002637FEF4EF0>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002637FEF4EF0>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 77, in get_dashboard_fiche\n    await redis_client.set(key_details, json.dumps({\"products\": details}), ex=3600)\n          │            │   │            │    │                  └ [ProductDetail(cod_pro=20980, refint='D5022304', ref_ext='026850612', famille=8, s_famille=10, qualite='PMQ', statut=0, cod_f...\n          │            │   │            │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │            └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:products:20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'products': [ProductDetail(cod_pro=20980, refint='D5022304', ref_ext='026850612', famille=8, s_famille=10, qualite='PMQ', st...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'products': [ProductDetail(cod_pro=20980, refint='D5022304', ref_ext='026850612', famille=8, s_famille=10, qualite='PMQ', st...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'products': [ProductDetail(cod_pro=20980, refint='D5022304', ref_ext='026850612', famille=8, s_famille=10, qualite='PMQ', st...\n           └ <_json.Encoder object at 0x000002630662DD20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductDetail(cod_pro=20980, refint='D5022304', ref_ext='026850612', famille=8, s_famille=10, qualite='PMQ', statut=0, cod_fo...\n\nTypeError: Object of type ProductDetail is not JSON serializable\n", "record": {"elapsed": {"repr": "0:03:50.126482", "seconds": 230.126482}, "exception": {"type": "TypeError", "value": "Object of type ProductDetail is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 79, "message": "[Redis] set details", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.413965+02:00", "timestamp": 1754049638.413965}}}
{"text": "2025-08-01 14:00:38.427 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:e316fbe2183ea4cf3769c70a72ff40a0\n", "record": {"elapsed": {"repr": "0:03:50.139576", "seconds": 230.139576}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:e316fbe2183ea4cf3769c70a72ff40a0", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.427059+02:00", "timestamp": 1754049638.427059}}}
{"text": "2025-08-01 14:00:38.428 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:34 - ✅ Cache hit sales:agg pour sales:agg:20980\n", "record": {"elapsed": {"repr": "0:03:50.140737", "seconds": 230.140737}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 34, "message": "✅ Cache hit sales:agg pour sales:agg:20980", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.428220+02:00", "timestamp": 1754049638.42822}}}
{"text": "2025-08-01 14:00:38.428 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:86 - [Redis] set sales\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF96CA0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF96CA0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663F120>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663EFC0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF967A0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF97560>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF967A0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663EFC0>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002637FEF4EF0>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002637FEF4EF0>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 84, in get_dashboard_fiche\n    await redis_client.set(key_sales, json.dumps({\"items\": sales}), ex=3600)\n          │            │   │          │    │               └ [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, marge_perce...\n          │            │   │          │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │          └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:sales:20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, m...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, m...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, m...\n           └ <_json.Encoder object at 0x000002630662E740>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, marge_percen...\n\nTypeError: Object of type ProductSalesAggregate is not JSON serializable\n", "record": {"elapsed": {"repr": "0:03:50.141152", "seconds": 230.141152}, "exception": {"type": "TypeError", "value": "Object of type ProductSalesAggregate is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 86, "message": "[Redis] set sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.428635+02:00", "timestamp": 1754049638.428635}}}
{"text": "2025-08-01 14:00:38.443 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:e316fbe2183ea4cf3769c70a72ff40a0\n", "record": {"elapsed": {"repr": "0:03:50.156434", "seconds": 230.156434}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:e316fbe2183ea4cf3769c70a72ff40a0", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.443917+02:00", "timestamp": 1754049638.443917}}}
{"text": "2025-08-01 14:00:38.444 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [20980], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:03:50.157343", "seconds": 230.157343}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [20980], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.444826+02:00", "timestamp": 1754049638.444826}}}
{"text": "2025-08-01 14:00:38.446 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:e316fbe2183ea4cf3769c70a72ff40a0\n", "record": {"elapsed": {"repr": "0:03:50.158782", "seconds": 230.158782}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:e316fbe2183ea4cf3769c70a72ff40a0", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.446265+02:00", "timestamp": 1754049638.446265}}}
{"text": "2025-08-01 14:00:38.447 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:30 - ✅ Cache hit stock:actuel pour stock:actuel:20980\n", "record": {"elapsed": {"repr": "0:03:50.159716", "seconds": 230.159716}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit stock:actuel pour stock:actuel:20980", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.447199+02:00", "timestamp": 1754049638.447199}}}
{"text": "2025-08-01 14:00:38.447 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:96 - [Redis] set stock\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF96CA0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF96CA0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663F120>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663EFC0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF967A0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF97560>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF967A0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663EFC0>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002637FEF4EF0>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002637FEF4EF0>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 94, in get_dashboard_fiche\n    await redis_client.set(key_stock, json.dumps({\"items\": stock}), ex=3600)\n          │            │   │          │    │               └ [ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88), ProductStock(cod_pro=20980, depot=31, stock=0.0, pmp=3.6), Produc...\n          │            │   │          │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │          └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:stock:20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88), ProductStock(cod_pro=20980, depot=31, stock=0.0, pmp=3....\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88), ProductStock(cod_pro=20980, depot=31, stock=0.0, pmp=3....\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88), ProductStock(cod_pro=20980, depot=31, stock=0.0, pmp=3....\n           └ <_json.Encoder object at 0x000002637FEF4B80>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88)\n\nTypeError: Object of type ProductStock is not JSON serializable\n", "record": {"elapsed": {"repr": "0:03:50.160430", "seconds": 230.16043}, "exception": {"type": "TypeError", "value": "Object of type ProductStock is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 96, "message": "[Redis] set stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.447913+02:00", "timestamp": 1754049638.447913}}}
{"text": "2025-08-01 14:00:38.481 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:e316fbe2183ea4cf3769c70a72ff40a0\n", "record": {"elapsed": {"repr": "0:03:50.193689", "seconds": 230.193689}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:e316fbe2183ea4cf3769c70a72ff40a0", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.481172+02:00", "timestamp": 1754049638.481172}}}
{"text": "2025-08-01 14:00:38.482 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:32 - ✅ Cache hit purchase_price pour purchase:price:20980\n", "record": {"elapsed": {"repr": "0:03:50.194919", "seconds": 230.194919}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "✅ Cache hit purchase_price pour purchase:price:20980", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.482402+02:00", "timestamp": 1754049638.482402}}}
{"text": "2025-08-01 14:00:38.483 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:103 - [Redis] set purchase\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF96CA0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF96CA0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF974D0>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663F120>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF979C0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663EFC0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF967A0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF97560>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF96D40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF967A0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663EFC0>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002637FEF4EF0>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002637FEF4EF0>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 101, in get_dashboard_fiche\n    await redis_client.set(key_purchase, json.dumps({\"items\": purchase}), ex=3600)\n          │            │   │             │    │               └ [ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]\n          │            │   │             │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │             └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:purchase:20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]}\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]}\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]}\n           └ <_json.Encoder object at 0x000002637FEF4B80>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)\n\nTypeError: Object of type ProductPurchasePrice is not JSON serializable\n", "record": {"elapsed": {"repr": "0:03:50.195814", "seconds": 230.195814}, "exception": {"type": "TypeError", "value": "Object of type ProductPurchasePrice is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "[Redis] set purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.483297+02:00", "timestamp": 1754049638.483297}}}
{"text": "2025-08-01 14:00:38.501 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [a5167c2b] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:50.214083", "seconds": 230.214083}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [a5167c2b] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.501566+02:00", "timestamp": 1754049638.501566}}}
{"text": "2025-08-01 14:00:38.502 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 1 cod_pro\n", "record": {"elapsed": {"repr": "0:03:50.214882", "seconds": 230.214882}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 1 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.502365+02:00", "timestamp": 1754049638.502365}}}
{"text": "2025-08-01 14:00:38.506 | INFO     | app.main:request_tracking_middleware:116 - ✅ [a5167c2b] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 4.4ms\n", "record": {"elapsed": {"repr": "0:03:50.218586", "seconds": 230.218586}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [a5167c2b] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 4.4ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.506069+02:00", "timestamp": 1754049638.506069}}}
{"text": "2025-08-01 14:00:38.587 | DEBUG    | app.services.products.match_service:get_codpro_match_list:63 - ✅ Matches récupérés: 4 éléments uniques\n", "record": {"elapsed": {"repr": "0:03:50.300012", "seconds": 230.300012}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 63, "message": "✅ Matches récupérés: 4 éléments uniques", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.587495+02:00", "timestamp": 1754049638.587495}}}
{"text": "2025-08-01 14:00:38.591 | INFO     | app.main:request_tracking_middleware:116 - ✅ [f5f87f4b] POST /api/v1/dashboard/fiche - 200 - 193.1ms\n", "record": {"elapsed": {"repr": "0:03:50.304165", "seconds": 230.304165}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [f5f87f4b] POST /api/v1/dashboard/fiche - 200 - 193.1ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:38.591648+02:00", "timestamp": 1754049638.591648}}}
{"text": "2025-08-01 14:00:39.451 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [0cae884b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:51.164246", "seconds": 231.164246}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [0cae884b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:39.451729+02:00", "timestamp": 1754049639.451729}}}
{"text": "2025-08-01 14:00:39.802 | INFO     | app.main:request_tracking_middleware:116 - ✅ [0cae884b] GET /api/v1/suggestions/refint-codpro - 200 - 351.1ms\n", "record": {"elapsed": {"repr": "0:03:51.515286", "seconds": 231.515286}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [0cae884b] GET /api/v1/suggestions/refint-codpro - 200 - 351.1ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:39.802769+02:00", "timestamp": 1754049639.802769}}}
{"text": "2025-08-01 14:00:42.674 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [e8ce6b37] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:54.387069", "seconds": 234.387069}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [e8ce6b37] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.674552+02:00", "timestamp": 1754049642.674552}}}
{"text": "2025-08-01 14:00:42.679 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:03:54.392457", "seconds": 234.392457}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.679940+02:00", "timestamp": 1754049642.67994}}}
{"text": "2025-08-01 14:00:42.682 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:55 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:03:54.394519", "seconds": 234.394519}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 55, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.682002+02:00", "timestamp": 1754049642.682002}}}
{"text": "2025-08-01 14:00:42.683 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:59 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:03:54.395798", "seconds": 234.395798}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 59, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.683281+02:00", "timestamp": 1754049642.683281}}}
{"text": "2025-08-01 14:00:42.684 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:67 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:03:54.397359", "seconds": 234.397359}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 67, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.684842+02:00", "timestamp": 1754049642.684842}}}
{"text": "2025-08-01 14:00:42.686 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:03:54.398908", "seconds": 234.398908}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.686391+02:00", "timestamp": 1754049642.686391}}}
{"text": "2025-08-01 14:00:42.687 | DEBUG    | app.services.products.detail_service:get_product_details:35 - ✅ Cache hit produit:details pour produit:details:465576\n", "record": {"elapsed": {"repr": "0:03:54.400119", "seconds": 234.400119}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "✅ Cache hit produit:details pour produit:details:465576", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.687602+02:00", "timestamp": 1754049642.687602}}}
{"text": "2025-08-01 14:00:42.688 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:79 - [Redis] set details\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF974C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF974C0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF97570>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF97570>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF97570>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF97570>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663FC20>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85BC0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85BC0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85BC0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85BC0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85BC0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663D860>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF87E20>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85260>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF87E20>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663D860>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002630662E5D0>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002630662E5D0>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 77, in get_dashboard_fiche\n    await redis_client.set(key_details, json.dumps({\"products\": details}), ex=3600)\n          │            │   │            │    │                  └ [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', statut=0, cod_...\n          │            │   │            │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │            └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:products:465576'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n           └ <_json.Encoder object at 0x000002630662E9E0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', statut=0, cod_f...\n\nTypeError: Object of type ProductDetail is not JSON serializable\n", "record": {"elapsed": {"repr": "0:03:54.400791", "seconds": 234.400791}, "exception": {"type": "TypeError", "value": "Object of type ProductDetail is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 79, "message": "[Redis] set details", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.688274+02:00", "timestamp": 1754049642.688274}}}
{"text": "2025-08-01 14:00:42.714 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:03:54.427021", "seconds": 234.427021}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.714504+02:00", "timestamp": 1754049642.714504}}}
{"text": "2025-08-01 14:00:42.715 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:03:54.428264", "seconds": 234.428264}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.715747+02:00", "timestamp": 1754049642.715747}}}
{"text": "2025-08-01 14:00:42.717 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:03:54.429706", "seconds": 234.429706}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.717189+02:00", "timestamp": 1754049642.717189}}}
{"text": "2025-08-01 14:00:42.719 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:32 - ✅ Cache hit purchase_price pour purchase:price:465576\n", "record": {"elapsed": {"repr": "0:03:54.431953", "seconds": 234.431953}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "✅ Cache hit purchase_price pour purchase:price:465576", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.719436+02:00", "timestamp": 1754049642.719436}}}
{"text": "2025-08-01 14:00:42.723 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:103 - [Redis] set purchase\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF974C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF974C0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF97570>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF97570>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF97570>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF97570>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663FC20>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85BC0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85BC0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85BC0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85BC0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85BC0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663D860>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF87E20>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85260>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF979C0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF87E20>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663D860>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002630662E5D0>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002630662E5D0>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 101, in get_dashboard_fiche\n    await redis_client.set(key_purchase, json.dumps({\"items\": purchase}), ex=3600)\n          │            │   │             │    │               └ [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]\n          │            │   │             │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │             └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:purchase:465576'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n           └ <_json.Encoder object at 0x000002630662E9E0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)\n\nTypeError: Object of type ProductPurchasePrice is not JSON serializable\n", "record": {"elapsed": {"repr": "0:03:54.435890", "seconds": 234.43589}, "exception": {"type": "TypeError", "value": "Object of type ProductPurchasePrice is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "[Redis] set purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.723373+02:00", "timestamp": 1754049642.723373}}}
{"text": "2025-08-01 14:00:42.751 | INFO     | app.main:request_tracking_middleware:116 - ✅ [e8ce6b37] POST /api/v1/dashboard/fiche - 200 - 77.3ms\n", "record": {"elapsed": {"repr": "0:03:54.464384", "seconds": 234.464384}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [e8ce6b37] POST /api/v1/dashboard/fiche - 200 - 77.3ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:42.751867+02:00", "timestamp": 1754049642.751867}}}
{"text": "2025-08-01 14:00:48.014 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ffd1f411] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:59.727100", "seconds": 239.7271}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ffd1f411] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.014583+02:00", "timestamp": 1754049648.014583}}}
{"text": "2025-08-01 14:00:48.032 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=PMQ\n", "record": {"elapsed": {"repr": "0:03:59.744897", "seconds": 239.744897}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=PMQ", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.032380+02:00", "timestamp": 1754049648.03238}}}
{"text": "2025-08-01 14:00:48.042 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 2 cod_pro\n", "record": {"elapsed": {"repr": "0:03:59.755310", "seconds": 239.75531}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 2 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.042793+02:00", "timestamp": 1754049648.042793}}}
{"text": "2025-08-01 14:00:48.045 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:67 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:03:59.757745", "seconds": 239.757745}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 67, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.045228+02:00", "timestamp": 1754049648.045228}}}
{"text": "2025-08-01 14:00:48.046 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:03:59.758964", "seconds": 239.758964}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.046447+02:00", "timestamp": 1754049648.046447}}}
{"text": "2025-08-01 14:00:48.047 | DEBUG    | app.services.products.detail_service:get_product_details:35 - ✅ Cache hit produit:details pour produit:details:700,20980\n", "record": {"elapsed": {"repr": "0:03:59.760268", "seconds": 239.760268}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "✅ Cache hit produit:details pour produit:details:700,20980", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.047751+02:00", "timestamp": 1754049648.047751}}}
{"text": "2025-08-01 14:00:48.048 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:79 - [Redis] set details\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF97560>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF97560>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663DA70>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663DD30>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF85BC0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF863E0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF85BC0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663DD30>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002630662DF10>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002630662DF10>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 77, in get_dashboard_fiche\n    await redis_client.set(key_details, json.dumps({\"products\": details}), ex=3600)\n          │            │   │            │    │                  └ [ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', statut=0, cod_fo...\n          │            │   │            │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │            └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:products:700,20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'products': [ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', sta...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'products': [ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', sta...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'products': [ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', sta...\n           └ <_json.Encoder object at 0x000002630662E9E0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', statut=0, cod_fou...\n\nTypeError: Object of type ProductDetail is not JSON serializable\n", "record": {"elapsed": {"repr": "0:03:59.760808", "seconds": 239.760808}, "exception": {"type": "TypeError", "value": "Object of type ProductDetail is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 79, "message": "[Redis] set details", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.048291+02:00", "timestamp": 1754049648.048291}}}
{"text": "2025-08-01 14:00:48.066 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:03:59.778693", "seconds": 239.778693}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.066176+02:00", "timestamp": 1754049648.066176}}}
{"text": "2025-08-01 14:00:48.067 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:34 - ✅ Cache hit sales:agg pour sales:agg:700,20980\n", "record": {"elapsed": {"repr": "0:03:59.779896", "seconds": 239.779896}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 34, "message": "✅ Cache hit sales:agg pour sales:agg:700,20980", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.067379+02:00", "timestamp": 1754049648.067379}}}
{"text": "2025-08-01 14:00:48.067 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:86 - [Redis] set sales\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF97560>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF97560>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663DA70>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663DD30>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF85BC0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF863E0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF85BC0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663DD30>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002630662DF10>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002630662DF10>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 84, in get_dashboard_fiche\n    await redis_client.set(key_sales, json.dumps({\"items\": sales}), ex=3600)\n          │            │   │          │    │               └ [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, marge_perce...\n          │            │   │          │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │          └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:sales:700,20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, m...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, m...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, m...\n           └ <_json.Encoder object at 0x000002630662D9C0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, marge_percen...\n\nTypeError: Object of type ProductSalesAggregate is not JSON serializable\n", "record": {"elapsed": {"repr": "0:03:59.780473", "seconds": 239.780473}, "exception": {"type": "TypeError", "value": "Object of type ProductSalesAggregate is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 86, "message": "[Redis] set sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.067956+02:00", "timestamp": 1754049648.067956}}}
{"text": "2025-08-01 14:00:48.096 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:03:59.809367", "seconds": 239.809367}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.096850+02:00", "timestamp": 1754049648.09685}}}
{"text": "2025-08-01 14:00:48.097 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:03:59.810508", "seconds": 239.810508}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.097991+02:00", "timestamp": 1754049648.097991}}}
{"text": "2025-08-01 14:00:48.099 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:03:59.811830", "seconds": 239.81183}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.099313+02:00", "timestamp": 1754049648.099313}}}
{"text": "2025-08-01 14:00:48.100 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:30 - ✅ Cache hit stock:actuel pour stock:actuel:700,20980\n", "record": {"elapsed": {"repr": "0:03:59.812786", "seconds": 239.812786}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit stock:actuel pour stock:actuel:700,20980", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.100269+02:00", "timestamp": 1754049648.100269}}}
{"text": "2025-08-01 14:00:48.100 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:96 - [Redis] set stock\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF97560>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF97560>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663DA70>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663DD30>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF85BC0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF863E0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF85BC0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663DD30>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002630662DF10>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002630662DF10>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 94, in get_dashboard_fiche\n    await redis_client.set(key_stock, json.dumps({\"items\": stock}), ex=3600)\n          │            │   │          │    │               └ [ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91), ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88), Product...\n          │            │   │          │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │          └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:stock:700,20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91), ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91), ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91), ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88...\n           └ <_json.Encoder object at 0x000002630662E200>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91)\n\nTypeError: Object of type ProductStock is not JSON serializable\n", "record": {"elapsed": {"repr": "0:03:59.813368", "seconds": 239.813368}, "exception": {"type": "TypeError", "value": "Object of type ProductStock is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 96, "message": "[Redis] set stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.100851+02:00", "timestamp": 1754049648.100851}}}
{"text": "2025-08-01 14:00:48.138 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:03:59.851274", "seconds": 239.851274}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.138757+02:00", "timestamp": 1754049648.138757}}}
{"text": "2025-08-01 14:00:48.139 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:32 - ✅ Cache hit purchase_price pour purchase:price:700,20980\n", "record": {"elapsed": {"repr": "0:03:59.852438", "seconds": 239.852438}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "✅ Cache hit purchase_price pour purchase:price:700,20980", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.139921+02:00", "timestamp": 1754049648.139921}}}
{"text": "2025-08-01 14:00:48.140 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:103 - [Redis] set purchase\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF97560>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF97560>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF85450>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663DA70>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF85A80>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663DD30>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF85BC0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x000002637FF863E0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF974C0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x000002637FF85BC0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663DD30>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002630662DF10>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002630662DF10>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 101, in get_dashboard_fiche\n    await redis_client.set(key_purchase, json.dumps({\"items\": purchase}), ex=3600)\n          │            │   │             │    │               └ [ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8), ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]\n          │            │   │             │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │             └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:purchase:700,20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8), ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]}\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8), ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]}\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8), ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]}\n           └ <_json.Encoder object at 0x000002630662FCA0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8)\n\nTypeError: Object of type ProductPurchasePrice is not JSON serializable\n", "record": {"elapsed": {"repr": "0:03:59.853046", "seconds": 239.853046}, "exception": {"type": "TypeError", "value": "Object of type ProductPurchasePrice is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "[Redis] set purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.140529+02:00", "timestamp": 1754049648.140529}}}
{"text": "2025-08-01 14:00:48.205 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ffd1f411] POST /api/v1/dashboard/fiche - 200 - 190.5ms\n", "record": {"elapsed": {"repr": "0:03:59.917573", "seconds": 239.917573}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ffd1f411] POST /api/v1/dashboard/fiche - 200 - 190.5ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:48.205056+02:00", "timestamp": 1754049648.205056}}}
{"text": "2025-08-01 14:00:55.611 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5c9dbf9e] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:04:07.324300", "seconds": 247.3243}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5c9dbf9e] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.611783+02:00", "timestamp": 1754049655.611783}}}
{"text": "2025-08-01 14:00:55.631 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=OE\n", "record": {"elapsed": {"repr": "0:04:07.343851", "seconds": 247.343851}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=OE", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.631334+02:00", "timestamp": 1754049655.631334}}}
{"text": "2025-08-01 14:00:55.639 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 1 cod_pro\n", "record": {"elapsed": {"repr": "0:04:07.352240", "seconds": 247.35224}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 1 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.639723+02:00", "timestamp": 1754049655.639723}}}
{"text": "2025-08-01 14:00:55.641 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:55 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:04:07.353649", "seconds": 247.353649}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 55, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.641132+02:00", "timestamp": 1754049655.641132}}}
{"text": "2025-08-01 14:00:55.641 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:59 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:04:07.354503", "seconds": 247.354503}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 59, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.641986+02:00", "timestamp": 1754049655.641986}}}
{"text": "2025-08-01 14:00:55.643 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:67 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:04:07.356247", "seconds": 247.356247}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 67, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.643730+02:00", "timestamp": 1754049655.64373}}}
{"text": "2025-08-01 14:00:55.644 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:04:07.357482", "seconds": 247.357482}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.644965+02:00", "timestamp": 1754049655.644965}}}
{"text": "2025-08-01 14:00:55.646 | DEBUG    | app.services.products.detail_service:get_product_details:35 - ✅ Cache hit produit:details pour produit:details:465576\n", "record": {"elapsed": {"repr": "0:04:07.358922", "seconds": 247.358922}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "✅ Cache hit produit:details pour produit:details:465576", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.646405+02:00", "timestamp": 1754049655.646405}}}
{"text": "2025-08-01 14:00:55.647 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:79 - [Redis] set details\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF85440>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF85440>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF87E30>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF87E30>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF87E30>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF87E30>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663C520>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663E620>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026306660AE0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662840>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000026306660AE0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663E620>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002630662DE50>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002630662DE50>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 77, in get_dashboard_fiche\n    await redis_client.set(key_details, json.dumps({\"products\": details}), ex=3600)\n          │            │   │            │    │                  └ [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', statut=0, cod_...\n          │            │   │            │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │            └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:products:465576'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n           └ <_json.Encoder object at 0x000002630662DA80>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', statut=0, cod_f...\n\nTypeError: Object of type ProductDetail is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:07.359587", "seconds": 247.359587}, "exception": {"type": "TypeError", "value": "Object of type ProductDetail is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 79, "message": "[Redis] set details", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.647070+02:00", "timestamp": 1754049655.64707}}}
{"text": "2025-08-01 14:00:55.658 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:04:07.370542", "seconds": 247.370542}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.658025+02:00", "timestamp": 1754049655.658025}}}
{"text": "2025-08-01 14:00:55.659 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:04:07.371673", "seconds": 247.371673}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.659156+02:00", "timestamp": 1754049655.659156}}}
{"text": "2025-08-01 14:00:55.660 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:04:07.372931", "seconds": 247.372931}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.660414+02:00", "timestamp": 1754049655.660414}}}
{"text": "2025-08-01 14:00:55.661 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:32 - ✅ Cache hit purchase_price pour purchase:price:465576\n", "record": {"elapsed": {"repr": "0:04:07.373915", "seconds": 247.373915}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "✅ Cache hit purchase_price pour purchase:price:465576", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.661398+02:00", "timestamp": 1754049655.661398}}}
{"text": "2025-08-01 14:00:55.661 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:103 - [Redis] set purchase\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF85440>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF85440>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF87E30>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF87E30>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF87E30>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF87E30>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002630663C520>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002630663E620>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026306660AE0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662840>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF859E0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000026306660AE0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002630663E620>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002630662DE50>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002630662DE50>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 101, in get_dashboard_fiche\n    await redis_client.set(key_purchase, json.dumps({\"items\": purchase}), ex=3600)\n          │            │   │             │    │               └ [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]\n          │            │   │             │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │             └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:purchase:465576'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n           └ <_json.Encoder object at 0x000002630662E380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)\n\nTypeError: Object of type ProductPurchasePrice is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:07.374270", "seconds": 247.37427}, "exception": {"type": "TypeError", "value": "Object of type ProductPurchasePrice is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "[Redis] set purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.661753+02:00", "timestamp": 1754049655.661753}}}
{"text": "2025-08-01 14:00:55.690 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5c9dbf9e] POST /api/v1/dashboard/fiche - 200 - 78.3ms\n", "record": {"elapsed": {"repr": "0:04:07.402617", "seconds": 247.402617}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5c9dbf9e] POST /api/v1/dashboard/fiche - 200 - 78.3ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:00:55.690100+02:00", "timestamp": 1754049655.6901}}}
{"text": "2025-08-01 14:01:00.304 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [e9a36110] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:04:12.016897", "seconds": 252.016897}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [e9a36110] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.304380+02:00", "timestamp": 1754049660.30438}}}
{"text": "2025-08-01 14:01:00.307 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:04:12.020398", "seconds": 252.020398}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.307881+02:00", "timestamp": 1754049660.307881}}}
{"text": "2025-08-01 14:01:00.309 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:55 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:04:12.022104", "seconds": 252.022104}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 55, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.309587+02:00", "timestamp": 1754049660.309587}}}
{"text": "2025-08-01 14:01:00.310 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:59 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:04:12.023088", "seconds": 252.023088}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 59, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.310571+02:00", "timestamp": 1754049660.310571}}}
{"text": "2025-08-01 14:01:00.311 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:67 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:04:12.024474", "seconds": 252.024474}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 67, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.311957+02:00", "timestamp": 1754049660.311957}}}
{"text": "2025-08-01 14:01:00.313 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:04:12.025861", "seconds": 252.025861}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.313344+02:00", "timestamp": 1754049660.313344}}}
{"text": "2025-08-01 14:01:00.314 | DEBUG    | app.services.products.detail_service:get_product_details:35 - ✅ Cache hit produit:details pour produit:details:465576\n", "record": {"elapsed": {"repr": "0:04:12.026948", "seconds": 252.026948}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "✅ Cache hit produit:details pour produit:details:465576", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.314431+02:00", "timestamp": 1754049660.314431}}}
{"text": "2025-08-01 14:01:00.315 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:79 - [Redis] set details\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF96E80>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF96E80>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF859F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF859F0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF859F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF859F0>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002637FF4BE30>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002637FF4B6A0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026306662F20>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662700>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000026306662F20>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002637FF4B6A0>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671790>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671790>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 77, in get_dashboard_fiche\n    await redis_client.set(key_details, json.dumps({\"products\": details}), ex=3600)\n          │            │   │            │    │                  └ [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', statut=0, cod_...\n          │            │   │            │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │            └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:products:465576'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n           └ <_json.Encoder object at 0x000002630662FB20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', statut=0, cod_f...\n\nTypeError: Object of type ProductDetail is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:12.027531", "seconds": 252.027531}, "exception": {"type": "TypeError", "value": "Object of type ProductDetail is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 79, "message": "[Redis] set details", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.315014+02:00", "timestamp": 1754049660.315014}}}
{"text": "2025-08-01 14:01:00.335 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:04:12.047897", "seconds": 252.047897}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.335380+02:00", "timestamp": 1754049660.33538}}}
{"text": "2025-08-01 14:01:00.336 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:04:12.049021", "seconds": 252.049021}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.336504+02:00", "timestamp": 1754049660.336504}}}
{"text": "2025-08-01 14:01:00.337 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:04:12.050261", "seconds": 252.050261}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.337744+02:00", "timestamp": 1754049660.337744}}}
{"text": "2025-08-01 14:01:00.338 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:32 - ✅ Cache hit purchase_price pour purchase:price:465576\n", "record": {"elapsed": {"repr": "0:04:12.051209", "seconds": 252.051209}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "✅ Cache hit purchase_price pour purchase:price:465576", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.338692+02:00", "timestamp": 1754049660.338692}}}
{"text": "2025-08-01 14:01:00.339 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:103 - [Redis] set purchase\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF96E80>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x000002637FF96E80>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF859F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF859F0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x000002637FF859F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x000002637FF859F0>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002637FF4BE30>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002637FF4B6A0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026306662F20>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662700>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x000002637FF940E0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000026306662F20>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002637FF4B6A0>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671790>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671790>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 101, in get_dashboard_fiche\n    await redis_client.set(key_purchase, json.dumps({\"items\": purchase}), ex=3600)\n          │            │   │             │    │               └ [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]\n          │            │   │             │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │             └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:purchase:465576'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n           └ <_json.Encoder object at 0x000002630662E2C0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)\n\nTypeError: Object of type ProductPurchasePrice is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:12.052297", "seconds": 252.052297}, "exception": {"type": "TypeError", "value": "Object of type ProductPurchasePrice is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "[Redis] set purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.339780+02:00", "timestamp": 1754049660.33978}}}
{"text": "2025-08-01 14:01:00.371 | INFO     | app.main:request_tracking_middleware:116 - ✅ [e9a36110] POST /api/v1/dashboard/fiche - 200 - 67.2ms\n", "record": {"elapsed": {"repr": "0:04:12.084137", "seconds": 252.084137}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [e9a36110] POST /api/v1/dashboard/fiche - 200 - 67.2ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:00.371620+02:00", "timestamp": 1754049660.37162}}}
{"text": "2025-08-01 14:01:07.875 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [f191f3d1] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:04:19.588272", "seconds": 259.588272}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [f191f3d1] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.875755+02:00", "timestamp": 1754049667.875755}}}
{"text": "2025-08-01 14:01:07.879 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:04:19.591932", "seconds": 259.591932}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.879415+02:00", "timestamp": 1754049667.879415}}}
{"text": "2025-08-01 14:01:07.880 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:55 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:04:19.593502", "seconds": 259.593502}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 55, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.880985+02:00", "timestamp": 1754049667.880985}}}
{"text": "2025-08-01 14:01:07.882 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:59 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:04:19.594647", "seconds": 259.594647}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 59, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.882130+02:00", "timestamp": 1754049667.88213}}}
{"text": "2025-08-01 14:01:07.883 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:67 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:04:19.596181", "seconds": 259.596181}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 67, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.883664+02:00", "timestamp": 1754049667.883664}}}
{"text": "2025-08-01 14:01:07.884 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:04:19.597507", "seconds": 259.597507}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.884990+02:00", "timestamp": 1754049667.88499}}}
{"text": "2025-08-01 14:01:07.886 | DEBUG    | app.services.products.detail_service:get_product_details:35 - ✅ Cache hit produit:details pour produit:details:465576\n", "record": {"elapsed": {"repr": "0:04:19.598538", "seconds": 259.598538}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "✅ Cache hit produit:details pour produit:details:465576", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.886021+02:00", "timestamp": 1754049667.886021}}}
{"text": "2025-08-01 14:01:07.886 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:79 - [Redis] set details\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000263066622A0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000263066622A0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661310>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661310>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661310>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x0000026306661310>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002637FF4BC20>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000263066602C0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000263066602C0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000263066602C0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000263066602C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000263066602C0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002637FF4BAC0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026306660360>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660AE0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000026306660360>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002637FF4BAC0>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671E50>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671E50>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 77, in get_dashboard_fiche\n    await redis_client.set(key_details, json.dumps({\"products\": details}), ex=3600)\n          │            │   │            │    │                  └ [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', statut=0, cod_...\n          │            │   │            │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │            └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:products:465576'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'products': [ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', s...\n           └ <_json.Encoder object at 0x0000026306671780>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductDetail(cod_pro=465576, refint='D9422317', ref_ext='5010285704', famille=2, s_famille=11, qualite='OE', statut=0, cod_f...\n\nTypeError: Object of type ProductDetail is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:19.599209", "seconds": 259.599209}, "exception": {"type": "TypeError", "value": "Object of type ProductDetail is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 79, "message": "[Redis] set details", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.886692+02:00", "timestamp": 1754049667.886692}}}
{"text": "2025-08-01 14:01:07.903 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:04:19.615693", "seconds": 259.615693}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.903176+02:00", "timestamp": 1754049667.903176}}}
{"text": "2025-08-01 14:01:07.904 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:04:19.617047", "seconds": 259.617047}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.904530+02:00", "timestamp": 1754049667.90453}}}
{"text": "2025-08-01 14:01:07.905 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:04:19.618358", "seconds": 259.618358}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.905841+02:00", "timestamp": 1754049667.905841}}}
{"text": "2025-08-01 14:01:07.907 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:32 - ✅ Cache hit purchase_price pour purchase:price:465576\n", "record": {"elapsed": {"repr": "0:04:19.619590", "seconds": 259.61959}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "✅ Cache hit purchase_price pour purchase:price:465576", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.907073+02:00", "timestamp": 1754049667.907073}}}
{"text": "2025-08-01 14:01:07.907 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:103 - [Redis] set purchase\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000263066622A0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000263066622A0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661310>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661310>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661310>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x0000026306661310>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002637FF4BC20>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000263066602C0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000263066602C0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000263066602C0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000263066602C0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x00000263066602C0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002637FF4BAC0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026306660360>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660AE0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000263066627A0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000026306660360>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002637FF4BAC0>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671E50>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671E50>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 101, in get_dashboard_fiche\n    await redis_client.set(key_purchase, json.dumps({\"items\": purchase}), ex=3600)\n          │            │   │             │    │               └ [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]\n          │            │   │             │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │             └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:purchase:465576'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)]}\n           └ <_json.Encoder object at 0x0000026306671780>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductPurchasePrice(cod_pro=465576, px_achat_eur=8.1977)\n\nTypeError: Object of type ProductPurchasePrice is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:19.620271", "seconds": 259.620271}, "exception": {"type": "TypeError", "value": "Object of type ProductPurchasePrice is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "[Redis] set purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.907754+02:00", "timestamp": 1754049667.907754}}}
{"text": "2025-08-01 14:01:07.927 | INFO     | app.main:request_tracking_middleware:116 - ✅ [f191f3d1] POST /api/v1/dashboard/fiche - 200 - 51.4ms\n", "record": {"elapsed": {"repr": "0:04:19.639634", "seconds": 259.639634}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [f191f3d1] POST /api/v1/dashboard/fiche - 200 - 51.4ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:07.927117+02:00", "timestamp": 1754049667.927117}}}
{"text": "2025-08-01 14:01:13.305 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [67f34379] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:04:25.017806", "seconds": 265.017806}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [67f34379] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.305289+02:00", "timestamp": 1754049673.305289}}}
{"text": "2025-08-01 14:01:13.309 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:04:25.021751", "seconds": 265.021751}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.309234+02:00", "timestamp": 1754049673.309234}}}
{"text": "2025-08-01 14:01:13.313 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:67 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:04:25.025848", "seconds": 265.025848}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 67, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.313331+02:00", "timestamp": 1754049673.313331}}}
{"text": "2025-08-01 14:01:13.315 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:04:25.028486", "seconds": 265.028486}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.315969+02:00", "timestamp": 1754049673.315969}}}
{"text": "2025-08-01 14:01:13.317 | DEBUG    | app.services.products.detail_service:get_product_details:35 - ✅ Cache hit produit:details pour produit:details:700,20980\n", "record": {"elapsed": {"repr": "0:04:25.029923", "seconds": 265.029923}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "✅ Cache hit produit:details pour produit:details:700,20980", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.317406+02:00", "timestamp": 1754049673.317406}}}
{"text": "2025-08-01 14:01:13.318 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:79 - [Redis] set details\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306661DA0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306661DA0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002637FF4B070>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002637FF48E10>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000263066602C0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x00000263066602C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002637FF48E10>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671C10>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671C10>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 77, in get_dashboard_fiche\n    await redis_client.set(key_details, json.dumps({\"products\": details}), ex=3600)\n          │            │   │            │    │                  └ [ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', statut=0, cod_fo...\n          │            │   │            │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │            └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:products:700,20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'products': [ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', sta...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'products': [ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', sta...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'products': [ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', sta...\n           └ <_json.Encoder object at 0x000002630662FE20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', statut=0, cod_fou...\n\nTypeError: Object of type ProductDetail is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:25.030938", "seconds": 265.030938}, "exception": {"type": "TypeError", "value": "Object of type ProductDetail is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 79, "message": "[Redis] set details", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.318421+02:00", "timestamp": 1754049673.318421}}}
{"text": "2025-08-01 14:01:13.342 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:04:25.055142", "seconds": 265.055142}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.342625+02:00", "timestamp": 1754049673.342625}}}
{"text": "2025-08-01 14:01:13.343 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:34 - ✅ Cache hit sales:agg pour sales:agg:700,20980\n", "record": {"elapsed": {"repr": "0:04:25.056336", "seconds": 265.056336}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 34, "message": "✅ Cache hit sales:agg pour sales:agg:700,20980", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.343819+02:00", "timestamp": 1754049673.343819}}}
{"text": "2025-08-01 14:01:13.344 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:86 - [Redis] set sales\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306661DA0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306661DA0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002637FF4B070>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002637FF48E10>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000263066602C0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x00000263066602C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002637FF48E10>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671C10>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671C10>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 84, in get_dashboard_fiche\n    await redis_client.set(key_sales, json.dumps({\"items\": sales}), ex=3600)\n          │            │   │          │    │               └ [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, marge_perce...\n          │            │   │          │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │          └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:sales:700,20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, m...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, m...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, m...\n           └ <_json.Encoder object at 0x0000026306670A60>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, marge_percen...\n\nTypeError: Object of type ProductSalesAggregate is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:25.057148", "seconds": 265.057148}, "exception": {"type": "TypeError", "value": "Object of type ProductSalesAggregate is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 86, "message": "[Redis] set sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.344631+02:00", "timestamp": 1754049673.344631}}}
{"text": "2025-08-01 14:01:13.387 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:04:25.100118", "seconds": 265.100118}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.387601+02:00", "timestamp": 1754049673.387601}}}
{"text": "2025-08-01 14:01:13.388 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:04:25.101425", "seconds": 265.101425}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.388908+02:00", "timestamp": 1754049673.388908}}}
{"text": "2025-08-01 14:01:13.390 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:04:25.102565", "seconds": 265.102565}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.390048+02:00", "timestamp": 1754049673.390048}}}
{"text": "2025-08-01 14:01:13.391 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:30 - ✅ Cache hit stock:actuel pour stock:actuel:700,20980\n", "record": {"elapsed": {"repr": "0:04:25.103804", "seconds": 265.103804}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit stock:actuel pour stock:actuel:700,20980", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.391287+02:00", "timestamp": 1754049673.391287}}}
{"text": "2025-08-01 14:01:13.391 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:96 - [Redis] set stock\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306661DA0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306661DA0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002637FF4B070>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002637FF48E10>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000263066602C0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x00000263066602C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002637FF48E10>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671C10>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671C10>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 94, in get_dashboard_fiche\n    await redis_client.set(key_stock, json.dumps({\"items\": stock}), ex=3600)\n          │            │   │          │    │               └ [ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91), ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88), Product...\n          │            │   │          │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │          └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:stock:700,20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91), ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91), ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91), ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88...\n           └ <_json.Encoder object at 0x000002630662E9E0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91)\n\nTypeError: Object of type ProductStock is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:25.104496", "seconds": 265.104496}, "exception": {"type": "TypeError", "value": "Object of type ProductStock is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 96, "message": "[Redis] set stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.391979+02:00", "timestamp": 1754049673.391979}}}
{"text": "2025-08-01 14:01:13.433 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:04:25.145829", "seconds": 265.145829}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.433312+02:00", "timestamp": 1754049673.433312}}}
{"text": "2025-08-01 14:01:13.434 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:32 - ✅ Cache hit purchase_price pour purchase:price:700,20980\n", "record": {"elapsed": {"repr": "0:04:25.146975", "seconds": 265.146975}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "✅ Cache hit purchase_price pour purchase:price:700,20980", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.434458+02:00", "timestamp": 1754049673.434458}}}
{"text": "2025-08-01 14:01:13.435 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:103 - [Redis] set purchase\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306661DA0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306661DA0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x00000263066622B0>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002637FF4B070>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662D40>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002637FF48E10>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x00000263066602C0>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306662F20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306660CC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x00000263066602C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002637FF48E10>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671C10>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x0000026306671C10>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 101, in get_dashboard_fiche\n    await redis_client.set(key_purchase, json.dumps({\"items\": purchase}), ex=3600)\n          │            │   │             │    │               └ [ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8), ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]\n          │            │   │             │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │             └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:purchase:700,20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8), ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]}\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8), ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]}\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8), ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]}\n           └ <_json.Encoder object at 0x00000263066703A0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8)\n\nTypeError: Object of type ProductPurchasePrice is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:25.147868", "seconds": 265.147868}, "exception": {"type": "TypeError", "value": "Object of type ProductPurchasePrice is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "[Redis] set purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.435351+02:00", "timestamp": 1754049673.435351}}}
{"text": "2025-08-01 14:01:13.458 | INFO     | app.main:request_tracking_middleware:116 - ✅ [67f34379] POST /api/v1/dashboard/fiche - 200 - 151.1ms\n", "record": {"elapsed": {"repr": "0:04:25.171395", "seconds": 265.171395}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [67f34379] POST /api/v1/dashboard/fiche - 200 - 151.1ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:13.458878+02:00", "timestamp": 1754049673.458878}}}
{"text": "2025-08-01 14:01:19.262 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [814e6935] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:04:30.975426", "seconds": 270.975426}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [814e6935] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.262909+02:00", "timestamp": 1754049679.262909}}}
{"text": "2025-08-01 14:01:19.283 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=PMQ\n", "record": {"elapsed": {"repr": "0:04:30.995831", "seconds": 270.995831}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=PMQ", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.283314+02:00", "timestamp": 1754049679.283314}}}
{"text": "2025-08-01 14:01:19.293 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 2 cod_pro\n", "record": {"elapsed": {"repr": "0:04:31.006188", "seconds": 271.006188}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 2 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.293671+02:00", "timestamp": 1754049679.293671}}}
{"text": "2025-08-01 14:01:19.297 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:67 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:04:31.009689", "seconds": 271.009689}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 67, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.297172+02:00", "timestamp": 1754049679.297172}}}
{"text": "2025-08-01 14:01:19.298 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:04:31.011014", "seconds": 271.011014}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.298497+02:00", "timestamp": 1754049679.298497}}}
{"text": "2025-08-01 14:01:19.299 | DEBUG    | app.services.products.detail_service:get_product_details:35 - ✅ Cache hit produit:details pour produit:details:700,20980\n", "record": {"elapsed": {"repr": "0:04:31.012418", "seconds": 271.012418}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "✅ Cache hit produit:details pour produit:details:700,20980", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.299901+02:00", "timestamp": 1754049679.299901}}}
{"text": "2025-08-01 14:01:19.300 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:79 - [Redis] set details\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306662160>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306662160>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002637F086780>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002637FDF71D0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026306662D40>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000026306662D40>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002637FDF71D0>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002630662E9F0>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002630662E9F0>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 77, in get_dashboard_fiche\n    await redis_client.set(key_details, json.dumps({\"products\": details}), ex=3600)\n          │            │   │            │    │                  └ [ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', statut=0, cod_fo...\n          │            │   │            │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │            └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:products:700,20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'products': [ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', sta...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'products': [ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', sta...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'products': [ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', sta...\n           └ <_json.Encoder object at 0x0000026306671F00>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductDetail(cod_pro=700, refint='D5022303', ref_ext='5010285704', famille=8, s_famille=10, qualite='PMQ', statut=0, cod_fou...\n\nTypeError: Object of type ProductDetail is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:31.013006", "seconds": 271.013006}, "exception": {"type": "TypeError", "value": "Object of type ProductDetail is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 79, "message": "[Redis] set details", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.300489+02:00", "timestamp": 1754049679.300489}}}
{"text": "2025-08-01 14:01:19.319 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:04:31.031744", "seconds": 271.031744}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.319227+02:00", "timestamp": 1754049679.319227}}}
{"text": "2025-08-01 14:01:19.320 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:34 - ✅ Cache hit sales:agg pour sales:agg:700,20980\n", "record": {"elapsed": {"repr": "0:04:31.032815", "seconds": 271.032815}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 34, "message": "✅ Cache hit sales:agg pour sales:agg:700,20980", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.320298+02:00", "timestamp": 1754049679.320298}}}
{"text": "2025-08-01 14:01:19.321 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:86 - [Redis] set sales\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306662160>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306662160>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002637F086780>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002637FDF71D0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026306662D40>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000026306662D40>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002637FDF71D0>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002630662E9F0>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002630662E9F0>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 84, in get_dashboard_fiche\n    await redis_client.set(key_sales, json.dumps({\"items\": sales}), ex=3600)\n          │            │   │          │    │               └ [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, marge_perce...\n          │            │   │          │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │          └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:sales:700,20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, m...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, m...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, m...\n           └ <_json.Encoder object at 0x0000026306670700>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductSalesAggregate(cod_pro=20980, refint='D5022304', ca_total=100.92, marge_total=24.04, quantite_total=11.0, marge_percen...\n\nTypeError: Object of type ProductSalesAggregate is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:31.033563", "seconds": 271.033563}, "exception": {"type": "TypeError", "value": "Object of type ProductSalesAggregate is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 86, "message": "[Redis] set sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.321046+02:00", "timestamp": 1754049679.321046}}}
{"text": "2025-08-01 14:01:19.350 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:04:31.063181", "seconds": 271.063181}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.350664+02:00", "timestamp": 1754049679.350664}}}
{"text": "2025-08-01 14:01:19.351 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:04:31.064172", "seconds": 271.064172}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.351655+02:00", "timestamp": 1754049679.351655}}}
{"text": "2025-08-01 14:01:19.353 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:04:31.065649", "seconds": 271.065649}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.353132+02:00", "timestamp": 1754049679.353132}}}
{"text": "2025-08-01 14:01:19.354 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:30 - ✅ Cache hit stock:actuel pour stock:actuel:700,20980\n", "record": {"elapsed": {"repr": "0:04:31.066682", "seconds": 271.066682}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit stock:actuel pour stock:actuel:700,20980", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.354165+02:00", "timestamp": 1754049679.354165}}}
{"text": "2025-08-01 14:01:19.354 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:96 - [Redis] set stock\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306662160>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306662160>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002637F086780>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002637FDF71D0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026306662D40>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000026306662D40>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002637FDF71D0>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002630662E9F0>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002630662E9F0>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 94, in get_dashboard_fiche\n    await redis_client.set(key_stock, json.dumps({\"items\": stock}), ex=3600)\n          │            │   │          │    │               └ [ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91), ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88), Product...\n          │            │   │          │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │          └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:stock:700,20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91), ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88...\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91), ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88...\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91), ProductStock(cod_pro=20980, depot=1, stock=3.0, pmp=7.88...\n           └ <_json.Encoder object at 0x0000026306671120>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductStock(cod_pro=700, depot=1, stock=11.0, pmp=1.91)\n\nTypeError: Object of type ProductStock is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:31.067289", "seconds": 271.067289}, "exception": {"type": "TypeError", "value": "Object of type ProductStock is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 96, "message": "[Redis] set stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.354772+02:00", "timestamp": 1754049679.354772}}}
{"text": "2025-08-01 14:01:19.389 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:04:31.101765", "seconds": 271.101765}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.389248+02:00", "timestamp": 1754049679.389248}}}
{"text": "2025-08-01 14:01:19.390 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:32 - ✅ Cache hit purchase_price pour purchase:price:700,20980\n", "record": {"elapsed": {"repr": "0:04:31.102851", "seconds": 271.102851}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "✅ Cache hit purchase_price pour purchase:price:700,20980", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.390334+02:00", "timestamp": 1754049679.390334}}}
{"text": "2025-08-01 14:01:19.390 | ERROR    | app.services.dashboard.dashboard_service:get_dashboard_fiche:103 - [Redis] set purchase\nTraceback (most recent call last):\n\n  File \"<string>\", line 1, in <module>\n    from multiprocessing.spawn import spawn_main; spawn_main(parent_pid=8548, pipe_handle=404)\n                                      │           └ <function spawn_main at 0x000002637A446980>\n                                      └ <function spawn_main at 0x000002637A446980>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n               │     │   └ 264\n               │     └ 3\n               └ <function _main at 0x000002637A446A20>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n           │    │          └ 264\n           │    └ <function BaseProcess._bootstrap at 0x000002637A137B00>\n           └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 313, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x000002637A137060>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\multiprocessing\\process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000002637C686E40>, 'target': <bound method Server.run of <uvicorn.server.Server...\n    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    │        │    └ ()\n    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n    │    └ <function subprocess_started at 0x000002637C632980>\n    └ <SpawnProcess name='SpawnProcess-3' parent=8548 started>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\_subprocess.py\", line 80, in subprocess_started\n    target(sockets=sockets)\n    │              └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002637C686F90>>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\server.py\", line 67, in run\n    return asyncio.run(self.serve(sockets=sockets))\n           │       │   │    │             └ [<socket.socket fd=516, family=2, type=1, proto=6, laddr=('0.0.0.0', 5180)>]\n           │       │   │    └ <function Server.serve at 0x000002637C631940>\n           │       │   └ <uvicorn.server.Server object at 0x000002637C686F90>\n           │       └ <function run at 0x000002637BE03420>\n           └ <module 'asyncio' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\asyncio\\\\__init__.py'>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 195, in run\n    return runner.run(main)\n           │      │   └ <coroutine object Server.serve at 0x000002637C745EE0>\n           │      └ <function Runner.run at 0x000002637C2D3B00>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\uvicorn\\...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x000002637C2D16C0>\n           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x000002637C687CB0>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 712, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x000002637C2D1620>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 683, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x000002637C2D3420>\n    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\base_events.py\", line 2040, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x000002637BDEE660>\n    └ <Handle Task.task_wakeup()>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\asyncio\\events.py\", line 89, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup()>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306662160>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x000002637FECD940>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '127.0.0.1:5180', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:141.0) Gecko/20100101 Firefox/...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x0000026306662160>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function CORSMiddleware.simple_response at 0x000002637D7D5080>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.gzip.GZipMiddleware object at 0x000002637FECD6A0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n          │         │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n          │         │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │         └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n                           │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x000002637FECD7F0...\n                           │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n          │    │   │      │        │    └ <function IdentityResponder.send_with_compression at 0x000002637D7D7600>\n          │    │   │      │        └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <bound method IdentityResponder.send_with_compression of <starlette.middleware.gzip.GZipResponder object at 0x0000026306661A90>>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    │    └ <starlette.requests.Request object at 0x000002637F086780>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002637FECD550>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>>\n          └ <fastapi.routing.APIRouter object at 0x000002637FE5E5D0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │     └ <function Route.handle at 0x000002637D735D00>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │    └ <function request_response.<locals>.app at 0x000002637FED1260>\n          └ APIRoute(path='/api/v1/dashboard/fiche', name='dashboard_fiche', methods=['POST'])\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306661300>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          │                            │    └ <starlette.requests.Request object at 0x000002637FDF71D0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x0000026306662D40>\n          └ <function wrap_app_handling_exceptions at 0x000002637D734540>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x0000026306660360>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x0000026306662AC0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 5180), 'cl...\n          └ <function request_response.<locals>.app.<locals>.app at 0x0000026306662D40>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x000002637FDF71D0>\n                     └ <function get_request_handler.<locals>.app at 0x000002637FED11C0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x000002637D7340E0>\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'db': <sqlalchemy.orm.session.AsyncSession object at 0x000002630662E9F0>, 'payload': DashboardFilterRequest(cod_pro=20980, r...\n                 │         └ <function dashboard_fiche at 0x000002637FAD1120>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\dashboard\\dashboard_router.py\", line 18, in dashboard_fiche\n    return await get_dashboard_fiche(payload, db)\n                 │                   │        └ <sqlalchemy.orm.session.AsyncSession object at 0x000002630662E9F0>\n                 │                   └ DashboardFilterRequest(cod_pro=20980, ref_crn=None, refint=None, ref_ext=None, cod_pro_list=[], famille=None, s_famille=None,...\n                 └ <function get_dashboard_fiche at 0x000002637FAD13A0>\n\n> File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py\", line 101, in get_dashboard_fiche\n    await redis_client.set(key_purchase, json.dumps({\"items\": purchase}), ex=3600)\n          │            │   │             │    │               └ [ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8), ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]\n          │            │   │             │    └ <function dumps at 0x000002637C38ACA0>\n          │            │   │             └ <module 'json' from 'C:\\\\Program Files (x86)\\\\Python\\\\Python313\\\\Lib\\\\json\\\\__init__.py'>\n          │            │   └ 'dashboard:purchase:700,20980'\n          │            └ <function BasicKeyCommands.set at 0x000002637F5502C0>\n          └ <redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(host=localhost,port...\n\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\__init__.py\", line 231, in dumps\n    return _default_encoder.encode(obj)\n           │                │      └ {'items': [ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8), ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]}\n           │                └ <function JSONEncoder.encode at 0x000002637C38B240>\n           └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n             │    │          └ {'items': [ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8), ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]}\n             │    └ <function JSONEncoder.iterencode at 0x000002637C38B2E0>\n             └ <json.encoder.JSONEncoder object at 0x000002637BE23380>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n           │           └ {'items': [ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8), ProductPurchasePrice(cod_pro=20980, px_achat_eur=7.88)]}\n           └ <_json.Encoder object at 0x0000026306670A00>\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                                      │ │         └ <member '__name__' of 'getset_descriptor' objects>\n                                      │ └ <attribute '__class__' of 'object' objects>\n                                      └ ProductPurchasePrice(cod_pro=700, px_achat_eur=1.8)\n\nTypeError: Object of type ProductPurchasePrice is not JSON serializable\n", "record": {"elapsed": {"repr": "0:04:31.103380", "seconds": 271.10338}, "exception": {"type": "TypeError", "value": "Object of type ProductPurchasePrice is not JSON serializable", "traceback": true}, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 103, "message": "[Redis] set purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.390863+02:00", "timestamp": 1754049679.390863}}}
{"text": "2025-08-01 14:01:19.438 | INFO     | app.main:request_tracking_middleware:116 - ✅ [814e6935] POST /api/v1/dashboard/fiche - 200 - 175.7ms\n", "record": {"elapsed": {"repr": "0:04:31.151142", "seconds": 271.151142}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [814e6935] POST /api/v1/dashboard/fiche - 200 - 175.7ms", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:01:19.438625+02:00", "timestamp": 1754049679.438625}}}
{"text": "2025-08-01 14:03:44.350 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:06:56.063148", "seconds": 416.063148}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 9572, "name": "SpawnProcess-3"}, "thread": {"id": 12752, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:44.350631+02:00", "timestamp": 1754049824.350631}}}
{"text": "2025-08-01 14:03:48.006 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:01.067063", "seconds": 1.067063}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:48.006725+02:00", "timestamp": 1754049828.006725}}}
{"text": "2025-08-01 14:03:48.016 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:01.077169", "seconds": 1.077169}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:48.016831+02:00", "timestamp": 1754049828.016831}}}
{"text": "2025-08-01 14:03:48.017 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:01.077565", "seconds": 1.077565}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:48.017227+02:00", "timestamp": 1754049828.017227}}}
{"text": "2025-08-01 14:03:48.274 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:01.334708", "seconds": 1.334708}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:48.274370+02:00", "timestamp": 1754049828.27437}}}
{"text": "2025-08-01 14:03:48.274 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:01.335185", "seconds": 1.335185}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:48.274847+02:00", "timestamp": 1754049828.274847}}}
{"text": "2025-08-01 14:03:54.028 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [7805e298] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:07.089273", "seconds": 7.089273}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [7805e298] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:54.028935+02:00", "timestamp": 1754049834.028935}}}
{"text": "2025-08-01 14:03:54.222 | INFO     | app.main:request_tracking_middleware:116 - ✅ [7805e298] GET /api/v1/suggestions/refint-codpro - 200 - 193.4ms\n", "record": {"elapsed": {"repr": "0:00:07.282675", "seconds": 7.282675}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [7805e298] GET /api/v1/suggestions/refint-codpro - 200 - 193.4ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:54.222337+02:00", "timestamp": 1754049834.222337}}}
{"text": "2025-08-01 14:03:54.960 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c39880cf] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.020496", "seconds": 8.020496}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c39880cf] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:54.960158+02:00", "timestamp": 1754049834.960158}}}
{"text": "2025-08-01 14:03:54.961 | INFO     | app.main:request_tracking_middleware:116 - ✅ [c39880cf] OPTIONS /api/v1/dashboard/fiche - 200 - 1.3ms\n", "record": {"elapsed": {"repr": "0:00:08.021845", "seconds": 8.021845}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [c39880cf] OPTIONS /api/v1/dashboard/fiche - 200 - 1.3ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:54.961507+02:00", "timestamp": 1754049834.961507}}}
{"text": "2025-08-01 14:03:54.965 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [0681db54] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.025368", "seconds": 8.025368}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [0681db54] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:54.965030+02:00", "timestamp": 1754049834.96503}}}
{"text": "2025-08-01 14:03:54.987 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=PMQ\n", "record": {"elapsed": {"repr": "0:00:08.047913", "seconds": 8.047913}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=PMQ", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:54.987575+02:00", "timestamp": 1754049834.987575}}}
{"text": "2025-08-01 14:03:54.998 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 2 cod_pro\n", "record": {"elapsed": {"repr": "0:00:08.058431", "seconds": 8.058431}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 2 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:54.998093+02:00", "timestamp": 1754049834.998093}}}
{"text": "2025-08-01 14:03:55.000 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:00:08.060340", "seconds": 8.06034}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:55.000002+02:00", "timestamp": 1754049835.000002}}}
{"text": "2025-08-01 14:03:55.001 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:08.061581", "seconds": 8.061581}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:55.001243+02:00", "timestamp": 1754049835.001243}}}
{"text": "2025-08-01 14:03:55.002 | DEBUG    | app.services.products.detail_service:get_product_details:35 - ✅ Cache hit produit:details pour produit:details:700,20980\n", "record": {"elapsed": {"repr": "0:00:08.062541", "seconds": 8.062541}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "✅ Cache hit produit:details pour produit:details:700,20980", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:55.002203+02:00", "timestamp": 1754049835.002203}}}
{"text": "2025-08-01 14:03:55.003 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:08.064286", "seconds": 8.064286}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:55.003948+02:00", "timestamp": 1754049835.003948}}}
{"text": "2025-08-01 14:03:55.005 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:34 - ✅ Cache hit sales:agg pour sales:agg:700,20980\n", "record": {"elapsed": {"repr": "0:00:08.065403", "seconds": 8.065403}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 34, "message": "✅ Cache hit sales:agg pour sales:agg:700,20980", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:55.005065+02:00", "timestamp": 1754049835.005065}}}
{"text": "2025-08-01 14:03:55.006 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:08.066884", "seconds": 8.066884}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:55.006546+02:00", "timestamp": 1754049835.006546}}}
{"text": "2025-08-01 14:03:55.007 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:00:08.067620", "seconds": 8.06762}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:55.007282+02:00", "timestamp": 1754049835.007282}}}
{"text": "2025-08-01 14:03:55.008 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:08.068885", "seconds": 8.068885}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:55.008547+02:00", "timestamp": 1754049835.008547}}}
{"text": "2025-08-01 14:03:55.009 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:30 - ✅ Cache hit stock:actuel pour stock:actuel:700,20980\n", "record": {"elapsed": {"repr": "0:00:08.069467", "seconds": 8.069467}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit stock:actuel pour stock:actuel:700,20980", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:55.009129+02:00", "timestamp": 1754049835.009129}}}
{"text": "2025-08-01 14:03:55.010 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:08.071192", "seconds": 8.071192}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:55.010854+02:00", "timestamp": 1754049835.010854}}}
{"text": "2025-08-01 14:03:55.011 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:32 - ✅ Cache hit purchase_price pour purchase:price:700,20980\n", "record": {"elapsed": {"repr": "0:00:08.072205", "seconds": 8.072205}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "✅ Cache hit purchase_price pour purchase:price:700,20980", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:55.011867+02:00", "timestamp": 1754049835.011867}}}
{"text": "2025-08-01 14:03:55.014 | INFO     | app.main:request_tracking_middleware:116 - ✅ [0681db54] POST /api/v1/dashboard/fiche - 200 - 49.7ms\n", "record": {"elapsed": {"repr": "0:00:08.075031", "seconds": 8.075031}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [0681db54] POST /api/v1/dashboard/fiche - 200 - 49.7ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:03:55.014693+02:00", "timestamp": 1754049835.014693}}}
{"text": "2025-08-01 14:04:05.624 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [f246100d] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:18.684701", "seconds": 18.684701}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [f246100d] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:05.624363+02:00", "timestamp": 1754049845.624363}}}
{"text": "2025-08-01 14:04:05.632 | INFO     | app.main:request_tracking_middleware:116 - ✅ [f246100d] POST /api/v1/dashboard/fiche - 200 - 7.7ms\n", "record": {"elapsed": {"repr": "0:00:18.692413", "seconds": 18.692413}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [f246100d] POST /api/v1/dashboard/fiche - 200 - 7.7ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:05.632075+02:00", "timestamp": 1754049845.632075}}}
{"text": "2025-08-01 14:04:07.276 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [908275a0] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:20.336380", "seconds": 20.33638}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [908275a0] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:07.276042+02:00", "timestamp": 1754049847.276042}}}
{"text": "2025-08-01 14:04:07.280 | INFO     | app.main:request_tracking_middleware:116 - ✅ [908275a0] POST /api/v1/dashboard/fiche - 200 - 4.8ms\n", "record": {"elapsed": {"repr": "0:00:20.341168", "seconds": 20.341168}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [908275a0] POST /api/v1/dashboard/fiche - 200 - 4.8ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:07.280830+02:00", "timestamp": 1754049847.28083}}}
{"text": "2025-08-01 14:04:15.475 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [15ce1bed] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:28.535405", "seconds": 28.535405}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [15ce1bed] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:15.475067+02:00", "timestamp": 1754049855.475067}}}
{"text": "2025-08-01 14:04:15.481 | INFO     | app.main:request_tracking_middleware:116 - ✅ [15ce1bed] POST /api/v1/dashboard/fiche - 200 - 6.9ms\n", "record": {"elapsed": {"repr": "0:00:28.542274", "seconds": 28.542274}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [15ce1bed] POST /api/v1/dashboard/fiche - 200 - 6.9ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:15.481936+02:00", "timestamp": 1754049855.481936}}}
{"text": "2025-08-01 14:04:19.417 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [340d17a7] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:32.477345", "seconds": 32.477345}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [340d17a7] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:19.417007+02:00", "timestamp": 1754049859.417007}}}
{"text": "2025-08-01 14:04:19.419 | INFO     | app.main:request_tracking_middleware:116 - ✅ [340d17a7] POST /api/v1/dashboard/fiche - 200 - 2.8ms\n", "record": {"elapsed": {"repr": "0:00:32.480122", "seconds": 32.480122}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [340d17a7] POST /api/v1/dashboard/fiche - 200 - 2.8ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:19.419784+02:00", "timestamp": 1754049859.419784}}}
{"text": "2025-08-01 14:04:25.211 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [dcc01488] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:38.272085", "seconds": 38.272085}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [dcc01488] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:25.211747+02:00", "timestamp": 1754049865.211747}}}
{"text": "2025-08-01 14:04:25.366 | INFO     | app.main:request_tracking_middleware:116 - ✅ [dcc01488] GET /api/v1/suggestions/refint-codpro - 200 - 154.4ms\n", "record": {"elapsed": {"repr": "0:00:38.426457", "seconds": 38.426457}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [dcc01488] GET /api/v1/suggestions/refint-codpro - 200 - 154.4ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:25.366119+02:00", "timestamp": 1754049865.366119}}}
{"text": "2025-08-01 14:04:26.890 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [2c50f433] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:39.950471", "seconds": 39.950471}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [2c50f433] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:26.890133+02:00", "timestamp": 1754049866.890133}}}
{"text": "2025-08-01 14:04:26.894 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [964a3b0f] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:39.955150", "seconds": 39.95515}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [964a3b0f] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:26.894812+02:00", "timestamp": 1754049866.894812}}}
{"text": "2025-08-01 14:04:26.991 | INFO     | app.main:request_tracking_middleware:116 - ✅ [2c50f433] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 101.6ms\n", "record": {"elapsed": {"repr": "0:00:40.051995", "seconds": 40.051995}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [2c50f433] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 101.6ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:26.991657+02:00", "timestamp": 1754049866.991657}}}
{"text": "2025-08-01 14:04:27.005 | INFO     | app.main:request_tracking_middleware:116 - ✅ [964a3b0f] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 110.3ms\n", "record": {"elapsed": {"repr": "0:00:40.065433", "seconds": 40.065433}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [964a3b0f] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 110.3ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:27.005095+02:00", "timestamp": 1754049867.005095}}}
{"text": "2025-08-01 14:04:27.053 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [40f3b70e] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:40.113466", "seconds": 40.113466}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [40f3b70e] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:27.053128+02:00", "timestamp": 1754049867.053128}}}
{"text": "2025-08-01 14:04:27.265 | INFO     | app.main:request_tracking_middleware:116 - ✅ [40f3b70e] GET /api/v1/suggestions/refint-codpro - 200 - 212.7ms\n", "record": {"elapsed": {"repr": "0:00:40.326167", "seconds": 40.326167}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [40f3b70e] GET /api/v1/suggestions/refint-codpro - 200 - 212.7ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:27.265829+02:00", "timestamp": 1754049867.265829}}}
{"text": "2025-08-01 14:04:34.275 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [20b8bc9d] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:47.336135", "seconds": 47.336135}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [20b8bc9d] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.275797+02:00", "timestamp": 1754049874.275797}}}
{"text": "2025-08-01 14:04:34.297 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=None\n", "record": {"elapsed": {"repr": "0:00:47.357888", "seconds": 47.357888}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.297550+02:00", "timestamp": 1754049874.29755}}}
{"text": "2025-08-01 14:04:34.314 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 3 cod_pro\n", "record": {"elapsed": {"repr": "0:00:47.374893", "seconds": 47.374893}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 3 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.314555+02:00", "timestamp": 1754049874.314555}}}
{"text": "2025-08-01 14:04:34.317 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:00:47.377490", "seconds": 47.37749}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.317152+02:00", "timestamp": 1754049874.317152}}}
{"text": "2025-08-01 14:04:34.318 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:00:47.378843", "seconds": 47.378843}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.318505+02:00", "timestamp": 1754049874.318505}}}
{"text": "2025-08-01 14:04:34.319 | DEBUG    | app.services.products.detail_service:get_product_details:35 - ✅ Cache hit produit:details pour produit:details:700,20980,465576\n", "record": {"elapsed": {"repr": "0:00:47.379997", "seconds": 47.379997}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "✅ Cache hit produit:details pour produit:details:700,20980,465576", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.319659+02:00", "timestamp": 1754049874.319659}}}
{"text": "2025-08-01 14:04:34.321 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:00:47.381617", "seconds": 47.381617}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.321279+02:00", "timestamp": 1754049874.321279}}}
{"text": "2025-08-01 14:04:34.322 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:34 - ✅ Cache hit sales:agg pour sales:agg:700,20980,465576\n", "record": {"elapsed": {"repr": "0:00:47.382528", "seconds": 47.382528}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 34, "message": "✅ Cache hit sales:agg pour sales:agg:700,20980,465576", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.322190+02:00", "timestamp": 1754049874.32219}}}
{"text": "2025-08-01 14:04:34.324 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:00:47.384345", "seconds": 47.384345}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.324007+02:00", "timestamp": 1754049874.324007}}}
{"text": "2025-08-01 14:04:34.325 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980, 465576], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:00:47.385381", "seconds": 47.385381}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980, 465576], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.325043+02:00", "timestamp": 1754049874.325043}}}
{"text": "2025-08-01 14:04:34.326 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:00:47.386620", "seconds": 47.38662}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.326282+02:00", "timestamp": 1754049874.326282}}}
{"text": "2025-08-01 14:04:34.327 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:30 - ✅ Cache hit stock:actuel pour stock:actuel:700,20980,465576\n", "record": {"elapsed": {"repr": "0:00:47.388168", "seconds": 47.388168}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit stock:actuel pour stock:actuel:700,20980,465576", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.327830+02:00", "timestamp": 1754049874.32783}}}
{"text": "2025-08-01 14:04:34.331 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:00:47.392233", "seconds": 47.392233}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.331895+02:00", "timestamp": 1754049874.331895}}}
{"text": "2025-08-01 14:04:34.335 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:32 - ✅ Cache hit purchase_price pour purchase:price:700,20980,465576\n", "record": {"elapsed": {"repr": "0:00:47.395890", "seconds": 47.39589}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "✅ Cache hit purchase_price pour purchase:price:700,20980,465576", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.335552+02:00", "timestamp": 1754049874.335552}}}
{"text": "2025-08-01 14:04:34.362 | INFO     | app.main:request_tracking_middleware:116 - ✅ [20b8bc9d] POST /api/v1/dashboard/fiche - 200 - 86.8ms\n", "record": {"elapsed": {"repr": "0:00:47.422957", "seconds": 47.422957}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [20b8bc9d] POST /api/v1/dashboard/fiche - 200 - 86.8ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:34.362619+02:00", "timestamp": 1754049874.362619}}}
{"text": "2025-08-01 14:04:35.481 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [269e2ac7] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:48.541588", "seconds": 48.541588}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [269e2ac7] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:35.481250+02:00", "timestamp": 1754049875.48125}}}
{"text": "2025-08-01 14:04:36.186 | INFO     | app.main:request_tracking_middleware:116 - ✅ [269e2ac7] GET /api/v1/suggestions/refint-codpro - 200 - 705.2ms\n", "record": {"elapsed": {"repr": "0:00:49.246920", "seconds": 49.24692}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [269e2ac7] GET /api/v1/suggestions/refint-codpro - 200 - 705.2ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:36.186582+02:00", "timestamp": 1754049876.186582}}}
{"text": "2025-08-01 14:04:39.635 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [3f8ea05b] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.696263", "seconds": 52.696263}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [3f8ea05b] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:39.635925+02:00", "timestamp": 1754049879.635925}}}
{"text": "2025-08-01 14:04:39.661 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=OE\n", "record": {"elapsed": {"repr": "0:00:52.721577", "seconds": 52.721577}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=OE", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:39.661239+02:00", "timestamp": 1754049879.661239}}}
{"text": "2025-08-01 14:04:39.673 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 1 cod_pro\n", "record": {"elapsed": {"repr": "0:00:52.733494", "seconds": 52.733494}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 1 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:39.673156+02:00", "timestamp": 1754049879.673156}}}
{"text": "2025-08-01 14:04:39.674 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:00:52.735328", "seconds": 52.735328}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:39.674990+02:00", "timestamp": 1754049879.67499}}}
{"text": "2025-08-01 14:04:39.676 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:00:52.736414", "seconds": 52.736414}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:39.676076+02:00", "timestamp": 1754049879.676076}}}
{"text": "2025-08-01 14:04:39.678 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:00:52.738438", "seconds": 52.738438}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:39.678100+02:00", "timestamp": 1754049879.6781}}}
{"text": "2025-08-01 14:04:39.679 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:00:52.739963", "seconds": 52.739963}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:39.679625+02:00", "timestamp": 1754049879.679625}}}
{"text": "2025-08-01 14:04:39.680 | DEBUG    | app.services.products.detail_service:get_product_details:35 - ✅ Cache hit produit:details pour produit:details:465576\n", "record": {"elapsed": {"repr": "0:00:52.741232", "seconds": 52.741232}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "✅ Cache hit produit:details pour produit:details:465576", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:39.680894+02:00", "timestamp": 1754049879.680894}}}
{"text": "2025-08-01 14:04:39.682 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:00:52.743039", "seconds": 52.743039}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:39.682701+02:00", "timestamp": 1754049879.682701}}}
{"text": "2025-08-01 14:04:39.683 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:00:52.744015", "seconds": 52.744015}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:39.683677+02:00", "timestamp": 1754049879.683677}}}
{"text": "2025-08-01 14:04:39.685 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:00:52.745389", "seconds": 52.745389}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:39.685051+02:00", "timestamp": 1754049879.685051}}}
{"text": "2025-08-01 14:04:39.686 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:32 - ✅ Cache hit purchase_price pour purchase:price:465576\n", "record": {"elapsed": {"repr": "0:00:52.746685", "seconds": 52.746685}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "✅ Cache hit purchase_price pour purchase:price:465576", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:39.686347+02:00", "timestamp": 1754049879.686347}}}
{"text": "2025-08-01 14:04:39.699 | INFO     | app.main:request_tracking_middleware:116 - ✅ [3f8ea05b] POST /api/v1/dashboard/fiche - 200 - 64.0ms\n", "record": {"elapsed": {"repr": "0:00:52.760260", "seconds": 52.76026}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [3f8ea05b] POST /api/v1/dashboard/fiche - 200 - 64.0ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:39.699922+02:00", "timestamp": 1754049879.699922}}}
{"text": "2025-08-01 14:04:44.450 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [a41fe1c2] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:57.510564", "seconds": 57.510564}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [a41fe1c2] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:44.450226+02:00", "timestamp": 1754049884.450226}}}
{"text": "2025-08-01 14:04:44.453 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:00:57.514258", "seconds": 57.514258}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:44.453920+02:00", "timestamp": 1754049884.45392}}}
{"text": "2025-08-01 14:04:44.455 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:00:57.515454", "seconds": 57.515454}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:44.455116+02:00", "timestamp": 1754049884.455116}}}
{"text": "2025-08-01 14:04:44.456 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:00:57.516615", "seconds": 57.516615}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:44.456277+02:00", "timestamp": 1754049884.456277}}}
{"text": "2025-08-01 14:04:44.457 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:00:57.517709", "seconds": 57.517709}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:44.457371+02:00", "timestamp": 1754049884.457371}}}
{"text": "2025-08-01 14:04:44.458 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:00:57.518732", "seconds": 57.518732}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:44.458394+02:00", "timestamp": 1754049884.458394}}}
{"text": "2025-08-01 14:04:44.459 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:00:57.520018", "seconds": 57.520018}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:44.459680+02:00", "timestamp": 1754049884.45968}}}
{"text": "2025-08-01 14:04:44.460 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59\n", "record": {"elapsed": {"repr": "0:00:57.521101", "seconds": 57.521101}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:2d386b4229eab03ed204bff181b80c59", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:44.460763+02:00", "timestamp": 1754049884.460763}}}
{"text": "2025-08-01 14:04:44.461 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:00:57.522167", "seconds": 57.522167}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [465576], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:44.461829+02:00", "timestamp": 1754049884.461829}}}
{"text": "2025-08-01 14:04:44.463 | INFO     | app.main:request_tracking_middleware:116 - ✅ [a41fe1c2] POST /api/v1/dashboard/fiche - 200 - 12.9ms\n", "record": {"elapsed": {"repr": "0:00:57.523480", "seconds": 57.52348}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [a41fe1c2] POST /api/v1/dashboard/fiche - 200 - 12.9ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:04:44.463142+02:00", "timestamp": 1754049884.463142}}}
{"text": "2025-08-01 14:05:45.752 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [8426cb9e] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:58.812399", "seconds": 118.812399}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [8426cb9e] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:45.752061+02:00", "timestamp": 1754049945.752061}}}
{"text": "2025-08-01 14:05:45.756 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [db481feb] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:58.816390", "seconds": 118.81639}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [db481feb] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:45.756052+02:00", "timestamp": 1754049945.756052}}}
{"text": "2025-08-01 14:05:45.827 | INFO     | app.main:request_tracking_middleware:116 - ✅ [db481feb] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 71.7ms\n", "record": {"elapsed": {"repr": "0:01:58.888090", "seconds": 118.88809}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [db481feb] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 71.7ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:45.827752+02:00", "timestamp": 1754049945.827752}}}
{"text": "2025-08-01 14:05:45.831 | INFO     | app.main:request_tracking_middleware:116 - ✅ [8426cb9e] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 79.3ms\n", "record": {"elapsed": {"repr": "0:01:58.891722", "seconds": 118.891722}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [8426cb9e] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 79.3ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:45.831384+02:00", "timestamp": 1754049945.831384}}}
{"text": "2025-08-01 14:05:45.957 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [53746eb7] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:59.017341", "seconds": 119.017341}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [53746eb7] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:45.957003+02:00", "timestamp": 1754049945.957003}}}
{"text": "2025-08-01 14:05:46.158 | INFO     | app.main:request_tracking_middleware:116 - ✅ [53746eb7] GET /api/v1/suggestions/refint-codpro - 200 - 201.8ms\n", "record": {"elapsed": {"repr": "0:01:59.219098", "seconds": 119.219098}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [53746eb7] GET /api/v1/suggestions/refint-codpro - 200 - 201.8ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:46.158760+02:00", "timestamp": 1754049946.15876}}}
{"text": "2025-08-01 14:05:50.624 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [9f2415f8] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:03.684404", "seconds": 123.684404}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [9f2415f8] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.624066+02:00", "timestamp": 1754049950.624066}}}
{"text": "2025-08-01 14:05:50.628 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 1 cod_pro\n", "record": {"elapsed": {"repr": "0:02:03.688553", "seconds": 123.688553}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 1 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.628215+02:00", "timestamp": 1754049950.628215}}}
{"text": "2025-08-01 14:05:50.630 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:02:03.690708", "seconds": 123.690708}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.630370+02:00", "timestamp": 1754049950.63037}}}
{"text": "2025-08-01 14:05:50.631 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:abe6701bf637547b965ae23b83a29957\n", "record": {"elapsed": {"repr": "0:02:03.691803", "seconds": 123.691803}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:abe6701bf637547b965ae23b83a29957", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.631465+02:00", "timestamp": 1754049950.631465}}}
{"text": "2025-08-01 14:05:50.632 | DEBUG    | app.services.products.detail_service:get_product_details:35 - ✅ Cache hit produit:details pour produit:details:20980\n", "record": {"elapsed": {"repr": "0:02:03.693118", "seconds": 123.693118}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 35, "message": "✅ Cache hit produit:details pour produit:details:20980", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.632780+02:00", "timestamp": 1754049950.63278}}}
{"text": "2025-08-01 14:05:50.634 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:abe6701bf637547b965ae23b83a29957\n", "record": {"elapsed": {"repr": "0:02:03.694473", "seconds": 123.694473}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:abe6701bf637547b965ae23b83a29957", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.634135+02:00", "timestamp": 1754049950.634135}}}
{"text": "2025-08-01 14:05:50.634 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:34 - ✅ Cache hit sales:agg pour sales:agg:20980\n", "record": {"elapsed": {"repr": "0:02:03.695289", "seconds": 123.695289}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 34, "message": "✅ Cache hit sales:agg pour sales:agg:20980", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.634951+02:00", "timestamp": 1754049950.634951}}}
{"text": "2025-08-01 14:05:50.636 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:abe6701bf637547b965ae23b83a29957\n", "record": {"elapsed": {"repr": "0:02:03.697152", "seconds": 123.697152}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:abe6701bf637547b965ae23b83a29957", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.636814+02:00", "timestamp": 1754049950.636814}}}
{"text": "2025-08-01 14:05:50.637 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [20980], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:02:03.698301", "seconds": 123.698301}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [20980], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.637963+02:00", "timestamp": 1754049950.637963}}}
{"text": "2025-08-01 14:05:50.639 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:abe6701bf637547b965ae23b83a29957\n", "record": {"elapsed": {"repr": "0:02:03.699552", "seconds": 123.699552}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:abe6701bf637547b965ae23b83a29957", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.639214+02:00", "timestamp": 1754049950.639214}}}
{"text": "2025-08-01 14:05:50.640 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:30 - ✅ Cache hit stock:actuel pour stock:actuel:20980\n", "record": {"elapsed": {"repr": "0:02:03.700566", "seconds": 123.700566}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit stock:actuel pour stock:actuel:20980", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.640228+02:00", "timestamp": 1754049950.640228}}}
{"text": "2025-08-01 14:05:50.641 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:abe6701bf637547b965ae23b83a29957\n", "record": {"elapsed": {"repr": "0:02:03.702057", "seconds": 123.702057}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:abe6701bf637547b965ae23b83a29957", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.641719+02:00", "timestamp": 1754049950.641719}}}
{"text": "2025-08-01 14:05:50.642 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:32 - ✅ Cache hit purchase_price pour purchase:price:20980\n", "record": {"elapsed": {"repr": "0:02:03.703097", "seconds": 123.703097}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 32, "message": "✅ Cache hit purchase_price pour purchase:price:20980", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.642759+02:00", "timestamp": 1754049950.642759}}}
{"text": "2025-08-01 14:05:50.644 | INFO     | app.main:request_tracking_middleware:116 - ✅ [9f2415f8] POST /api/v1/dashboard/fiche - 200 - 20.7ms\n", "record": {"elapsed": {"repr": "0:02:03.705094", "seconds": 123.705094}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [9f2415f8] POST /api/v1/dashboard/fiche - 200 - 20.7ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.644756+02:00", "timestamp": 1754049950.644756}}}
{"text": "2025-08-01 14:05:50.703 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [e504434a] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:03.763742", "seconds": 123.763742}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [e504434a] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.703404+02:00", "timestamp": 1754049950.703404}}}
{"text": "2025-08-01 14:05:50.706 | INFO     | app.main:request_tracking_middleware:116 - ✅ [e504434a] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 2.8ms\n", "record": {"elapsed": {"repr": "0:02:03.766484", "seconds": 123.766484}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [e504434a] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 2.8ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:50.706146+02:00", "timestamp": 1754049950.706146}}}
{"text": "2025-08-01 14:05:51.542 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ca5559f4] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:04.603145", "seconds": 124.603145}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ca5559f4] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:51.542807+02:00", "timestamp": 1754049951.542807}}}
{"text": "2025-08-01 14:05:51.934 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ca5559f4] GET /api/v1/suggestions/refint-codpro - 200 - 392.0ms\n", "record": {"elapsed": {"repr": "0:02:04.995131", "seconds": 124.995131}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ca5559f4] GET /api/v1/suggestions/refint-codpro - 200 - 392.0ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:51.934793+02:00", "timestamp": 1754049951.934793}}}
{"text": "2025-08-01 14:05:53.871 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [cfc98934] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:06.932259", "seconds": 126.932259}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [cfc98934] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:53.871921+02:00", "timestamp": 1754049953.871921}}}
{"text": "2025-08-01 14:05:53.885 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=None\n", "record": {"elapsed": {"repr": "0:02:06.945355", "seconds": 126.945355}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:53.885017+02:00", "timestamp": 1754049953.885017}}}
{"text": "2025-08-01 14:05:53.897 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 3 cod_pro\n", "record": {"elapsed": {"repr": "0:02:06.957680", "seconds": 126.95768}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 3 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:53.897342+02:00", "timestamp": 1754049953.897342}}}
{"text": "2025-08-01 14:05:53.898 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:02:06.959321", "seconds": 126.959321}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:53.898983+02:00", "timestamp": 1754049953.898983}}}
{"text": "2025-08-01 14:05:53.900 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:02:06.961040", "seconds": 126.96104}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:53.900702+02:00", "timestamp": 1754049953.900702}}}
{"text": "2025-08-01 14:05:53.902 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:02:06.963260", "seconds": 126.96326}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:53.902922+02:00", "timestamp": 1754049953.902922}}}
{"text": "2025-08-01 14:05:53.904 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:02:06.964792", "seconds": 126.964792}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:53.904454+02:00", "timestamp": 1754049953.904454}}}
{"text": "2025-08-01 14:05:53.906 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:02:06.967245", "seconds": 126.967245}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:53.906907+02:00", "timestamp": 1754049953.906907}}}
{"text": "2025-08-01 14:05:53.909 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:02:06.969731", "seconds": 126.969731}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:53.909393+02:00", "timestamp": 1754049953.909393}}}
{"text": "2025-08-01 14:05:53.910 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980, 465576], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:02:06.970800", "seconds": 126.9708}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980, 465576], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:53.910462+02:00", "timestamp": 1754049953.910462}}}
{"text": "2025-08-01 14:05:53.916 | INFO     | app.main:request_tracking_middleware:116 - ✅ [cfc98934] POST /api/v1/dashboard/fiche - 200 - 44.6ms\n", "record": {"elapsed": {"repr": "0:02:06.977106", "seconds": 126.977106}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [cfc98934] POST /api/v1/dashboard/fiche - 200 - 44.6ms", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:05:53.916768+02:00", "timestamp": 1754049953.916768}}}
{"text": "2025-08-01 14:10:42.604 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:06:55.664588", "seconds": 415.664588}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 16884, "name": "SpawnProcess-4"}, "thread": {"id": 8528, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:10:42.604250+02:00", "timestamp": 1754050242.60425}}}
{"text": "2025-08-01 14:10:48.573 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:01.634895", "seconds": 1.634895}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:10:48.573016+02:00", "timestamp": 1754050248.573016}}}
{"text": "2025-08-01 14:10:48.588 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:01.650033", "seconds": 1.650033}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:10:48.588154+02:00", "timestamp": 1754050248.588154}}}
{"text": "2025-08-01 14:10:48.588 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:01.650412", "seconds": 1.650412}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:10:48.588533+02:00", "timestamp": 1754050248.588533}}}
{"text": "2025-08-01 14:10:48.843 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:01.905064", "seconds": 1.905064}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:10:48.843185+02:00", "timestamp": 1754050248.843185}}}
{"text": "2025-08-01 14:10:48.843 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:01.905635", "seconds": 1.905635}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:10:48.843756+02:00", "timestamp": 1754050248.843756}}}
{"text": "2025-08-01 14:12:37.743 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ef797a55] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.805566", "seconds": 110.805566}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ef797a55] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:37.743687+02:00", "timestamp": 1754050357.743687}}}
{"text": "2025-08-01 14:12:37.753 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [d033d4f8] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.814995", "seconds": 110.814995}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [d033d4f8] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:37.753116+02:00", "timestamp": 1754050357.753116}}}
{"text": "2025-08-01 14:12:37.763 | INFO     | app.main:request_tracking_middleware:116 - ✅ [d033d4f8] POST /api/v1/dashboard/fiche - 200 - 10.7ms\n", "record": {"elapsed": {"repr": "0:01:50.825823", "seconds": 110.825823}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [d033d4f8] POST /api/v1/dashboard/fiche - 200 - 10.7ms", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:37.763944+02:00", "timestamp": 1754050357.763944}}}
{"text": "2025-08-01 14:12:37.995 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ef797a55] GET /api/v1/suggestions/refint-codpro - 200 - 251.6ms\n", "record": {"elapsed": {"repr": "0:01:51.057123", "seconds": 111.057123}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ef797a55] GET /api/v1/suggestions/refint-codpro - 200 - 251.6ms", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:37.995244+02:00", "timestamp": 1754050357.995244}}}
{"text": "2025-08-01 14:12:47.415 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [b5fac9f4] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:00.477689", "seconds": 120.477689}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [b5fac9f4] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:47.415810+02:00", "timestamp": 1754050367.41581}}}
{"text": "2025-08-01 14:12:47.439 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=None\n", "record": {"elapsed": {"repr": "0:02:00.501426", "seconds": 120.501426}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:47.439547+02:00", "timestamp": 1754050367.439547}}}
{"text": "2025-08-01 14:12:47.451 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 3 cod_pro\n", "record": {"elapsed": {"repr": "0:02:00.512948", "seconds": 120.512948}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 3 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:47.451069+02:00", "timestamp": 1754050367.451069}}}
{"text": "2025-08-01 14:12:47.452 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:02:00.514245", "seconds": 120.514245}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:47.452366+02:00", "timestamp": 1754050367.452366}}}
{"text": "2025-08-01 14:12:47.453 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:02:00.515556", "seconds": 120.515556}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:47.453677+02:00", "timestamp": 1754050367.453677}}}
{"text": "2025-08-01 14:12:47.455 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:02:00.516969", "seconds": 120.516969}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:47.455090+02:00", "timestamp": 1754050367.45509}}}
{"text": "2025-08-01 14:12:47.456 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:02:00.518461", "seconds": 120.518461}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:47.456582+02:00", "timestamp": 1754050367.456582}}}
{"text": "2025-08-01 14:12:47.457 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:02:00.519770", "seconds": 120.51977}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:47.457891+02:00", "timestamp": 1754050367.457891}}}
{"text": "2025-08-01 14:12:47.459 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:02:00.521300", "seconds": 120.5213}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:47.459421+02:00", "timestamp": 1754050367.459421}}}
{"text": "2025-08-01 14:12:47.460 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980, 465576], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:02:00.522467", "seconds": 120.522467}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980, 465576], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:47.460588+02:00", "timestamp": 1754050367.460588}}}
{"text": "2025-08-01 14:12:47.465 | INFO     | app.main:request_tracking_middleware:116 - ✅ [b5fac9f4] POST /api/v1/dashboard/fiche - 200 - 49.6ms\n", "record": {"elapsed": {"repr": "0:02:00.527301", "seconds": 120.527301}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [b5fac9f4] POST /api/v1/dashboard/fiche - 200 - 49.6ms", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:12:47.465422+02:00", "timestamp": 1754050367.465422}}}
{"text": "2025-08-01 14:13:00.683 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c5ae07b8] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:13.745351", "seconds": 133.745351}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c5ae07b8] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:00.683472+02:00", "timestamp": 1754050380.683472}}}
{"text": "2025-08-01 14:13:00.688 | INFO     | app.main:request_tracking_middleware:116 - ✅ [c5ae07b8] POST /api/v1/dashboard/fiche - 200 - 4.9ms\n", "record": {"elapsed": {"repr": "0:02:13.750231", "seconds": 133.750231}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [c5ae07b8] POST /api/v1/dashboard/fiche - 200 - 4.9ms", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:00.688352+02:00", "timestamp": 1754050380.688352}}}
{"text": "2025-08-01 14:13:00.697 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ad7bac05] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:13.759705", "seconds": 133.759705}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ad7bac05] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:00.697826+02:00", "timestamp": 1754050380.697826}}}
{"text": "2025-08-01 14:13:01.021 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ad7bac05] GET /api/v1/suggestions/refint-codpro - 200 - 323.2ms\n", "record": {"elapsed": {"repr": "0:02:14.082933", "seconds": 134.082933}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ad7bac05] GET /api/v1/suggestions/refint-codpro - 200 - 323.2ms", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:01.021054+02:00", "timestamp": 1754050381.021054}}}
{"text": "2025-08-01 14:13:04.903 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [766f772c] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:17.965460", "seconds": 137.96546}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [766f772c] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:04.903581+02:00", "timestamp": 1754050384.903581}}}
{"text": "2025-08-01 14:13:04.922 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ecf40066] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:17.984604", "seconds": 137.984604}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ecf40066] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:04.922725+02:00", "timestamp": 1754050384.922725}}}
{"text": "2025-08-01 14:13:04.926 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ecf40066] POST /api/v1/dashboard/fiche - 200 - 4.1ms\n", "record": {"elapsed": {"repr": "0:02:17.988706", "seconds": 137.988706}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ecf40066] POST /api/v1/dashboard/fiche - 200 - 4.1ms", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:04.926827+02:00", "timestamp": 1754050384.926827}}}
{"text": "2025-08-01 14:13:05.150 | INFO     | app.main:request_tracking_middleware:116 - ✅ [766f772c] GET /api/v1/suggestions/refint-codpro - 200 - 246.7ms\n", "record": {"elapsed": {"repr": "0:02:18.212138", "seconds": 138.212138}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [766f772c] GET /api/v1/suggestions/refint-codpro - 200 - 246.7ms", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:05.150259+02:00", "timestamp": 1754050385.150259}}}
{"text": "2025-08-01 14:13:07.753 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [a1ff131d] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:20.815760", "seconds": 140.81576}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [a1ff131d] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:07.753881+02:00", "timestamp": 1754050387.753881}}}
{"text": "2025-08-01 14:13:07.945 | INFO     | app.main:request_tracking_middleware:116 - ✅ [a1ff131d] GET /api/v1/suggestions/refint-codpro - 200 - 191.9ms\n", "record": {"elapsed": {"repr": "0:02:21.007684", "seconds": 141.007684}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [a1ff131d] GET /api/v1/suggestions/refint-codpro - 200 - 191.9ms", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:07.945805+02:00", "timestamp": 1754050387.945805}}}
{"text": "2025-08-01 14:13:08.691 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [59453cca] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:21.753367", "seconds": 141.753367}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [59453cca] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:08.691488+02:00", "timestamp": 1754050388.691488}}}
{"text": "2025-08-01 14:13:08.713 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=PMQ\n", "record": {"elapsed": {"repr": "0:02:21.775412", "seconds": 141.775412}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=PMQ", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:08.713533+02:00", "timestamp": 1754050388.713533}}}
{"text": "2025-08-01 14:13:08.724 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 2 cod_pro\n", "record": {"elapsed": {"repr": "0:02:21.786331", "seconds": 141.786331}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 2 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:08.724452+02:00", "timestamp": 1754050388.724452}}}
{"text": "2025-08-01 14:13:08.725 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:02:21.787762", "seconds": 141.787762}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:08.725883+02:00", "timestamp": 1754050388.725883}}}
{"text": "2025-08-01 14:13:08.726 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:02:21.788775", "seconds": 141.788775}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:08.726896+02:00", "timestamp": 1754050388.726896}}}
{"text": "2025-08-01 14:13:08.728 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:02:21.789922", "seconds": 141.789922}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:08.728043+02:00", "timestamp": 1754050388.728043}}}
{"text": "2025-08-01 14:13:08.729 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:02:21.791201", "seconds": 141.791201}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:08.729322+02:00", "timestamp": 1754050388.729322}}}
{"text": "2025-08-01 14:13:08.730 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:02:21.792379", "seconds": 141.792379}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:08.730500+02:00", "timestamp": 1754050388.7305}}}
{"text": "2025-08-01 14:13:08.731 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:02:21.793410", "seconds": 141.79341}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:08.731531+02:00", "timestamp": 1754050388.731531}}}
{"text": "2025-08-01 14:13:08.732 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980], \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:02:21.794611", "seconds": 141.794611}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro_list\": [700, 20980], \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:08.732732+02:00", "timestamp": 1754050388.732732}}}
{"text": "2025-08-01 14:13:08.739 | INFO     | app.main:request_tracking_middleware:116 - ✅ [59453cca] POST /api/v1/dashboard/fiche - 200 - 48.1ms\n", "record": {"elapsed": {"repr": "0:02:21.801482", "seconds": 141.801482}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [59453cca] POST /api/v1/dashboard/fiche - 200 - 48.1ms", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:08.739603+02:00", "timestamp": 1754050388.739603}}}
{"text": "2025-08-01 14:13:23.945 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:02:37.007750", "seconds": 157.00775}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 17116, "name": "SpawnProcess-6"}, "thread": {"id": 18892, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:23.945871+02:00", "timestamp": 1754050403.945871}}}
{"text": "2025-08-01 14:13:26.816 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.680540", "seconds": 0.68054}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 10552, "name": "SpawnProcess-7"}, "thread": {"id": 16648, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:26.816668+02:00", "timestamp": 1754050406.816668}}}
{"text": "2025-08-01 14:13:26.831 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.695125", "seconds": 0.695125}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 10552, "name": "SpawnProcess-7"}, "thread": {"id": 16648, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:26.831253+02:00", "timestamp": 1754050406.831253}}}
{"text": "2025-08-01 14:13:26.831 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.695730", "seconds": 0.69573}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 10552, "name": "SpawnProcess-7"}, "thread": {"id": 16648, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:26.831858+02:00", "timestamp": 1754050406.831858}}}
{"text": "2025-08-01 14:13:27.107 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.971163", "seconds": 0.971163}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 10552, "name": "SpawnProcess-7"}, "thread": {"id": 16648, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:27.107291+02:00", "timestamp": 1754050407.107291}}}
{"text": "2025-08-01 14:13:27.108 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.972210", "seconds": 0.97221}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 10552, "name": "SpawnProcess-7"}, "thread": {"id": 16648, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:13:27.108338+02:00", "timestamp": 1754050407.108338}}}
{"text": "2025-08-01 14:14:25.590 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:59.454780", "seconds": 59.45478}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 10552, "name": "SpawnProcess-7"}, "thread": {"id": 16648, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:14:25.590908+02:00", "timestamp": 1754050465.590908}}}
{"text": "2025-08-01 14:14:28.202 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.677256", "seconds": 0.677256}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 15812, "name": "SpawnProcess-8"}, "thread": {"id": 7868, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:14:28.202964+02:00", "timestamp": 1754050468.202964}}}
{"text": "2025-08-01 14:14:28.227 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.701778", "seconds": 0.701778}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 15812, "name": "SpawnProcess-8"}, "thread": {"id": 7868, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:14:28.227486+02:00", "timestamp": 1754050468.227486}}}
{"text": "2025-08-01 14:14:28.228 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.702456", "seconds": 0.702456}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 15812, "name": "SpawnProcess-8"}, "thread": {"id": 7868, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:14:28.228164+02:00", "timestamp": 1754050468.228164}}}
{"text": "2025-08-01 14:14:28.495 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.970206", "seconds": 0.970206}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 15812, "name": "SpawnProcess-8"}, "thread": {"id": 7868, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:14:28.495914+02:00", "timestamp": 1754050468.495914}}}
{"text": "2025-08-01 14:14:28.496 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.970832", "seconds": 0.970832}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 15812, "name": "SpawnProcess-8"}, "thread": {"id": 7868, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:14:28.496540+02:00", "timestamp": 1754050468.49654}}}
{"text": "2025-08-01 14:14:37.615 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:10.090010", "seconds": 10.09001}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 15812, "name": "SpawnProcess-8"}, "thread": {"id": 7868, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:14:37.615718+02:00", "timestamp": 1754050477.615718}}}
{"text": "2025-08-01 14:14:41.525 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.734566", "seconds": 0.734566}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 7696, "name": "SpawnProcess-10"}, "thread": {"id": 14132, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:14:41.525700+02:00", "timestamp": 1754050481.5257}}}
{"text": "2025-08-01 14:14:41.536 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.745193", "seconds": 0.745193}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 7696, "name": "SpawnProcess-10"}, "thread": {"id": 14132, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:14:41.536327+02:00", "timestamp": 1754050481.536327}}}
{"text": "2025-08-01 14:14:41.536 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.745647", "seconds": 0.745647}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 7696, "name": "SpawnProcess-10"}, "thread": {"id": 14132, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:14:41.536781+02:00", "timestamp": 1754050481.536781}}}
{"text": "2025-08-01 14:14:41.776 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.985816", "seconds": 0.985816}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 7696, "name": "SpawnProcess-10"}, "thread": {"id": 14132, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:14:41.776950+02:00", "timestamp": 1754050481.77695}}}
{"text": "2025-08-01 14:14:41.777 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.986642", "seconds": 0.986642}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 7696, "name": "SpawnProcess-10"}, "thread": {"id": 14132, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:14:41.777776+02:00", "timestamp": 1754050481.777776}}}
{"text": "2025-08-01 14:15:54.198 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:01:13.407311", "seconds": 73.407311}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 7696, "name": "SpawnProcess-10"}, "thread": {"id": 14132, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:15:54.198445+02:00", "timestamp": 1754050554.198445}}}
{"text": "2025-08-01 14:15:58.543 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.767730", "seconds": 0.76773}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 18024, "name": "SpawnProcess-11"}, "thread": {"id": 8336, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:15:58.543954+02:00", "timestamp": 1754050558.543954}}}
{"text": "2025-08-01 14:15:58.555 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.779516", "seconds": 0.779516}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 18024, "name": "SpawnProcess-11"}, "thread": {"id": 8336, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:15:58.555740+02:00", "timestamp": 1754050558.55574}}}
{"text": "2025-08-01 14:15:58.556 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.780070", "seconds": 0.78007}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 18024, "name": "SpawnProcess-11"}, "thread": {"id": 8336, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:15:58.556294+02:00", "timestamp": 1754050558.556294}}}
{"text": "2025-08-01 14:15:58.863 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:01.087492", "seconds": 1.087492}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 18024, "name": "SpawnProcess-11"}, "thread": {"id": 8336, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:15:58.863716+02:00", "timestamp": 1754050558.863716}}}
{"text": "2025-08-01 14:15:58.864 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:01.088169", "seconds": 1.088169}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 18024, "name": "SpawnProcess-11"}, "thread": {"id": 8336, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:15:58.864393+02:00", "timestamp": 1754050558.864393}}}
{"text": "2025-08-01 14:16:19.422 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:21.646031", "seconds": 21.646031}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 18024, "name": "SpawnProcess-11"}, "thread": {"id": 8336, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:16:19.422255+02:00", "timestamp": 1754050579.422255}}}
{"text": "2025-08-01 14:16:22.319 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.792554", "seconds": 0.792554}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 5420, "name": "SpawnProcess-12"}, "thread": {"id": 12508, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:16:22.319587+02:00", "timestamp": 1754050582.319587}}}
{"text": "2025-08-01 14:16:22.334 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.807832", "seconds": 0.807832}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 5420, "name": "SpawnProcess-12"}, "thread": {"id": 12508, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:16:22.334865+02:00", "timestamp": 1754050582.334865}}}
{"text": "2025-08-01 14:16:22.335 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.808283", "seconds": 0.808283}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 5420, "name": "SpawnProcess-12"}, "thread": {"id": 12508, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:16:22.335316+02:00", "timestamp": 1754050582.335316}}}
{"text": "2025-08-01 14:16:22.585 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:01.058818", "seconds": 1.058818}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 5420, "name": "SpawnProcess-12"}, "thread": {"id": 12508, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:16:22.585851+02:00", "timestamp": 1754050582.585851}}}
{"text": "2025-08-01 14:16:22.586 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:01.059588", "seconds": 1.059588}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 5420, "name": "SpawnProcess-12"}, "thread": {"id": 12508, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:16:22.586621+02:00", "timestamp": 1754050582.586621}}}
{"text": "2025-08-01 14:17:02.442 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:40.915423", "seconds": 40.915423}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 5420, "name": "SpawnProcess-12"}, "thread": {"id": 12508, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:17:02.442456+02:00", "timestamp": 1754050622.442456}}}
{"text": "2025-08-01 14:17:05.472 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.843095", "seconds": 0.843095}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 18696, "name": "SpawnProcess-13"}, "thread": {"id": 15388, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:17:05.472632+02:00", "timestamp": 1754050625.472632}}}
{"text": "2025-08-01 14:17:05.490 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.860873", "seconds": 0.860873}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 18696, "name": "SpawnProcess-13"}, "thread": {"id": 15388, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:17:05.490410+02:00", "timestamp": 1754050625.49041}}}
{"text": "2025-08-01 14:17:05.491 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.861526", "seconds": 0.861526}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 18696, "name": "SpawnProcess-13"}, "thread": {"id": 15388, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:17:05.491063+02:00", "timestamp": 1754050625.491063}}}
{"text": "2025-08-01 14:17:05.838 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:01.209272", "seconds": 1.209272}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 18696, "name": "SpawnProcess-13"}, "thread": {"id": 15388, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:17:05.838809+02:00", "timestamp": 1754050625.838809}}}
{"text": "2025-08-01 14:17:05.839 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:01.209865", "seconds": 1.209865}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 18696, "name": "SpawnProcess-13"}, "thread": {"id": 15388, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:17:05.839402+02:00", "timestamp": 1754050625.839402}}}
{"text": "2025-08-01 14:17:11.796 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:07.166988", "seconds": 7.166988}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 18696, "name": "SpawnProcess-13"}, "thread": {"id": 15388, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:17:11.796525+02:00", "timestamp": 1754050631.796525}}}
{"text": "2025-08-01 14:17:15.168 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.757138", "seconds": 0.757138}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 15972, "name": "SpawnProcess-15"}, "thread": {"id": 5664, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:17:15.168391+02:00", "timestamp": 1754050635.168391}}}
{"text": "2025-08-01 14:17:15.178 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.767107", "seconds": 0.767107}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 15972, "name": "SpawnProcess-15"}, "thread": {"id": 5664, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:17:15.178360+02:00", "timestamp": 1754050635.17836}}}
{"text": "2025-08-01 14:17:15.178 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.767499", "seconds": 0.767499}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 15972, "name": "SpawnProcess-15"}, "thread": {"id": 5664, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:17:15.178752+02:00", "timestamp": 1754050635.178752}}}
{"text": "2025-08-01 14:17:15.385 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.974106", "seconds": 0.974106}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 15972, "name": "SpawnProcess-15"}, "thread": {"id": 5664, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:17:15.385359+02:00", "timestamp": 1754050635.385359}}}
{"text": "2025-08-01 14:17:15.385 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.974634", "seconds": 0.974634}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 15972, "name": "SpawnProcess-15"}, "thread": {"id": 5664, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:17:15.385887+02:00", "timestamp": 1754050635.385887}}}
{"text": "2025-08-01 14:18:47.808 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:01:33.397587", "seconds": 93.397587}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 15972, "name": "SpawnProcess-15"}, "thread": {"id": 5664, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:18:47.808840+02:00", "timestamp": 1754050727.80884}}}
{"text": "2025-08-01 14:18:50.552 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.743031", "seconds": 0.743031}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 12512, "name": "SpawnProcess-16"}, "thread": {"id": 15584, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:18:50.552290+02:00", "timestamp": 1754050730.55229}}}
{"text": "2025-08-01 14:18:50.568 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.759135", "seconds": 0.759135}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 12512, "name": "SpawnProcess-16"}, "thread": {"id": 15584, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:18:50.568394+02:00", "timestamp": 1754050730.568394}}}
{"text": "2025-08-01 14:18:50.569 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.760640", "seconds": 0.76064}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 12512, "name": "SpawnProcess-16"}, "thread": {"id": 15584, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:18:50.569899+02:00", "timestamp": 1754050730.569899}}}
{"text": "2025-08-01 14:18:50.761 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.952549", "seconds": 0.952549}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 12512, "name": "SpawnProcess-16"}, "thread": {"id": 15584, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:18:50.761808+02:00", "timestamp": 1754050730.761808}}}
{"text": "2025-08-01 14:18:50.762 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.953142", "seconds": 0.953142}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 12512, "name": "SpawnProcess-16"}, "thread": {"id": 15584, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:18:50.762401+02:00", "timestamp": 1754050730.762401}}}
{"text": "2025-08-01 14:19:26.823 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:37.014111", "seconds": 37.014111}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 12512, "name": "SpawnProcess-16"}, "thread": {"id": 15584, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:19:26.823370+02:00", "timestamp": 1754050766.82337}}}
{"text": "2025-08-01 14:19:29.974 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.660384", "seconds": 0.660384}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 15392, "name": "SpawnProcess-18"}, "thread": {"id": 17432, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:19:29.974271+02:00", "timestamp": 1754050769.974271}}}
{"text": "2025-08-01 14:19:29.989 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.675349", "seconds": 0.675349}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 15392, "name": "SpawnProcess-18"}, "thread": {"id": 17432, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:19:29.989236+02:00", "timestamp": 1754050769.989236}}}
{"text": "2025-08-01 14:19:29.989 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.676065", "seconds": 0.676065}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 15392, "name": "SpawnProcess-18"}, "thread": {"id": 17432, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:19:29.989952+02:00", "timestamp": 1754050769.989952}}}
{"text": "2025-08-01 14:19:30.174 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.860508", "seconds": 0.860508}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 15392, "name": "SpawnProcess-18"}, "thread": {"id": 17432, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:19:30.174395+02:00", "timestamp": 1754050770.174395}}}
{"text": "2025-08-01 14:19:30.174 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.861004", "seconds": 0.861004}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 15392, "name": "SpawnProcess-18"}, "thread": {"id": 17432, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:19:30.174891+02:00", "timestamp": 1754050770.174891}}}
{"text": "2025-08-01 14:20:12.436 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:43.122612", "seconds": 43.122612}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 15392, "name": "SpawnProcess-18"}, "thread": {"id": 17432, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:20:12.436499+02:00", "timestamp": 1754050812.436499}}}
{"text": "2025-08-01 14:20:15.800 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.644348", "seconds": 0.644348}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 15384, "name": "SpawnProcess-19"}, "thread": {"id": 14284, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:20:15.800928+02:00", "timestamp": 1754050815.800928}}}
{"text": "2025-08-01 14:20:15.812 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.656406", "seconds": 0.656406}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 15384, "name": "SpawnProcess-19"}, "thread": {"id": 14284, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:20:15.812986+02:00", "timestamp": 1754050815.812986}}}
{"text": "2025-08-01 14:20:15.813 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.656964", "seconds": 0.656964}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 15384, "name": "SpawnProcess-19"}, "thread": {"id": 14284, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:20:15.813544+02:00", "timestamp": 1754050815.813544}}}
{"text": "2025-08-01 14:20:16.104 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.947772", "seconds": 0.947772}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 15384, "name": "SpawnProcess-19"}, "thread": {"id": 14284, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:20:16.104352+02:00", "timestamp": 1754050816.104352}}}
{"text": "2025-08-01 14:20:16.104 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.948289", "seconds": 0.948289}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 15384, "name": "SpawnProcess-19"}, "thread": {"id": 14284, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:20:16.104869+02:00", "timestamp": 1754050816.104869}}}
{"text": "2025-08-01 14:20:22.375 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:07.219332", "seconds": 7.219332}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 15384, "name": "SpawnProcess-19"}, "thread": {"id": 14284, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:20:22.375912+02:00", "timestamp": 1754050822.375912}}}
{"text": "2025-08-01 14:20:25.201 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.669866", "seconds": 0.669866}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 1460, "name": "SpawnProcess-20"}, "thread": {"id": 14484, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:20:25.201220+02:00", "timestamp": 1754050825.20122}}}
{"text": "2025-08-01 14:20:25.213 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.682275", "seconds": 0.682275}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 1460, "name": "SpawnProcess-20"}, "thread": {"id": 14484, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:20:25.213629+02:00", "timestamp": 1754050825.213629}}}
{"text": "2025-08-01 14:20:25.214 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.682956", "seconds": 0.682956}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 1460, "name": "SpawnProcess-20"}, "thread": {"id": 14484, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:20:25.214310+02:00", "timestamp": 1754050825.21431}}}
{"text": "2025-08-01 14:20:25.430 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.898936", "seconds": 0.898936}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 1460, "name": "SpawnProcess-20"}, "thread": {"id": 14484, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:20:25.430290+02:00", "timestamp": 1754050825.43029}}}
{"text": "2025-08-01 14:20:25.431 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.899747", "seconds": 0.899747}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 1460, "name": "SpawnProcess-20"}, "thread": {"id": 14484, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:20:25.431101+02:00", "timestamp": 1754050825.431101}}}
{"text": "2025-08-01 14:21:24.554 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:01:00.023357", "seconds": 60.023357}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 1460, "name": "SpawnProcess-20"}, "thread": {"id": 14484, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:21:24.554711+02:00", "timestamp": 1754050884.554711}}}
{"text": "2025-08-01 14:21:27.041 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.633452", "seconds": 0.633452}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 7484, "name": "SpawnProcess-21"}, "thread": {"id": 8632, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:21:27.041049+02:00", "timestamp": 1754050887.041049}}}
{"text": "2025-08-01 14:21:27.063 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.655507", "seconds": 0.655507}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 7484, "name": "SpawnProcess-21"}, "thread": {"id": 8632, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:21:27.063104+02:00", "timestamp": 1754050887.063104}}}
{"text": "2025-08-01 14:21:27.064 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.656424", "seconds": 0.656424}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 7484, "name": "SpawnProcess-21"}, "thread": {"id": 8632, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:21:27.064021+02:00", "timestamp": 1754050887.064021}}}
{"text": "2025-08-01 14:21:27.231 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.824220", "seconds": 0.82422}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 7484, "name": "SpawnProcess-21"}, "thread": {"id": 8632, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:21:27.231817+02:00", "timestamp": 1754050887.231817}}}
{"text": "2025-08-01 14:21:27.232 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.824648", "seconds": 0.824648}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 7484, "name": "SpawnProcess-21"}, "thread": {"id": 8632, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:21:27.232245+02:00", "timestamp": 1754050887.232245}}}
{"text": "2025-08-01 14:22:33.097 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:01:06.689559", "seconds": 66.689559}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 7484, "name": "SpawnProcess-21"}, "thread": {"id": 8632, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:22:33.097156+02:00", "timestamp": 1754050953.097156}}}
{"text": "2025-08-01 14:22:36.195 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.698239", "seconds": 0.698239}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 5288, "name": "SpawnProcess-23"}, "thread": {"id": 7780, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:22:36.195060+02:00", "timestamp": 1754050956.19506}}}
{"text": "2025-08-01 14:22:36.210 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.713699", "seconds": 0.713699}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 5288, "name": "SpawnProcess-23"}, "thread": {"id": 7780, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:22:36.210520+02:00", "timestamp": 1754050956.21052}}}
{"text": "2025-08-01 14:22:36.211 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.714221", "seconds": 0.714221}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 5288, "name": "SpawnProcess-23"}, "thread": {"id": 7780, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:22:36.211042+02:00", "timestamp": 1754050956.211042}}}
{"text": "2025-08-01 14:22:36.413 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.916235", "seconds": 0.916235}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 5288, "name": "SpawnProcess-23"}, "thread": {"id": 7780, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:22:36.413056+02:00", "timestamp": 1754050956.413056}}}
{"text": "2025-08-01 14:22:36.413 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.916744", "seconds": 0.916744}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 5288, "name": "SpawnProcess-23"}, "thread": {"id": 7780, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:22:36.413565+02:00", "timestamp": 1754050956.413565}}}
{"text": "2025-08-01 14:23:58.577 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:01:23.080956", "seconds": 83.080956}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 5288, "name": "SpawnProcess-23"}, "thread": {"id": 7780, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:23:58.577777+02:00", "timestamp": 1754051038.577777}}}
{"text": "2025-08-01 14:24:01.404 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.697879", "seconds": 0.697879}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 9476, "name": "SpawnProcess-24"}, "thread": {"id": 2992, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:24:01.404025+02:00", "timestamp": 1754051041.404025}}}
{"text": "2025-08-01 14:24:01.419 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.713477", "seconds": 0.713477}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 9476, "name": "SpawnProcess-24"}, "thread": {"id": 2992, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:24:01.419623+02:00", "timestamp": 1754051041.419623}}}
{"text": "2025-08-01 14:24:01.420 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.714124", "seconds": 0.714124}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 9476, "name": "SpawnProcess-24"}, "thread": {"id": 2992, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:24:01.420270+02:00", "timestamp": 1754051041.42027}}}
{"text": "2025-08-01 14:24:01.625 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.919093", "seconds": 0.919093}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 9476, "name": "SpawnProcess-24"}, "thread": {"id": 2992, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:24:01.625239+02:00", "timestamp": 1754051041.625239}}}
{"text": "2025-08-01 14:24:01.625 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.919698", "seconds": 0.919698}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 9476, "name": "SpawnProcess-24"}, "thread": {"id": 2992, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:24:01.625844+02:00", "timestamp": 1754051041.625844}}}
{"text": "2025-08-01 14:25:52.272 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:01:51.566327", "seconds": 111.566327}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 9476, "name": "SpawnProcess-24"}, "thread": {"id": 2992, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:25:52.272473+02:00", "timestamp": 1754051152.272473}}}
{"text": "2025-08-01 14:25:55.712 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.640240", "seconds": 0.64024}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 6948, "name": "SpawnProcess-26"}, "thread": {"id": 18688, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:25:55.712527+02:00", "timestamp": 1754051155.712527}}}
{"text": "2025-08-01 14:25:55.723 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.651256", "seconds": 0.651256}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 6948, "name": "SpawnProcess-26"}, "thread": {"id": 18688, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:25:55.723543+02:00", "timestamp": 1754051155.723543}}}
{"text": "2025-08-01 14:25:55.724 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.651822", "seconds": 0.651822}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 6948, "name": "SpawnProcess-26"}, "thread": {"id": 18688, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:25:55.724109+02:00", "timestamp": 1754051155.724109}}}
{"text": "2025-08-01 14:25:55.987 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.915541", "seconds": 0.915541}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 6948, "name": "SpawnProcess-26"}, "thread": {"id": 18688, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:25:55.987828+02:00", "timestamp": 1754051155.987828}}}
{"text": "2025-08-01 14:25:55.988 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.916280", "seconds": 0.91628}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 6948, "name": "SpawnProcess-26"}, "thread": {"id": 18688, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:25:55.988567+02:00", "timestamp": 1754051155.988567}}}
{"text": "2025-08-01 14:28:41.924 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:02:46.851872", "seconds": 166.851872}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 6948, "name": "SpawnProcess-26"}, "thread": {"id": 18688, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:28:41.924159+02:00", "timestamp": 1754051321.924159}}}
{"text": "2025-08-01 14:28:45.539 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.697152", "seconds": 0.697152}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 15104, "name": "SpawnProcess-28"}, "thread": {"id": 15884, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:28:45.539163+02:00", "timestamp": 1754051325.539163}}}
{"text": "2025-08-01 14:28:45.552 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.710511", "seconds": 0.710511}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 15104, "name": "SpawnProcess-28"}, "thread": {"id": 15884, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:28:45.552522+02:00", "timestamp": 1754051325.552522}}}
{"text": "2025-08-01 14:28:45.553 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.711325", "seconds": 0.711325}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 15104, "name": "SpawnProcess-28"}, "thread": {"id": 15884, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:28:45.553336+02:00", "timestamp": 1754051325.553336}}}
{"text": "2025-08-01 14:28:45.755 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.913156", "seconds": 0.913156}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 15104, "name": "SpawnProcess-28"}, "thread": {"id": 15884, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:28:45.755167+02:00", "timestamp": 1754051325.755167}}}
{"text": "2025-08-01 14:28:45.755 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.913754", "seconds": 0.913754}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 15104, "name": "SpawnProcess-28"}, "thread": {"id": 15884, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:28:45.755765+02:00", "timestamp": 1754051325.755765}}}
{"text": "2025-08-01 14:29:49.589 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:01:04.747794", "seconds": 64.747794}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 15104, "name": "SpawnProcess-28"}, "thread": {"id": 15884, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:29:49.589805+02:00", "timestamp": 1754051389.589805}}}
{"text": "2025-08-01 14:29:52.683 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.721273", "seconds": 0.721273}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 1980, "name": "SpawnProcess-29"}, "thread": {"id": 16272, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:29:52.683342+02:00", "timestamp": 1754051392.683342}}}
{"text": "2025-08-01 14:29:52.701 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.738972", "seconds": 0.738972}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 1980, "name": "SpawnProcess-29"}, "thread": {"id": 16272, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:29:52.701041+02:00", "timestamp": 1754051392.701041}}}
{"text": "2025-08-01 14:29:52.701 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.739477", "seconds": 0.739477}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 1980, "name": "SpawnProcess-29"}, "thread": {"id": 16272, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:29:52.701546+02:00", "timestamp": 1754051392.701546}}}
{"text": "2025-08-01 14:29:52.950 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.988371", "seconds": 0.988371}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 1980, "name": "SpawnProcess-29"}, "thread": {"id": 16272, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:29:52.950440+02:00", "timestamp": 1754051392.95044}}}
{"text": "2025-08-01 14:29:52.951 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.988978", "seconds": 0.988978}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 1980, "name": "SpawnProcess-29"}, "thread": {"id": 16272, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:29:52.951047+02:00", "timestamp": 1754051392.951047}}}
{"text": "2025-08-01 14:30:20.524 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:28.562345", "seconds": 28.562345}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 1980, "name": "SpawnProcess-29"}, "thread": {"id": 16272, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:30:20.524414+02:00", "timestamp": 1754051420.524414}}}
{"text": "2025-08-01 14:30:23.180 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.648868", "seconds": 0.648868}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 5592, "name": "SpawnProcess-30"}, "thread": {"id": 14568, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:30:23.180657+02:00", "timestamp": 1754051423.180657}}}
{"text": "2025-08-01 14:30:23.196 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.665067", "seconds": 0.665067}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 5592, "name": "SpawnProcess-30"}, "thread": {"id": 14568, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:30:23.196856+02:00", "timestamp": 1754051423.196856}}}
{"text": "2025-08-01 14:30:23.197 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.665575", "seconds": 0.665575}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 5592, "name": "SpawnProcess-30"}, "thread": {"id": 14568, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:30:23.197364+02:00", "timestamp": 1754051423.197364}}}
{"text": "2025-08-01 14:30:23.429 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.898028", "seconds": 0.898028}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 5592, "name": "SpawnProcess-30"}, "thread": {"id": 14568, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:30:23.429817+02:00", "timestamp": 1754051423.429817}}}
{"text": "2025-08-01 14:30:23.430 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.898637", "seconds": 0.898637}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 5592, "name": "SpawnProcess-30"}, "thread": {"id": 14568, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:30:23.430426+02:00", "timestamp": 1754051423.430426}}}
{"text": "2025-08-01 14:30:37.017 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:14.486059", "seconds": 14.486059}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 5592, "name": "SpawnProcess-30"}, "thread": {"id": 14568, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:30:37.017848+02:00", "timestamp": 1754051437.017848}}}
{"text": "2025-08-01 14:30:40.019 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.661715", "seconds": 0.661715}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 7648, "name": "SpawnProcess-32"}, "thread": {"id": 12292, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:30:40.019294+02:00", "timestamp": 1754051440.019294}}}
{"text": "2025-08-01 14:30:40.033 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.676138", "seconds": 0.676138}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 7648, "name": "SpawnProcess-32"}, "thread": {"id": 12292, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:30:40.033717+02:00", "timestamp": 1754051440.033717}}}
{"text": "2025-08-01 14:30:40.034 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.676677", "seconds": 0.676677}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 7648, "name": "SpawnProcess-32"}, "thread": {"id": 12292, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:30:40.034256+02:00", "timestamp": 1754051440.034256}}}
{"text": "2025-08-01 14:30:40.215 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.858245", "seconds": 0.858245}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 7648, "name": "SpawnProcess-32"}, "thread": {"id": 12292, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:30:40.215824+02:00", "timestamp": 1754051440.215824}}}
{"text": "2025-08-01 14:30:40.216 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.858684", "seconds": 0.858684}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 7648, "name": "SpawnProcess-32"}, "thread": {"id": 12292, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:30:40.216263+02:00", "timestamp": 1754051440.216263}}}
{"text": "2025-08-01 14:31:42.698 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:01:03.341410", "seconds": 63.34141}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 7648, "name": "SpawnProcess-32"}, "thread": {"id": 12292, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:31:42.698989+02:00", "timestamp": 1754051502.698989}}}
{"text": "2025-08-01 14:31:45.342 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.669313", "seconds": 0.669313}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 7384, "name": "SpawnProcess-33"}, "thread": {"id": 13232, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:31:45.342806+02:00", "timestamp": 1754051505.342806}}}
{"text": "2025-08-01 14:31:45.357 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.683951", "seconds": 0.683951}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 7384, "name": "SpawnProcess-33"}, "thread": {"id": 13232, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:31:45.357444+02:00", "timestamp": 1754051505.357444}}}
{"text": "2025-08-01 14:31:45.358 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.684568", "seconds": 0.684568}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 7384, "name": "SpawnProcess-33"}, "thread": {"id": 13232, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:31:45.358061+02:00", "timestamp": 1754051505.358061}}}
{"text": "2025-08-01 14:31:45.545 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.872406", "seconds": 0.872406}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 7384, "name": "SpawnProcess-33"}, "thread": {"id": 13232, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:31:45.545899+02:00", "timestamp": 1754051505.545899}}}
{"text": "2025-08-01 14:31:45.546 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.872917", "seconds": 0.872917}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 7384, "name": "SpawnProcess-33"}, "thread": {"id": 13232, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:31:45.546410+02:00", "timestamp": 1754051505.54641}}}
{"text": "2025-08-01 14:32:16.493 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:31.820211", "seconds": 31.820211}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 7384, "name": "SpawnProcess-33"}, "thread": {"id": 13232, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:32:16.493704+02:00", "timestamp": 1754051536.493704}}}
{"text": "2025-08-01 14:32:19.366 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.717968", "seconds": 0.717968}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 10432, "name": "SpawnProcess-34"}, "thread": {"id": 12560, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:32:19.366368+02:00", "timestamp": 1754051539.366368}}}
{"text": "2025-08-01 14:32:19.379 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.731531", "seconds": 0.731531}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 10432, "name": "SpawnProcess-34"}, "thread": {"id": 12560, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:32:19.379931+02:00", "timestamp": 1754051539.379931}}}
{"text": "2025-08-01 14:32:19.380 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.732210", "seconds": 0.73221}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 10432, "name": "SpawnProcess-34"}, "thread": {"id": 12560, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:32:19.380610+02:00", "timestamp": 1754051539.38061}}}
{"text": "2025-08-01 14:32:19.565 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.916654", "seconds": 0.916654}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 10432, "name": "SpawnProcess-34"}, "thread": {"id": 12560, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:32:19.565054+02:00", "timestamp": 1754051539.565054}}}
{"text": "2025-08-01 14:32:19.566 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.917619", "seconds": 0.917619}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 10432, "name": "SpawnProcess-34"}, "thread": {"id": 12560, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:32:19.566019+02:00", "timestamp": 1754051539.566019}}}
{"text": "2025-08-01 14:34:34.276 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:02:15.627846", "seconds": 135.627846}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 10432, "name": "SpawnProcess-34"}, "thread": {"id": 12560, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:34:34.276246+02:00", "timestamp": 1754051674.276246}}}
{"text": "2025-08-01 14:34:37.222 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.767494", "seconds": 0.767494}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:34:37.222367+02:00", "timestamp": 1754051677.222367}}}
{"text": "2025-08-01 14:34:37.236 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.781672", "seconds": 0.781672}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:34:37.236545+02:00", "timestamp": 1754051677.236545}}}
{"text": "2025-08-01 14:34:37.236 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.782092", "seconds": 0.782092}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:34:37.236965+02:00", "timestamp": 1754051677.236965}}}
{"text": "2025-08-01 14:34:37.771 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:01.316755", "seconds": 1.316755}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:34:37.771628+02:00", "timestamp": 1754051677.771628}}}
{"text": "2025-08-01 14:34:37.772 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:01.317362", "seconds": 1.317362}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:34:37.772235+02:00", "timestamp": 1754051677.772235}}}
{"text": "2025-08-01 14:36:06.427 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [4792acfb] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:29.972977", "seconds": 89.972977}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [4792acfb] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:06.427850+02:00", "timestamp": 1754051766.42785}}}
{"text": "2025-08-01 14:36:06.428 | INFO     | app.main:request_tracking_middleware:116 - ✅ [4792acfb] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.1ms\n", "record": {"elapsed": {"repr": "0:01:29.974089", "seconds": 89.974089}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [4792acfb] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.1ms", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:06.428962+02:00", "timestamp": 1754051766.428962}}}
{"text": "2025-08-01 14:36:06.435 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c0f1b7ea] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:29.980753", "seconds": 89.980753}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c0f1b7ea] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:06.435626+02:00", "timestamp": 1754051766.435626}}}
{"text": "2025-08-01 14:36:06.452 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:29.997322", "seconds": 89.997322}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:06.452195+02:00", "timestamp": 1754051766.452195}}}
{"text": "2025-08-01 14:36:06.452 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:01:29.998110", "seconds": 89.99811}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:06.452983+02:00", "timestamp": 1754051766.452983}}}
{"text": "2025-08-01 14:36:06.454 | ERROR    | app.main:request_tracking_middleware:129 - 💥 [c0f1b7ea] POST /api/v1/optimisation/optimisation - ERROR - 18.5ms - BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n", "record": {"elapsed": {"repr": "0:01:29.999229", "seconds": 89.999229}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 129, "message": "💥 [c0f1b7ea] POST /api/v1/optimisation/optimisation - ERROR - 18.5ms - BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:06.454102+02:00", "timestamp": 1754051766.454102}}}
{"text": "2025-08-01 14:36:06.935 | ERROR    | app.main:general_exception_handler:236 - 💥 [c0f1b7ea] Exception non gérée: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n", "record": {"elapsed": {"repr": "0:01:30.480321", "seconds": 90.480321}, "exception": null, "extra": {"extra": {"traceback": "  + Exception Group Traceback (most recent call last):\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 322, in security_headers_middleware\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 151, in custom_rate_limit_middleware\n    |     return await call_next(request)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 111, in request_tracking_middleware\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    |     await self.simple_response(scope, receive, send, request_headers=headers)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    |     await self.app(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    |     await responder(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    |     await self.app(scope, receive, self.send_with_compression)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\optimisation\\optimisation_router.py\", line 16, in matrix_optimization_route\n    |     return await evaluate_group_optimization(payload, db)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py\", line 40, in evaluate_group_optimization\n    |     redis_key = optimisation_key(payload)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\cache\\cache_keys.py\", line 89, in optimisation_key\n    |     return _hash_if_needed(payload.model_dump(exclude_none=True, sort_keys=True), \"optimisation:group\")\n    |                            ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | TypeError: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 322, in security_headers_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 151, in custom_rate_limit_middleware\n    return await call_next(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 111, in request_tracking_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\optimisation\\optimisation_router.py\", line 16, in matrix_optimization_route\n    return await evaluate_group_optimization(payload, db)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py\", line 40, in evaluate_group_optimization\n    redis_key = optimisation_key(payload)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\cache\\cache_keys.py\", line 89, in optimisation_key\n    return _hash_if_needed(payload.model_dump(exclude_none=True, sort_keys=True), \"optimisation:group\")\n                           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n"}}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "general_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 236, "message": "💥 [c0f1b7ea] Exception non gérée: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:06.935194+02:00", "timestamp": 1754051766.935194}}}
{"text": "2025-08-01 14:36:07.961 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ed3637cc] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:31.506792", "seconds": 91.506792}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ed3637cc] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:07.961665+02:00", "timestamp": 1754051767.961665}}}
{"text": "2025-08-01 14:36:07.964 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ed3637cc] OPTIONS /api/v1/optimisation/optimisation - 200 - 2.4ms\n", "record": {"elapsed": {"repr": "0:01:31.509235", "seconds": 91.509235}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ed3637cc] OPTIONS /api/v1/optimisation/optimisation - 200 - 2.4ms", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:07.964108+02:00", "timestamp": 1754051767.964108}}}
{"text": "2025-08-01 14:36:07.972 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [66ad2216] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:31.517349", "seconds": 91.517349}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [66ad2216] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:07.972222+02:00", "timestamp": 1754051767.972222}}}
{"text": "2025-08-01 14:36:07.978 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:31.523619", "seconds": 91.523619}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:07.978492+02:00", "timestamp": 1754051767.978492}}}
{"text": "2025-08-01 14:36:07.980 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:01:31.526074", "seconds": 91.526074}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:07.980947+02:00", "timestamp": 1754051767.980947}}}
{"text": "2025-08-01 14:36:07.981 | ERROR    | app.main:request_tracking_middleware:129 - 💥 [66ad2216] POST /api/v1/optimisation/optimisation - ERROR - 9.8ms - BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n", "record": {"elapsed": {"repr": "0:01:31.527124", "seconds": 91.527124}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 129, "message": "💥 [66ad2216] POST /api/v1/optimisation/optimisation - ERROR - 9.8ms - BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:07.981997+02:00", "timestamp": 1754051767.981997}}}
{"text": "2025-08-01 14:36:07.994 | ERROR    | app.main:general_exception_handler:236 - 💥 [66ad2216] Exception non gérée: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n", "record": {"elapsed": {"repr": "0:01:31.540082", "seconds": 91.540082}, "exception": null, "extra": {"extra": {"traceback": "  + Exception Group Traceback (most recent call last):\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 322, in security_headers_middleware\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 151, in custom_rate_limit_middleware\n    |     return await call_next(request)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 111, in request_tracking_middleware\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    |     await self.simple_response(scope, receive, send, request_headers=headers)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    |     await self.app(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    |     await responder(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    |     await self.app(scope, receive, self.send_with_compression)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\optimisation\\optimisation_router.py\", line 16, in matrix_optimization_route\n    |     return await evaluate_group_optimization(payload, db)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py\", line 40, in evaluate_group_optimization\n    |     redis_key = optimisation_key(payload)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\cache\\cache_keys.py\", line 89, in optimisation_key\n    |     return _hash_if_needed(payload.model_dump(exclude_none=True, sort_keys=True), \"optimisation:group\")\n    |                            ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | TypeError: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 322, in security_headers_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 151, in custom_rate_limit_middleware\n    return await call_next(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 111, in request_tracking_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\optimisation\\optimisation_router.py\", line 16, in matrix_optimization_route\n    return await evaluate_group_optimization(payload, db)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py\", line 40, in evaluate_group_optimization\n    redis_key = optimisation_key(payload)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\cache\\cache_keys.py\", line 89, in optimisation_key\n    return _hash_if_needed(payload.model_dump(exclude_none=True, sort_keys=True), \"optimisation:group\")\n                           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n"}}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "general_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 236, "message": "💥 [66ad2216] Exception non gérée: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:07.994955+02:00", "timestamp": 1754051767.994955}}}
{"text": "2025-08-01 14:36:08.257 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [82e108c7] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:31.802278", "seconds": 91.802278}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [82e108c7] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:08.257151+02:00", "timestamp": 1754051768.257151}}}
{"text": "2025-08-01 14:36:08.259 | INFO     | app.main:request_tracking_middleware:116 - ✅ [82e108c7] OPTIONS /api/v1/optimisation/optimisation - 200 - 2.3ms\n", "record": {"elapsed": {"repr": "0:01:31.804597", "seconds": 91.804597}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [82e108c7] OPTIONS /api/v1/optimisation/optimisation - 200 - 2.3ms", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:08.259470+02:00", "timestamp": 1754051768.25947}}}
{"text": "2025-08-01 14:36:08.266 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c7d8c3ab] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:31.811248", "seconds": 91.811248}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c7d8c3ab] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:08.266121+02:00", "timestamp": 1754051768.266121}}}
{"text": "2025-08-01 14:36:08.268 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:31.814077", "seconds": 91.814077}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:08.268950+02:00", "timestamp": 1754051768.26895}}}
{"text": "2025-08-01 14:36:08.269 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:01:31.814551", "seconds": 91.814551}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:08.269424+02:00", "timestamp": 1754051768.269424}}}
{"text": "2025-08-01 14:36:08.270 | ERROR    | app.main:request_tracking_middleware:129 - 💥 [c7d8c3ab] POST /api/v1/optimisation/optimisation - ERROR - 4.5ms - BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n", "record": {"elapsed": {"repr": "0:01:31.815738", "seconds": 91.815738}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 129, "message": "💥 [c7d8c3ab] POST /api/v1/optimisation/optimisation - ERROR - 4.5ms - BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:08.270611+02:00", "timestamp": 1754051768.270611}}}
{"text": "2025-08-01 14:36:08.300 | ERROR    | app.main:general_exception_handler:236 - 💥 [c7d8c3ab] Exception non gérée: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n", "record": {"elapsed": {"repr": "0:01:31.845528", "seconds": 91.845528}, "exception": null, "extra": {"extra": {"traceback": "  + Exception Group Traceback (most recent call last):\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 322, in security_headers_middleware\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 151, in custom_rate_limit_middleware\n    |     return await call_next(request)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 111, in request_tracking_middleware\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    |     await self.simple_response(scope, receive, send, request_headers=headers)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    |     await self.app(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    |     await responder(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    |     await self.app(scope, receive, self.send_with_compression)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\optimisation\\optimisation_router.py\", line 16, in matrix_optimization_route\n    |     return await evaluate_group_optimization(payload, db)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py\", line 40, in evaluate_group_optimization\n    |     redis_key = optimisation_key(payload)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\cache\\cache_keys.py\", line 89, in optimisation_key\n    |     return _hash_if_needed(payload.model_dump(exclude_none=True, sort_keys=True), \"optimisation:group\")\n    |                            ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | TypeError: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 322, in security_headers_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 151, in custom_rate_limit_middleware\n    return await call_next(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 111, in request_tracking_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\optimisation\\optimisation_router.py\", line 16, in matrix_optimization_route\n    return await evaluate_group_optimization(payload, db)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py\", line 40, in evaluate_group_optimization\n    redis_key = optimisation_key(payload)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\cache\\cache_keys.py\", line 89, in optimisation_key\n    return _hash_if_needed(payload.model_dump(exclude_none=True, sort_keys=True), \"optimisation:group\")\n                           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n"}}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "general_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 236, "message": "💥 [c7d8c3ab] Exception non gérée: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:08.300401+02:00", "timestamp": 1754051768.300401}}}
{"text": "2025-08-01 14:36:08.642 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ba4b92b8] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:32.187539", "seconds": 92.187539}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ba4b92b8] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:08.642412+02:00", "timestamp": 1754051768.642412}}}
{"text": "2025-08-01 14:36:08.897 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ba4b92b8] GET /api/v1/suggestions/refint-codpro - 200 - 255.1ms\n", "record": {"elapsed": {"repr": "0:01:32.442681", "seconds": 92.442681}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ba4b92b8] GET /api/v1/suggestions/refint-codpro - 200 - 255.1ms", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:08.897554+02:00", "timestamp": 1754051768.897554}}}
{"text": "2025-08-01 14:36:09.356 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [3a046113] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:32.901570", "seconds": 92.90157}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [3a046113] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:09.356443+02:00", "timestamp": 1754051769.356443}}}
{"text": "2025-08-01 14:36:09.357 | INFO     | app.main:request_tracking_middleware:116 - ✅ [3a046113] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.2ms\n", "record": {"elapsed": {"repr": "0:01:32.902748", "seconds": 92.902748}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [3a046113] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.2ms", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:09.357621+02:00", "timestamp": 1754051769.357621}}}
{"text": "2025-08-01 14:36:09.361 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [502ef0c7] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:32.906575", "seconds": 92.906575}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [502ef0c7] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:09.361448+02:00", "timestamp": 1754051769.361448}}}
{"text": "2025-08-01 14:36:09.363 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:32.908929", "seconds": 92.908929}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:09.363802+02:00", "timestamp": 1754051769.363802}}}
{"text": "2025-08-01 14:36:09.364 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:01:32.909284", "seconds": 92.909284}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:09.364157+02:00", "timestamp": 1754051769.364157}}}
{"text": "2025-08-01 14:36:09.364 | ERROR    | app.main:request_tracking_middleware:129 - 💥 [502ef0c7] POST /api/v1/optimisation/optimisation - ERROR - 3.5ms - BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n", "record": {"elapsed": {"repr": "0:01:32.910110", "seconds": 92.91011}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 129, "message": "💥 [502ef0c7] POST /api/v1/optimisation/optimisation - ERROR - 3.5ms - BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:09.364983+02:00", "timestamp": 1754051769.364983}}}
{"text": "2025-08-01 14:36:09.401 | ERROR    | app.main:general_exception_handler:236 - 💥 [502ef0c7] Exception non gérée: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n", "record": {"elapsed": {"repr": "0:01:32.946825", "seconds": 92.946825}, "exception": null, "extra": {"extra": {"traceback": "  + Exception Group Traceback (most recent call last):\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 322, in security_headers_middleware\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 151, in custom_rate_limit_middleware\n    |     return await call_next(request)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 111, in request_tracking_middleware\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    |     await self.simple_response(scope, receive, send, request_headers=headers)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    |     await self.app(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    |     await responder(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    |     await self.app(scope, receive, self.send_with_compression)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\optimisation\\optimisation_router.py\", line 16, in matrix_optimization_route\n    |     return await evaluate_group_optimization(payload, db)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py\", line 40, in evaluate_group_optimization\n    |     redis_key = optimisation_key(payload)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\cache\\cache_keys.py\", line 89, in optimisation_key\n    |     return _hash_if_needed(payload.model_dump(exclude_none=True, sort_keys=True), \"optimisation:group\")\n    |                            ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | TypeError: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 322, in security_headers_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 151, in custom_rate_limit_middleware\n    return await call_next(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 111, in request_tracking_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\optimisation\\optimisation_router.py\", line 16, in matrix_optimization_route\n    return await evaluate_group_optimization(payload, db)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py\", line 40, in evaluate_group_optimization\n    redis_key = optimisation_key(payload)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\cache\\cache_keys.py\", line 89, in optimisation_key\n    return _hash_if_needed(payload.model_dump(exclude_none=True, sort_keys=True), \"optimisation:group\")\n                           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n"}}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "general_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 236, "message": "💥 [502ef0c7] Exception non gérée: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:09.401698+02:00", "timestamp": 1754051769.401698}}}
{"text": "2025-08-01 14:36:11.417 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [b3843554] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:34.962575", "seconds": 94.962575}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [b3843554] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:11.417448+02:00", "timestamp": 1754051771.417448}}}
{"text": "2025-08-01 14:36:11.419 | INFO     | app.main:request_tracking_middleware:116 - ✅ [b3843554] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.7ms\n", "record": {"elapsed": {"repr": "0:01:34.964288", "seconds": 94.964288}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [b3843554] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.7ms", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:11.419161+02:00", "timestamp": 1754051771.419161}}}
{"text": "2025-08-01 14:36:11.422 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [91563f12] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:34.967606", "seconds": 94.967606}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [91563f12] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:11.422479+02:00", "timestamp": 1754051771.422479}}}
{"text": "2025-08-01 14:36:11.424 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:34.969929", "seconds": 94.969929}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:11.424802+02:00", "timestamp": 1754051771.424802}}}
{"text": "2025-08-01 14:36:11.425 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:01:34.970303", "seconds": 94.970303}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:11.425176+02:00", "timestamp": 1754051771.425176}}}
{"text": "2025-08-01 14:36:11.426 | ERROR    | app.main:request_tracking_middleware:129 - 💥 [91563f12] POST /api/v1/optimisation/optimisation - ERROR - 3.6ms - BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n", "record": {"elapsed": {"repr": "0:01:34.971170", "seconds": 94.97117}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 129, "message": "💥 [91563f12] POST /api/v1/optimisation/optimisation - ERROR - 3.6ms - BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:11.426043+02:00", "timestamp": 1754051771.426043}}}
{"text": "2025-08-01 14:36:11.438 | ERROR    | app.main:general_exception_handler:236 - 💥 [91563f12] Exception non gérée: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n", "record": {"elapsed": {"repr": "0:01:34.984101", "seconds": 94.984101}, "exception": null, "extra": {"extra": {"traceback": "  + Exception Group Traceback (most recent call last):\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 322, in security_headers_middleware\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 151, in custom_rate_limit_middleware\n    |     return await call_next(request)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 111, in request_tracking_middleware\n    |     response = await call_next(request)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    |     await self.simple_response(scope, receive, send, request_headers=headers)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    |     await self.app(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    |     await responder(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    |     await self.app(scope, receive, self.send_with_compression)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\optimisation\\optimisation_router.py\", line 16, in matrix_optimization_route\n    |     return await evaluate_group_optimization(payload, db)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py\", line 40, in evaluate_group_optimization\n    |     redis_key = optimisation_key(payload)\n    |   File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\cache\\cache_keys.py\", line 89, in optimisation_key\n    |     return _hash_if_needed(payload.model_dump(exclude_none=True, sort_keys=True), \"optimisation:group\")\n    |                            ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | TypeError: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 322, in security_headers_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 151, in custom_rate_limit_middleware\n    return await call_next(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Program Files (x86)\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py\", line 111, in request_tracking_middleware\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 159, in call_next\n    raise app_exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 29, in __call__\n    await responder(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 130, in __call__\n    await super().__call__(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 46, in __call__\n    await self.app(scope, receive, self.send_with_compression)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\optimisation\\optimisation_router.py\", line 16, in matrix_optimization_route\n    return await evaluate_group_optimization(payload, db)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py\", line 40, in evaluate_group_optimization\n    redis_key = optimisation_key(payload)\n  File \"D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\cache\\cache_keys.py\", line 89, in optimisation_key\n    return _hash_if_needed(payload.model_dump(exclude_none=True, sort_keys=True), \"optimisation:group\")\n                           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'\n"}}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "general_exception_handler", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 236, "message": "💥 [91563f12] Exception non gérée: BaseModel.model_dump() got an unexpected keyword argument 'sort_keys'", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:36:11.438974+02:00", "timestamp": 1754051771.438974}}}
{"text": "2025-08-01 14:37:42.680 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:03:06.225182", "seconds": 186.225182}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 5864, "name": "SpawnProcess-35"}, "thread": {"id": 6808, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:37:42.680055+02:00", "timestamp": 1754051862.680055}}}
{"text": "2025-08-01 14:37:46.206 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.795368", "seconds": 0.795368}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 18448, "name": "SpawnProcess-36"}, "thread": {"id": 5004, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:37:46.206604+02:00", "timestamp": 1754051866.206604}}}
{"text": "2025-08-01 14:37:46.224 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.813312", "seconds": 0.813312}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 18448, "name": "SpawnProcess-36"}, "thread": {"id": 5004, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:37:46.224548+02:00", "timestamp": 1754051866.224548}}}
{"text": "2025-08-01 14:37:46.225 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.814105", "seconds": 0.814105}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 18448, "name": "SpawnProcess-36"}, "thread": {"id": 5004, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:37:46.225341+02:00", "timestamp": 1754051866.225341}}}
{"text": "2025-08-01 14:37:46.476 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:01.065352", "seconds": 1.065352}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 18448, "name": "SpawnProcess-36"}, "thread": {"id": 5004, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:37:46.476588+02:00", "timestamp": 1754051866.476588}}}
{"text": "2025-08-01 14:37:46.477 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:01.066015", "seconds": 1.066015}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 18448, "name": "SpawnProcess-36"}, "thread": {"id": 5004, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:37:46.477251+02:00", "timestamp": 1754051866.477251}}}
{"text": "2025-08-01 14:38:38.720 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:53.308953", "seconds": 53.308953}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 18448, "name": "SpawnProcess-36"}, "thread": {"id": 5004, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:38.720189+02:00", "timestamp": 1754051918.720189}}}
{"text": "2025-08-01 14:38:41.352 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.721415", "seconds": 0.721415}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:41.352944+02:00", "timestamp": 1754051921.352944}}}
{"text": "2025-08-01 14:38:41.365 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.734097", "seconds": 0.734097}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:41.365626+02:00", "timestamp": 1754051921.365626}}}
{"text": "2025-08-01 14:38:41.366 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.734496", "seconds": 0.734496}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:41.366025+02:00", "timestamp": 1754051921.366025}}}
{"text": "2025-08-01 14:38:41.529 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.897565", "seconds": 0.897565}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:41.529094+02:00", "timestamp": 1754051921.529094}}}
{"text": "2025-08-01 14:38:41.529 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.898211", "seconds": 0.898211}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:41.529740+02:00", "timestamp": 1754051921.52974}}}
{"text": "2025-08-01 14:38:45.381 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ec63c99d] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:04.750167", "seconds": 4.750167}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ec63c99d] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.381696+02:00", "timestamp": 1754051925.381696}}}
{"text": "2025-08-01 14:38:45.382 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ec63c99d] OPTIONS /api/v1/dashboard/fiche - 200 - 1.2ms\n", "record": {"elapsed": {"repr": "0:00:04.751377", "seconds": 4.751377}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ec63c99d] OPTIONS /api/v1/dashboard/fiche - 200 - 1.2ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.382906+02:00", "timestamp": 1754051925.382906}}}
{"text": "2025-08-01 14:38:45.389 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c1f5a060] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:04.758319", "seconds": 4.758319}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c1f5a060] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.389848+02:00", "timestamp": 1754051925.389848}}}
{"text": "2025-08-01 14:38:45.439 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=PMQ\n", "record": {"elapsed": {"repr": "0:00:04.807485", "seconds": 4.807485}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=PMQ", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.439014+02:00", "timestamp": 1754051925.439014}}}
{"text": "2025-08-01 14:38:45.474 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 2 cod_pro\n", "record": {"elapsed": {"repr": "0:00:04.842739", "seconds": 4.842739}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 2 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.474268+02:00", "timestamp": 1754051925.474268}}}
{"text": "2025-08-01 14:38:45.492 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:04.861356", "seconds": 4.861356}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.492885+02:00", "timestamp": 1754051925.492885}}}
{"text": "2025-08-01 14:38:45.600 | DEBUG    | app.services.products.detail_service:get_product_details:77 - ✅ Détails produits récupérés: 2 éléments\n", "record": {"elapsed": {"repr": "0:00:04.968670", "seconds": 4.96867}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 77, "message": "✅ Détails produits récupérés: 2 éléments", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.600199+02:00", "timestamp": 1754051925.600199}}}
{"text": "2025-08-01 14:38:45.601 | DEBUG    | app.services.products.detail_service:get_product_details:82 - ✅ Cache set produit:details pour produit:details:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"qualite\": \"PMQ\"}\n", "record": {"elapsed": {"repr": "0:00:04.969910", "seconds": 4.96991}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 82, "message": "✅ Cache set produit:details pour produit:details:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"qualite\": \"PMQ\"}", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.601439+02:00", "timestamp": 1754051925.601439}}}
{"text": "2025-08-01 14:38:45.603 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:04.971560", "seconds": 4.97156}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.603089+02:00", "timestamp": 1754051925.603089}}}
{"text": "2025-08-01 14:38:45.648 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:77 - ✅ Agrégat ventes récupéré: 2 éléments\n", "record": {"elapsed": {"repr": "0:00:05.016666", "seconds": 5.016666}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 77, "message": "✅ Agrégat ventes récupéré: 2 éléments", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.648195+02:00", "timestamp": 1754051925.648195}}}
{"text": "2025-08-01 14:38:45.649 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:81 - ✅ Cache set sales:agg pour sales:agg:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"qualite\": \"PMQ\"}\n", "record": {"elapsed": {"repr": "0:00:05.017900", "seconds": 5.0179}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 81, "message": "✅ Cache set sales:agg pour sales:agg:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"qualite\": \"PMQ\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.649429+02:00", "timestamp": 1754051925.649429}}}
{"text": "2025-08-01 14:38:45.651 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:05.020056", "seconds": 5.020056}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.651585+02:00", "timestamp": 1754051925.651585}}}
{"text": "2025-08-01 14:38:45.668 | DEBUG    | app.services.sales.sales_service:get_sales_history:162 - ✅ Historique ventes récupéré: 4 éléments pour période >= 2024-09-01\n", "record": {"elapsed": {"repr": "0:00:05.036518", "seconds": 5.036518}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 162, "message": "✅ Historique ventes récupéré: 4 éléments pour période >= 2024-09-01", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.668047+02:00", "timestamp": 1754051925.668047}}}
{"text": "2025-08-01 14:38:45.670 | DEBUG    | app.services.sales.sales_service:get_sales_history:166 - ✅ Cache set sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\", \"qualite\": \"PMQ\"}\n", "record": {"elapsed": {"repr": "0:00:05.038847", "seconds": 5.038847}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 166, "message": "✅ Cache set sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\", \"qualite\": \"PMQ\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.670376+02:00", "timestamp": 1754051925.670376}}}
{"text": "2025-08-01 14:38:45.671 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:05.040138", "seconds": 5.040138}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.671667+02:00", "timestamp": 1754051925.671667}}}
{"text": "2025-08-01 14:38:45.755 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:63 - ✅ Stock actuel récupéré: 11 éléments\n", "record": {"elapsed": {"repr": "0:00:05.124109", "seconds": 5.124109}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 63, "message": "✅ Stock actuel récupéré: 11 éléments", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.755638+02:00", "timestamp": 1754051925.755638}}}
{"text": "2025-08-01 14:38:45.757 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:67 - ✅ Cache set stock:actuel pour stock:actuel:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"qualite\": \"PMQ\"}\n", "record": {"elapsed": {"repr": "0:00:05.125482", "seconds": 5.125482}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 67, "message": "✅ Cache set stock:actuel pour stock:actuel:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"qualite\": \"PMQ\"}", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.757011+02:00", "timestamp": 1754051925.757011}}}
{"text": "2025-08-01 14:38:45.759 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:05.128106", "seconds": 5.128106}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.759635+02:00", "timestamp": 1754051925.759635}}}
{"text": "2025-08-01 14:38:45.782 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:63 - ✅ Cache enregistré purchase_price pour purchase:price:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"qualite\": \"PMQ\"}\n", "record": {"elapsed": {"repr": "0:00:05.151268", "seconds": 5.151268}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 63, "message": "✅ Cache enregistré purchase_price pour purchase:price:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"qualite\": \"PMQ\"}", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.782797+02:00", "timestamp": 1754051925.782797}}}
{"text": "2025-08-01 14:38:45.827 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=PMQ\n", "record": {"elapsed": {"repr": "0:00:05.195697", "seconds": 5.195697}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=PMQ", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.827226+02:00", "timestamp": 1754051925.827226}}}
{"text": "2025-08-01 14:38:45.842 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 2 cod_pro\n", "record": {"elapsed": {"repr": "0:00:05.211342", "seconds": 5.211342}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 2 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.842871+02:00", "timestamp": 1754051925.842871}}}
{"text": "2025-08-01 14:38:45.940 | DEBUG    | app.services.products.match_service:get_codpro_match_list:76 - ✅ Matches récupérés: 8 éléments uniques\n", "record": {"elapsed": {"repr": "0:00:05.308712", "seconds": 5.308712}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Matches récupérés: 8 éléments uniques", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.940241+02:00", "timestamp": 1754051925.940241}}}
{"text": "2025-08-01 14:38:45.941 | DEBUG    | app.services.products.match_service:get_codpro_match_list:81 - ✅ Cache set get_codpro_match_list pour match:codpro:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"qualite\": \"PMQ\"}\n", "record": {"elapsed": {"repr": "0:00:05.309729", "seconds": 5.309729}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 81, "message": "✅ Cache set get_codpro_match_list pour match:codpro:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"qualite\": \"PMQ\"}", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.941258+02:00", "timestamp": 1754051925.941258}}}
{"text": "2025-08-01 14:38:45.946 | INFO     | app.main:request_tracking_middleware:116 - ✅ [c1f5a060] POST /api/v1/dashboard/fiche - 200 - 556.6ms\n", "record": {"elapsed": {"repr": "0:00:05.314890", "seconds": 5.31489}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [c1f5a060] POST /api/v1/dashboard/fiche - 200 - 556.6ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:45.946419+02:00", "timestamp": 1754051925.946419}}}
{"text": "2025-08-01 14:38:48.874 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5600bf4b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.242564", "seconds": 8.242564}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5600bf4b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:48.874093+02:00", "timestamp": 1754051928.874093}}}
{"text": "2025-08-01 14:38:49.146 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5600bf4b] GET /api/v1/suggestions/refint-codpro - 200 - 272.1ms\n", "record": {"elapsed": {"repr": "0:00:08.514599", "seconds": 8.514599}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5600bf4b] GET /api/v1/suggestions/refint-codpro - 200 - 272.1ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:49.146128+02:00", "timestamp": 1754051929.146128}}}
{"text": "2025-08-01 14:38:59.340 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [7ba5250e] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:18.709464", "seconds": 18.709464}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [7ba5250e] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:59.340993+02:00", "timestamp": 1754051939.340993}}}
{"text": "2025-08-01 14:38:59.344 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:18.713353", "seconds": 18.713353}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:59.344882+02:00", "timestamp": 1754051939.344882}}}
{"text": "2025-08-01 14:38:59.346 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:00:18.714848", "seconds": 18.714848}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:59.346377+02:00", "timestamp": 1754051939.346377}}}
{"text": "2025-08-01 14:38:59.347 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:00:18.715942", "seconds": 18.715942}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:59.347471+02:00", "timestamp": 1754051939.347471}}}
{"text": "2025-08-01 14:38:59.348 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:00:18.716987", "seconds": 18.716987}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:59.348516+02:00", "timestamp": 1754051939.348516}}}
{"text": "2025-08-01 14:38:59.349 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:00:18.718184", "seconds": 18.718184}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:59.349713+02:00", "timestamp": 1754051939.349713}}}
{"text": "2025-08-01 14:38:59.350 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:00:18.719449", "seconds": 18.719449}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:59.350978+02:00", "timestamp": 1754051939.350978}}}
{"text": "2025-08-01 14:38:59.352 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:18.720660", "seconds": 18.72066}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:59.352189+02:00", "timestamp": 1754051939.352189}}}
{"text": "2025-08-01 14:38:59.353 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\", \"qualite\": \"PMQ\"}\n", "record": {"elapsed": {"repr": "0:00:18.721841", "seconds": 18.721841}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\", \"qualite\": \"PMQ\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:59.353370+02:00", "timestamp": 1754051939.35337}}}
{"text": "2025-08-01 14:38:59.355 | INFO     | app.main:request_tracking_middleware:116 - ✅ [7ba5250e] POST /api/v1/dashboard/fiche - 200 - 14.4ms\n", "record": {"elapsed": {"repr": "0:00:18.723845", "seconds": 18.723845}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [7ba5250e] POST /api/v1/dashboard/fiche - 200 - 14.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:38:59.355374+02:00", "timestamp": 1754051939.355374}}}
{"text": "2025-08-01 14:39:00.352 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ba7b1e2c] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:19.720733", "seconds": 19.720733}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ba7b1e2c] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:00.352262+02:00", "timestamp": 1754051940.352262}}}
{"text": "2025-08-01 14:39:01.054 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ba7b1e2c] GET /api/v1/suggestions/refint-codpro - 200 - 702.1ms\n", "record": {"elapsed": {"repr": "0:00:20.422856", "seconds": 20.422856}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ba7b1e2c] GET /api/v1/suggestions/refint-codpro - 200 - 702.1ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:01.054385+02:00", "timestamp": 1754051941.054385}}}
{"text": "2025-08-01 14:39:05.463 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [084f8c60] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:24.831638", "seconds": 24.831638}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [084f8c60] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:05.463167+02:00", "timestamp": 1754051945.463167}}}
{"text": "2025-08-01 14:39:05.469 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:24.837622", "seconds": 24.837622}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:05.469151+02:00", "timestamp": 1754051945.469151}}}
{"text": "2025-08-01 14:39:05.470 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:00:24.838880", "seconds": 24.83888}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:05.470409+02:00", "timestamp": 1754051945.470409}}}
{"text": "2025-08-01 14:39:05.471 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:00:24.839914", "seconds": 24.839914}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:05.471443+02:00", "timestamp": 1754051945.471443}}}
{"text": "2025-08-01 14:39:05.473 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:00:24.841978", "seconds": 24.841978}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:05.473507+02:00", "timestamp": 1754051945.473507}}}
{"text": "2025-08-01 14:39:05.474 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:00:24.842999", "seconds": 24.842999}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:05.474528+02:00", "timestamp": 1754051945.474528}}}
{"text": "2025-08-01 14:39:05.475 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:00:24.844260", "seconds": 24.84426}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:05.475789+02:00", "timestamp": 1754051945.475789}}}
{"text": "2025-08-01 14:39:05.477 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639\n", "record": {"elapsed": {"repr": "0:00:24.845483", "seconds": 24.845483}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:7d13c6e105044f4d489f724e51e1a639", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:05.477012+02:00", "timestamp": 1754051945.477012}}}
{"text": "2025-08-01 14:39:05.478 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\", \"qualite\": \"PMQ\"}\n", "record": {"elapsed": {"repr": "0:00:24.846648", "seconds": 24.846648}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\", \"qualite\": \"PMQ\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:05.478177+02:00", "timestamp": 1754051945.478177}}}
{"text": "2025-08-01 14:39:05.480 | INFO     | app.main:request_tracking_middleware:116 - ✅ [084f8c60] POST /api/v1/dashboard/fiche - 200 - 17.8ms\n", "record": {"elapsed": {"repr": "0:00:24.849383", "seconds": 24.849383}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [084f8c60] POST /api/v1/dashboard/fiche - 200 - 17.8ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:05.480912+02:00", "timestamp": 1754051945.480912}}}
{"text": "2025-08-01 14:39:09.017 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c9935454] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:28.385676", "seconds": 28.385676}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c9935454] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:09.017205+02:00", "timestamp": 1754051949.017205}}}
{"text": "2025-08-01 14:39:09.019 | INFO     | app.main:request_tracking_middleware:116 - ✅ [c9935454] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.9ms\n", "record": {"elapsed": {"repr": "0:00:28.387525", "seconds": 28.387525}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [c9935454] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.9ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:09.019054+02:00", "timestamp": 1754051949.019054}}}
{"text": "2025-08-01 14:39:09.026 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [907bffd0] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:28.394807", "seconds": 28.394807}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [907bffd0] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:09.026336+02:00", "timestamp": 1754051949.026336}}}
{"text": "2025-08-01 14:39:09.035 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:28.404300", "seconds": 28.4043}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:09.035829+02:00", "timestamp": 1754051949.035829}}}
{"text": "2025-08-01 14:39:09.037 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:00:28.405766", "seconds": 28.405766}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:09.037295+02:00", "timestamp": 1754051949.037295}}}
{"text": "2025-08-01 14:39:09.040 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:00:28.408473", "seconds": 28.408473}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:09.040002+02:00", "timestamp": 1754051949.040002}}}
{"text": "2025-08-01 14:39:09.160 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:88 - SQL principale exécutée en 0.12s, 1 lignes\n", "record": {"elapsed": {"repr": "0:00:28.529090", "seconds": 28.52909}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 88, "message": "SQL principale exécutée en 0.12s, 1 lignes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:09.160619+02:00", "timestamp": 1754051949.160619}}}
{"text": "2025-08-01 14:39:09.161 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:102 - 1 groupes trouvés après agrégation\n", "record": {"elapsed": {"repr": "0:00:28.529637", "seconds": 28.529637}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 102, "message": "1 groupes trouvés après agrégation", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:09.161166+02:00", "timestamp": 1754051949.161166}}}
{"text": "2025-08-01 14:39:09.437 | DEBUG    | app.services.optimisation.optimisation_service:_get_sales_history_for_trend:194 - Historique tendance récupéré: 1 groupes\n", "record": {"elapsed": {"repr": "0:00:28.806409", "seconds": 28.806409}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_get_sales_history_for_trend", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 194, "message": "Historique tendance récupéré: 1 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:09.437938+02:00", "timestamp": 1754051949.437938}}}
{"text": "2025-08-01 14:39:09.438 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:105 - Historique récupéré pour 1 groupes\n", "record": {"elapsed": {"repr": "0:00:28.807409", "seconds": 28.807409}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "Historique récupéré pour 1 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:09.438938+02:00", "timestamp": 1754051949.438938}}}
{"text": "2025-08-01 14:39:09.440 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:153 - ✅ Cache set optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:00:28.808972", "seconds": 28.808972}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 153, "message": "✅ Cache set optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:09.440501+02:00", "timestamp": 1754051949.440501}}}
{"text": "2025-08-01 14:39:09.441 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:157 - Optimisation calculée: 0 groupes analysés\n", "record": {"elapsed": {"repr": "0:00:28.809604", "seconds": 28.809604}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 157, "message": "Optimisation calculée: 0 groupes analysés", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:09.441133+02:00", "timestamp": 1754051949.441133}}}
{"text": "2025-08-01 14:39:09.443 | INFO     | app.main:request_tracking_middleware:116 - ✅ [907bffd0] POST /api/v1/optimisation/optimisation - 200 - 417.5ms\n", "record": {"elapsed": {"repr": "0:00:28.812259", "seconds": 28.812259}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [907bffd0] POST /api/v1/optimisation/optimisation - 200 - 417.5ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:09.443788+02:00", "timestamp": 1754051949.443788}}}
{"text": "2025-08-01 14:39:13.155 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [d60fee0f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:32.523939", "seconds": 32.523939}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [d60fee0f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:13.155468+02:00", "timestamp": 1754051953.155468}}}
{"text": "2025-08-01 14:39:13.348 | INFO     | app.main:request_tracking_middleware:116 - ✅ [d60fee0f] GET /api/v1/suggestions/refint-codpro - 200 - 193.3ms\n", "record": {"elapsed": {"repr": "0:00:32.717278", "seconds": 32.717278}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [d60fee0f] GET /api/v1/suggestions/refint-codpro - 200 - 193.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:13.348807+02:00", "timestamp": 1754051953.348807}}}
{"text": "2025-08-01 14:39:13.950 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [1cb04b7b] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:33.318743", "seconds": 33.318743}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [1cb04b7b] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:13.950272+02:00", "timestamp": 1754051953.950272}}}
{"text": "2025-08-01 14:39:13.954 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:33.322518", "seconds": 33.322518}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:13.954047+02:00", "timestamp": 1754051953.954047}}}
{"text": "2025-08-01 14:39:13.954 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:00:33.323323", "seconds": 33.323323}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:13.954852+02:00", "timestamp": 1754051953.954852}}}
{"text": "2025-08-01 14:39:13.957 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:00:33.325732", "seconds": 33.325732}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:13.957261+02:00", "timestamp": 1754051953.957261}}}
{"text": "2025-08-01 14:39:13.959 | INFO     | app.main:request_tracking_middleware:116 - ✅ [1cb04b7b] POST /api/v1/optimisation/optimisation - 200 - 9.2ms\n", "record": {"elapsed": {"repr": "0:00:33.327952", "seconds": 33.327952}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [1cb04b7b] POST /api/v1/optimisation/optimisation - 200 - 9.2ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:13.959481+02:00", "timestamp": 1754051953.959481}}}
{"text": "2025-08-01 14:39:14.325 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [b28c3b1a] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:33.694269", "seconds": 33.694269}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [b28c3b1a] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:14.325798+02:00", "timestamp": 1754051954.325798}}}
{"text": "2025-08-01 14:39:14.493 | INFO     | app.main:request_tracking_middleware:116 - ✅ [b28c3b1a] GET /api/v1/suggestions/refint-codpro - 200 - 167.2ms\n", "record": {"elapsed": {"repr": "0:00:33.861504", "seconds": 33.861504}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [b28c3b1a] GET /api/v1/suggestions/refint-codpro - 200 - 167.2ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:14.493033+02:00", "timestamp": 1754051954.493033}}}
{"text": "2025-08-01 14:39:38.595 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [f69ef044] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:57.963524", "seconds": 57.963524}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [f69ef044] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:38.595053+02:00", "timestamp": 1754051978.595053}}}
{"text": "2025-08-01 14:39:38.822 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [0bf75f61] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:58.190722", "seconds": 58.190722}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [0bf75f61] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:38.822251+02:00", "timestamp": 1754051978.822251}}}
{"text": "2025-08-01 14:39:38.827 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:58.195483", "seconds": 58.195483}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:38.827012+02:00", "timestamp": 1754051978.827012}}}
{"text": "2025-08-01 14:39:38.827 | WARNING  | app.services.optimisation.optimisation_service:evaluate_group_optimization:25 - Payload vide\n", "record": {"elapsed": {"repr": "0:00:58.195934", "seconds": 58.195934}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 25, "message": "Payload vide", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:38.827463+02:00", "timestamp": 1754051978.827463}}}
{"text": "2025-08-01 14:39:38.828 | INFO     | app.main:request_tracking_middleware:116 - ✅ [0bf75f61] POST /api/v1/optimisation/optimisation - 200 - 6.4ms\n", "record": {"elapsed": {"repr": "0:00:58.197046", "seconds": 58.197046}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [0bf75f61] POST /api/v1/optimisation/optimisation - 200 - 6.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:38.828575+02:00", "timestamp": 1754051978.828575}}}
{"text": "2025-08-01 14:39:39.132 | INFO     | app.main:request_tracking_middleware:116 - ✅ [f69ef044] GET /api/v1/suggestions/refint-codpro - 200 - 537.4ms\n", "record": {"elapsed": {"repr": "0:00:58.500921", "seconds": 58.500921}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [f69ef044] GET /api/v1/suggestions/refint-codpro - 200 - 537.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:39:39.132450+02:00", "timestamp": 1754051979.13245}}}
{"text": "2025-08-01 14:41:52.403 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [7ac582ca] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:11.772086", "seconds": 191.772086}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [7ac582ca] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:41:52.403615+02:00", "timestamp": 1754052112.403615}}}
{"text": "2025-08-01 14:41:52.624 | INFO     | app.main:request_tracking_middleware:116 - ✅ [7ac582ca] GET /api/v1/suggestions/refint-codpro - 200 - 220.5ms\n", "record": {"elapsed": {"repr": "0:03:11.992584", "seconds": 191.992584}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [7ac582ca] GET /api/v1/suggestions/refint-codpro - 200 - 220.5ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:41:52.624113+02:00", "timestamp": 1754052112.624113}}}
{"text": "2025-08-01 14:42:09.240 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [abca1424] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:28.608672", "seconds": 208.608672}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [abca1424] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:09.240201+02:00", "timestamp": 1754052129.240201}}}
{"text": "2025-08-01 14:42:09.243 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:03:28.611814", "seconds": 208.611814}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:09.243343+02:00", "timestamp": 1754052129.243343}}}
{"text": "2025-08-01 14:42:09.243 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:03:28.612367", "seconds": 208.612367}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:09.243896+02:00", "timestamp": 1754052129.243896}}}
{"text": "2025-08-01 14:42:09.245 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:03:28.614170", "seconds": 208.61417}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:09.245699+02:00", "timestamp": 1754052129.245699}}}
{"text": "2025-08-01 14:42:09.247 | INFO     | app.main:request_tracking_middleware:116 - ✅ [abca1424] POST /api/v1/optimisation/optimisation - 200 - 7.4ms\n", "record": {"elapsed": {"repr": "0:03:28.616102", "seconds": 208.616102}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [abca1424] POST /api/v1/optimisation/optimisation - 200 - 7.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:09.247631+02:00", "timestamp": 1754052129.247631}}}
{"text": "2025-08-01 14:42:12.721 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [a666075a] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:32.090238", "seconds": 212.090238}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [a666075a] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.721767+02:00", "timestamp": 1754052132.721767}}}
{"text": "2025-08-01 14:42:12.747 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=None\n", "record": {"elapsed": {"repr": "0:03:32.116434", "seconds": 212.116434}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.747963+02:00", "timestamp": 1754052132.747963}}}
{"text": "2025-08-01 14:42:12.785 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 3 cod_pro\n", "record": {"elapsed": {"repr": "0:03:32.154045", "seconds": 212.154045}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 3 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.785574+02:00", "timestamp": 1754052132.785574}}}
{"text": "2025-08-01 14:42:12.788 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:03:32.157146", "seconds": 212.157146}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.788675+02:00", "timestamp": 1754052132.788675}}}
{"text": "2025-08-01 14:42:12.854 | DEBUG    | app.services.products.detail_service:get_product_details:77 - ✅ Détails produits récupérés: 3 éléments\n", "record": {"elapsed": {"repr": "0:03:32.222895", "seconds": 212.222895}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 77, "message": "✅ Détails produits récupérés: 3 éléments", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.854424+02:00", "timestamp": 1754052132.854424}}}
{"text": "2025-08-01 14:42:12.855 | DEBUG    | app.services.products.detail_service:get_product_details:82 - ✅ Cache set produit:details pour produit:details:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:03:32.224107", "seconds": 212.224107}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 82, "message": "✅ Cache set produit:details pour produit:details:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.855636+02:00", "timestamp": 1754052132.855636}}}
{"text": "2025-08-01 14:42:12.868 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:03:32.237227", "seconds": 212.237227}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.868756+02:00", "timestamp": 1754052132.868756}}}
{"text": "2025-08-01 14:42:12.906 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:77 - ✅ Agrégat ventes récupéré: 2 éléments\n", "record": {"elapsed": {"repr": "0:03:32.274615", "seconds": 212.274615}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 77, "message": "✅ Agrégat ventes récupéré: 2 éléments", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.906144+02:00", "timestamp": 1754052132.906144}}}
{"text": "2025-08-01 14:42:12.907 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:81 - ✅ Cache set sales:agg pour sales:agg:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:03:32.275969", "seconds": 212.275969}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 81, "message": "✅ Cache set sales:agg pour sales:agg:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.907498+02:00", "timestamp": 1754052132.907498}}}
{"text": "2025-08-01 14:42:12.909 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:03:32.277957", "seconds": 212.277957}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.909486+02:00", "timestamp": 1754052132.909486}}}
{"text": "2025-08-01 14:42:12.932 | DEBUG    | app.services.sales.sales_service:get_sales_history:162 - ✅ Historique ventes récupéré: 4 éléments pour période >= 2024-09-01\n", "record": {"elapsed": {"repr": "0:03:32.301398", "seconds": 212.301398}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 162, "message": "✅ Historique ventes récupéré: 4 éléments pour période >= 2024-09-01", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.932927+02:00", "timestamp": 1754052132.932927}}}
{"text": "2025-08-01 14:42:12.934 | DEBUG    | app.services.sales.sales_service:get_sales_history:166 - ✅ Cache set sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:03:32.302701", "seconds": 212.302701}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 166, "message": "✅ Cache set sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.934230+02:00", "timestamp": 1754052132.93423}}}
{"text": "2025-08-01 14:42:12.935 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:03:32.304459", "seconds": 212.304459}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.935988+02:00", "timestamp": 1754052132.935988}}}
{"text": "2025-08-01 14:42:12.982 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:63 - ✅ Stock actuel récupéré: 11 éléments\n", "record": {"elapsed": {"repr": "0:03:32.351131", "seconds": 212.351131}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 63, "message": "✅ Stock actuel récupéré: 11 éléments", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.982660+02:00", "timestamp": 1754052132.98266}}}
{"text": "2025-08-01 14:42:12.984 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:67 - ✅ Cache set stock:actuel pour stock:actuel:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:03:32.352880", "seconds": 212.35288}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 67, "message": "✅ Cache set stock:actuel pour stock:actuel:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.984409+02:00", "timestamp": 1754052132.984409}}}
{"text": "2025-08-01 14:42:12.994 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:03:32.362679", "seconds": 212.362679}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:12.994208+02:00", "timestamp": 1754052132.994208}}}
{"text": "2025-08-01 14:42:13.005 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:63 - ✅ Cache enregistré purchase_price pour purchase:price:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:03:32.373883", "seconds": 212.373883}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 63, "message": "✅ Cache enregistré purchase_price pour purchase:price:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:13.005412+02:00", "timestamp": 1754052133.005412}}}
{"text": "2025-08-01 14:42:13.024 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=None\n", "record": {"elapsed": {"repr": "0:03:32.392843", "seconds": 212.392843}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:13.024372+02:00", "timestamp": 1754052133.024372}}}
{"text": "2025-08-01 14:42:13.051 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 3 cod_pro\n", "record": {"elapsed": {"repr": "0:03:32.419843", "seconds": 212.419843}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 3 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:13.051372+02:00", "timestamp": 1754052133.051372}}}
{"text": "2025-08-01 14:42:13.131 | DEBUG    | app.services.products.match_service:get_codpro_match_list:76 - ✅ Matches récupérés: 12 éléments uniques\n", "record": {"elapsed": {"repr": "0:03:32.500308", "seconds": 212.500308}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Matches récupérés: 12 éléments uniques", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:13.131837+02:00", "timestamp": 1754052133.131837}}}
{"text": "2025-08-01 14:42:13.134 | DEBUG    | app.services.products.match_service:get_codpro_match_list:81 - ✅ Cache set get_codpro_match_list pour match:codpro:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:03:32.503314", "seconds": 212.503314}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 81, "message": "✅ Cache set get_codpro_match_list pour match:codpro:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:13.134843+02:00", "timestamp": 1754052133.134843}}}
{"text": "2025-08-01 14:42:13.139 | INFO     | app.main:request_tracking_middleware:116 - ✅ [a666075a] POST /api/v1/dashboard/fiche - 200 - 417.4ms\n", "record": {"elapsed": {"repr": "0:03:32.507655", "seconds": 212.507655}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [a666075a] POST /api/v1/dashboard/fiche - 200 - 417.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:13.139184+02:00", "timestamp": 1754052133.139184}}}
{"text": "2025-08-01 14:42:14.491 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [a34fbcf2] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:33.860386", "seconds": 213.860386}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [a34fbcf2] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:14.491915+02:00", "timestamp": 1754052134.491915}}}
{"text": "2025-08-01 14:42:14.495 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:03:33.864384", "seconds": 213.864384}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:14.495913+02:00", "timestamp": 1754052134.495913}}}
{"text": "2025-08-01 14:42:14.497 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:03:33.865650", "seconds": 213.86565}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:14.497179+02:00", "timestamp": 1754052134.497179}}}
{"text": "2025-08-01 14:42:14.498 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:03:33.866964", "seconds": 213.866964}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:14.498493+02:00", "timestamp": 1754052134.498493}}}
{"text": "2025-08-01 14:42:14.499 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:03:33.868056", "seconds": 213.868056}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:14.499585+02:00", "timestamp": 1754052134.499585}}}
{"text": "2025-08-01 14:42:14.500 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:03:33.869132", "seconds": 213.869132}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:14.500661+02:00", "timestamp": 1754052134.500661}}}
{"text": "2025-08-01 14:42:14.501 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:03:33.870388", "seconds": 213.870388}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:14.501917+02:00", "timestamp": 1754052134.501917}}}
{"text": "2025-08-01 14:42:14.503 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:03:33.871530", "seconds": 213.87153}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:14.503059+02:00", "timestamp": 1754052134.503059}}}
{"text": "2025-08-01 14:42:14.504 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:03:33.872701", "seconds": 213.872701}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:14.504230+02:00", "timestamp": 1754052134.50423}}}
{"text": "2025-08-01 14:42:14.506 | INFO     | app.main:request_tracking_middleware:116 - ✅ [a34fbcf2] POST /api/v1/dashboard/fiche - 200 - 14.1ms\n", "record": {"elapsed": {"repr": "0:03:33.874621", "seconds": 213.874621}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [a34fbcf2] POST /api/v1/dashboard/fiche - 200 - 14.1ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:14.506150+02:00", "timestamp": 1754052134.50615}}}
{"text": "2025-08-01 14:42:15.528 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [6869ea29] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:34.896783", "seconds": 214.896783}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [6869ea29] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:15.528312+02:00", "timestamp": 1754052135.528312}}}
{"text": "2025-08-01 14:42:15.840 | INFO     | app.main:request_tracking_middleware:116 - ✅ [6869ea29] GET /api/v1/suggestions/refint-codpro - 200 - 312.3ms\n", "record": {"elapsed": {"repr": "0:03:35.209090", "seconds": 215.20909}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [6869ea29] GET /api/v1/suggestions/refint-codpro - 200 - 312.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 14:42:15.840619+02:00", "timestamp": 1754052135.840619}}}
{"text": "2025-08-01 15:04:49.145 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [f70e3a06] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:26:08.514366", "seconds": 1568.514366}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [f70e3a06] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:49.145895+02:00", "timestamp": 1754053489.145895}}}
{"text": "2025-08-01 15:04:49.147 | INFO     | app.main:request_tracking_middleware:116 - ✅ [f70e3a06] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.3ms\n", "record": {"elapsed": {"repr": "0:26:08.515627", "seconds": 1568.515627}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [f70e3a06] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:49.147156+02:00", "timestamp": 1754053489.147156}}}
{"text": "2025-08-01 15:04:49.151 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [b82712ff] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:26:08.520402", "seconds": 1568.520402}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [b82712ff] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:49.151931+02:00", "timestamp": 1754053489.151931}}}
{"text": "2025-08-01 15:04:49.154 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:26:08.523175", "seconds": 1568.523175}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:49.154704+02:00", "timestamp": 1754053489.154704}}}
{"text": "2025-08-01 15:04:49.155 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:26:08.523640", "seconds": 1568.52364}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:49.155169+02:00", "timestamp": 1754053489.155169}}}
{"text": "2025-08-01 15:04:49.158 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:26:08.526513", "seconds": 1568.526513}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:49.158042+02:00", "timestamp": 1754053489.158042}}}
{"text": "2025-08-01 15:04:49.160 | INFO     | app.main:request_tracking_middleware:116 - ✅ [b82712ff] POST /api/v1/optimisation/optimisation - 200 - 8.6ms\n", "record": {"elapsed": {"repr": "0:26:08.529011", "seconds": 1568.529011}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [b82712ff] POST /api/v1/optimisation/optimisation - 200 - 8.6ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:49.160540+02:00", "timestamp": 1754053489.16054}}}
{"text": "2025-08-01 15:04:51.992 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ba47144a] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:26:11.361007", "seconds": 1571.361007}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ba47144a] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:51.992536+02:00", "timestamp": 1754053491.992536}}}
{"text": "2025-08-01 15:04:52.214 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ba47144a] GET /api/v1/suggestions/refint-codpro - 200 - 221.7ms\n", "record": {"elapsed": {"repr": "0:26:11.582711", "seconds": 1571.582711}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ba47144a] GET /api/v1/suggestions/refint-codpro - 200 - 221.7ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:52.214240+02:00", "timestamp": 1754053492.21424}}}
{"text": "2025-08-01 15:04:53.341 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [7c64a5a9] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:26:12.709669", "seconds": 1572.709669}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [7c64a5a9] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:53.341198+02:00", "timestamp": 1754053493.341198}}}
{"text": "2025-08-01 15:04:53.346 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:26:12.714659", "seconds": 1572.714659}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:53.346188+02:00", "timestamp": 1754053493.346188}}}
{"text": "2025-08-01 15:04:53.346 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:26:12.715130", "seconds": 1572.71513}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:53.346659+02:00", "timestamp": 1754053493.346659}}}
{"text": "2025-08-01 15:04:53.348 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:26:12.716852", "seconds": 1572.716852}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:53.348381+02:00", "timestamp": 1754053493.348381}}}
{"text": "2025-08-01 15:04:53.350 | INFO     | app.main:request_tracking_middleware:116 - ✅ [7c64a5a9] POST /api/v1/optimisation/optimisation - 200 - 9.5ms\n", "record": {"elapsed": {"repr": "0:26:12.719150", "seconds": 1572.71915}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [7c64a5a9] POST /api/v1/optimisation/optimisation - 200 - 9.5ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:53.350679+02:00", "timestamp": 1754053493.350679}}}
{"text": "2025-08-01 15:04:53.715 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [33b46f7a] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:26:13.084411", "seconds": 1573.084411}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [33b46f7a] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:53.715940+02:00", "timestamp": 1754053493.71594}}}
{"text": "2025-08-01 15:04:53.891 | INFO     | app.main:request_tracking_middleware:116 - ✅ [33b46f7a] GET /api/v1/suggestions/refint-codpro - 200 - 175.6ms\n", "record": {"elapsed": {"repr": "0:26:13.259992", "seconds": 1573.259992}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [33b46f7a] GET /api/v1/suggestions/refint-codpro - 200 - 175.6ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:53.891521+02:00", "timestamp": 1754053493.891521}}}
{"text": "2025-08-01 15:04:59.576 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [37dda33f] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:26:18.944620", "seconds": 1578.94462}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [37dda33f] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:59.576149+02:00", "timestamp": 1754053499.576149}}}
{"text": "2025-08-01 15:04:59.581 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:26:18.949484", "seconds": 1578.949484}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:59.581013+02:00", "timestamp": 1754053499.581013}}}
{"text": "2025-08-01 15:04:59.581 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:26:18.950172", "seconds": 1578.950172}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:59.581701+02:00", "timestamp": 1754053499.581701}}}
{"text": "2025-08-01 15:04:59.583 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:26:18.952276", "seconds": 1578.952276}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:59.583805+02:00", "timestamp": 1754053499.583805}}}
{"text": "2025-08-01 15:04:59.586 | INFO     | app.main:request_tracking_middleware:116 - ✅ [37dda33f] POST /api/v1/optimisation/optimisation - 200 - 10.0ms\n", "record": {"elapsed": {"repr": "0:26:18.954614", "seconds": 1578.954614}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [37dda33f] POST /api/v1/optimisation/optimisation - 200 - 10.0ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:04:59.586143+02:00", "timestamp": 1754053499.586143}}}
{"text": "2025-08-01 15:05:56.199 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [d59625ea] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:15.567609", "seconds": 1635.567609}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [d59625ea] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:05:56.199138+02:00", "timestamp": 1754053556.199138}}}
{"text": "2025-08-01 15:05:56.386 | INFO     | app.main:request_tracking_middleware:116 - ✅ [d59625ea] GET /api/v1/suggestions/refint-codpro - 200 - 187.8ms\n", "record": {"elapsed": {"repr": "0:27:15.755415", "seconds": 1635.755415}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [d59625ea] GET /api/v1/suggestions/refint-codpro - 200 - 187.8ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:05:56.386944+02:00", "timestamp": 1754053556.386944}}}
{"text": "2025-08-01 15:05:56.448 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [30ca70aa] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:15.817015", "seconds": 1635.817015}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [30ca70aa] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:05:56.448544+02:00", "timestamp": 1754053556.448544}}}
{"text": "2025-08-01 15:05:56.603 | INFO     | app.main:request_tracking_middleware:116 - ✅ [30ca70aa] GET /api/v1/suggestions/refint-codpro - 200 - 155.4ms\n", "record": {"elapsed": {"repr": "0:27:15.972358", "seconds": 1635.972358}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [30ca70aa] GET /api/v1/suggestions/refint-codpro - 200 - 155.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:05:56.603887+02:00", "timestamp": 1754053556.603887}}}
{"text": "2025-08-01 15:05:56.701 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ab2907ce] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:16.069478", "seconds": 1636.069478}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ab2907ce] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:05:56.701007+02:00", "timestamp": 1754053556.701007}}}
{"text": "2025-08-01 15:05:56.924 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [d356dc99] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:16.293215", "seconds": 1636.293215}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [d356dc99] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:05:56.924744+02:00", "timestamp": 1754053556.924744}}}
{"text": "2025-08-01 15:05:56.955 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ab2907ce] GET /api/v1/suggestions/refint-codpro - 200 - 254.4ms\n", "record": {"elapsed": {"repr": "0:27:16.323873", "seconds": 1636.323873}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ab2907ce] GET /api/v1/suggestions/refint-codpro - 200 - 254.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:05:56.955402+02:00", "timestamp": 1754053556.955402}}}
{"text": "2025-08-01 15:05:57.167 | INFO     | app.main:request_tracking_middleware:116 - ✅ [d356dc99] GET /api/v1/suggestions/refint-codpro - 200 - 242.4ms\n", "record": {"elapsed": {"repr": "0:27:16.535614", "seconds": 1636.535614}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [d356dc99] GET /api/v1/suggestions/refint-codpro - 200 - 242.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:05:57.167143+02:00", "timestamp": 1754053557.167143}}}
{"text": "2025-08-01 15:05:59.575 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [8f477894] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:18.944265", "seconds": 1638.944265}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [8f477894] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:05:59.575794+02:00", "timestamp": 1754053559.575794}}}
{"text": "2025-08-01 15:05:59.580 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [cda706f9] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:18.949469", "seconds": 1638.949469}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [cda706f9] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:05:59.580998+02:00", "timestamp": 1754053559.580998}}}
{"text": "2025-08-01 15:05:59.702 | INFO     | app.main:request_tracking_middleware:116 - ✅ [cda706f9] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 122.0ms\n", "record": {"elapsed": {"repr": "0:27:19.071457", "seconds": 1639.071457}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [cda706f9] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 122.0ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:05:59.702986+02:00", "timestamp": 1754053559.702986}}}
{"text": "2025-08-01 15:05:59.712 | INFO     | app.main:request_tracking_middleware:116 - ✅ [8f477894] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 136.4ms\n", "record": {"elapsed": {"repr": "0:27:19.080671", "seconds": 1639.080671}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [8f477894] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 136.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:05:59.712200+02:00", "timestamp": 1754053559.7122}}}
{"text": "2025-08-01 15:06:03.544 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [0ddbcf6d] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:22.912539", "seconds": 1642.912539}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [0ddbcf6d] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:03.544068+02:00", "timestamp": 1754053563.544068}}}
{"text": "2025-08-01 15:06:03.548 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:27:22.916508", "seconds": 1642.916508}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:03.548037+02:00", "timestamp": 1754053563.548037}}}
{"text": "2025-08-01 15:06:03.548 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:27:22.916939", "seconds": 1642.916939}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:03.548468+02:00", "timestamp": 1754053563.548468}}}
{"text": "2025-08-01 15:06:03.549 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:27:22.918106", "seconds": 1642.918106}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [20980], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:03.549635+02:00", "timestamp": 1754053563.549635}}}
{"text": "2025-08-01 15:06:03.551 | INFO     | app.main:request_tracking_middleware:116 - ✅ [0ddbcf6d] POST /api/v1/optimisation/optimisation - 200 - 7.0ms\n", "record": {"elapsed": {"repr": "0:27:22.919497", "seconds": 1642.919497}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [0ddbcf6d] POST /api/v1/optimisation/optimisation - 200 - 7.0ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:03.551026+02:00", "timestamp": 1754053563.551026}}}
{"text": "2025-08-01 15:06:04.680 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [df96c290] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:24.048631", "seconds": 1644.048631}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [df96c290] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:04.680160+02:00", "timestamp": 1754053564.68016}}}
{"text": "2025-08-01 15:06:04.681 | INFO     | app.main:request_tracking_middleware:116 - ✅ [df96c290] OPTIONS /api/v1/dashboard/fiche - 200 - 1.7ms\n", "record": {"elapsed": {"repr": "0:27:24.050359", "seconds": 1644.050359}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [df96c290] OPTIONS /api/v1/dashboard/fiche - 200 - 1.7ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:04.681888+02:00", "timestamp": 1754053564.681888}}}
{"text": "2025-08-01 15:06:04.686 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [97c8b7ba] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:24.054528", "seconds": 1644.054528}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [97c8b7ba] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:04.686057+02:00", "timestamp": 1754053564.686057}}}
{"text": "2025-08-01 15:06:04.699 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=13, qualite=None\n", "record": {"elapsed": {"repr": "0:27:24.068056", "seconds": 1644.068056}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=13, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:04.699585+02:00", "timestamp": 1754053564.699585}}}
{"text": "2025-08-01 15:06:04.720 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 3 cod_pro\n", "record": {"elapsed": {"repr": "0:27:24.088909", "seconds": 1644.088909}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 3 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:04.720438+02:00", "timestamp": 1754053564.720438}}}
{"text": "2025-08-01 15:06:04.722 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:27:24.091256", "seconds": 1644.091256}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:04.722785+02:00", "timestamp": 1754053564.722785}}}
{"text": "2025-08-01 15:06:04.725 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:27:24.093635", "seconds": 1644.093635}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:04.725164+02:00", "timestamp": 1754053564.725164}}}
{"text": "2025-08-01 15:06:04.727 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:27:24.095878", "seconds": 1644.095878}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:04.727407+02:00", "timestamp": 1754053564.727407}}}
{"text": "2025-08-01 15:06:04.729 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:27:24.097680", "seconds": 1644.09768}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:04.729209+02:00", "timestamp": 1754053564.729209}}}
{"text": "2025-08-01 15:06:04.729 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:27:24.098345", "seconds": 1644.098345}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:04.729874+02:00", "timestamp": 1754053564.729874}}}
{"text": "2025-08-01 15:06:04.730 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:27:24.099431", "seconds": 1644.099431}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:04.730960+02:00", "timestamp": 1754053564.73096}}}
{"text": "2025-08-01 15:06:04.732 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:27:24.100546", "seconds": 1644.100546}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:04.732075+02:00", "timestamp": 1754053564.732075}}}
{"text": "2025-08-01 15:06:04.734 | INFO     | app.main:request_tracking_middleware:116 - ✅ [97c8b7ba] POST /api/v1/dashboard/fiche - 200 - 48.7ms\n", "record": {"elapsed": {"repr": "0:27:24.103241", "seconds": 1644.103241}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [97c8b7ba] POST /api/v1/dashboard/fiche - 200 - 48.7ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:04.734770+02:00", "timestamp": 1754053564.73477}}}
{"text": "2025-08-01 15:06:06.078 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [204d3dd2] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:25.446853", "seconds": 1645.446853}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [204d3dd2] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:06.078382+02:00", "timestamp": 1754053566.078382}}}
{"text": "2025-08-01 15:06:06.081 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:27:25.450140", "seconds": 1645.45014}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:06.081669+02:00", "timestamp": 1754053566.081669}}}
{"text": "2025-08-01 15:06:06.082 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:27:25.451192", "seconds": 1645.451192}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:06.082721+02:00", "timestamp": 1754053566.082721}}}
{"text": "2025-08-01 15:06:06.084 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:27:25.452592", "seconds": 1645.452592}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:06.084121+02:00", "timestamp": 1754053566.084121}}}
{"text": "2025-08-01 15:06:06.085 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:27:25.454097", "seconds": 1645.454097}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:06.085626+02:00", "timestamp": 1754053566.085626}}}
{"text": "2025-08-01 15:06:06.086 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:27:25.455194", "seconds": 1645.455194}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:06.086723+02:00", "timestamp": 1754053566.086723}}}
{"text": "2025-08-01 15:06:06.087 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:27:25.456262", "seconds": 1645.456262}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:06.087791+02:00", "timestamp": 1754053566.087791}}}
{"text": "2025-08-01 15:06:06.088 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:27:25.457308", "seconds": 1645.457308}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:06.088837+02:00", "timestamp": 1754053566.088837}}}
{"text": "2025-08-01 15:06:06.089 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:27:25.458363", "seconds": 1645.458363}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:06.089892+02:00", "timestamp": 1754053566.089892}}}
{"text": "2025-08-01 15:06:06.091 | INFO     | app.main:request_tracking_middleware:116 - ✅ [204d3dd2] POST /api/v1/dashboard/fiche - 200 - 13.6ms\n", "record": {"elapsed": {"repr": "0:27:25.460412", "seconds": 1645.460412}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [204d3dd2] POST /api/v1/dashboard/fiche - 200 - 13.6ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:06.091941+02:00", "timestamp": 1754053566.091941}}}
{"text": "2025-08-01 15:06:11.931 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [9728a3d5] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:31.299495", "seconds": 1651.299495}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [9728a3d5] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:11.931024+02:00", "timestamp": 1754053571.931024}}}
{"text": "2025-08-01 15:06:11.935 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:27:31.303769", "seconds": 1651.303769}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:11.935298+02:00", "timestamp": 1754053571.935298}}}
{"text": "2025-08-01 15:06:11.937 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:27:31.305775", "seconds": 1651.305775}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:11.937304+02:00", "timestamp": 1754053571.937304}}}
{"text": "2025-08-01 15:06:11.953 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:27:31.322276", "seconds": 1651.322276}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:11.953805+02:00", "timestamp": 1754053571.953805}}}
{"text": "2025-08-01 15:06:11.955 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:27:31.323475", "seconds": 1651.323475}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:11.955004+02:00", "timestamp": 1754053571.955004}}}
{"text": "2025-08-01 15:06:11.956 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:27:31.324625", "seconds": 1651.324625}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:11.956154+02:00", "timestamp": 1754053571.956154}}}
{"text": "2025-08-01 15:06:11.957 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:27:31.325497", "seconds": 1651.325497}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:11.957026+02:00", "timestamp": 1754053571.957026}}}
{"text": "2025-08-01 15:06:11.959 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:27:31.327641", "seconds": 1651.327641}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:11.959170+02:00", "timestamp": 1754053571.95917}}}
{"text": "2025-08-01 15:06:11.960 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:27:31.328580", "seconds": 1651.32858}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:11.960109+02:00", "timestamp": 1754053571.960109}}}
{"text": "2025-08-01 15:06:11.962 | INFO     | app.main:request_tracking_middleware:116 - ✅ [9728a3d5] POST /api/v1/dashboard/fiche - 200 - 31.4ms\n", "record": {"elapsed": {"repr": "0:27:31.330935", "seconds": 1651.330935}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [9728a3d5] POST /api/v1/dashboard/fiche - 200 - 31.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:11.962464+02:00", "timestamp": 1754053571.962464}}}
{"text": "2025-08-01 15:06:15.377 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [49f5623c] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:34.745686", "seconds": 1654.745686}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [49f5623c] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:15.377215+02:00", "timestamp": 1754053575.377215}}}
{"text": "2025-08-01 15:06:15.383 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:27:34.751711", "seconds": 1654.751711}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:15.383240+02:00", "timestamp": 1754053575.38324}}}
{"text": "2025-08-01 15:06:15.385 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:27:34.753690", "seconds": 1654.75369}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:15.385219+02:00", "timestamp": 1754053575.385219}}}
{"text": "2025-08-01 15:06:15.387 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:27:34.755541", "seconds": 1654.755541}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:15.387070+02:00", "timestamp": 1754053575.38707}}}
{"text": "2025-08-01 15:06:15.388 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:27:34.756934", "seconds": 1654.756934}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:15.388463+02:00", "timestamp": 1754053575.388463}}}
{"text": "2025-08-01 15:06:15.390 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:27:34.758615", "seconds": 1654.758615}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:15.390144+02:00", "timestamp": 1754053575.390144}}}
{"text": "2025-08-01 15:06:15.391 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:27:34.759827", "seconds": 1654.759827}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:15.391356+02:00", "timestamp": 1754053575.391356}}}
{"text": "2025-08-01 15:06:15.392 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:27:34.761362", "seconds": 1654.761362}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:15.392891+02:00", "timestamp": 1754053575.392891}}}
{"text": "2025-08-01 15:06:15.394 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:27:34.762640", "seconds": 1654.76264}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:15.394169+02:00", "timestamp": 1754053575.394169}}}
{"text": "2025-08-01 15:06:15.396 | INFO     | app.main:request_tracking_middleware:116 - ✅ [49f5623c] POST /api/v1/dashboard/fiche - 200 - 19.3ms\n", "record": {"elapsed": {"repr": "0:27:34.764961", "seconds": 1654.764961}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [49f5623c] POST /api/v1/dashboard/fiche - 200 - 19.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:15.396490+02:00", "timestamp": 1754053575.39649}}}
{"text": "2025-08-01 15:06:17.611 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [cbe4859f] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:36.980413", "seconds": 1656.980413}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [cbe4859f] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:17.611942+02:00", "timestamp": 1754053577.611942}}}
{"text": "2025-08-01 15:06:17.618 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:27:36.987313", "seconds": 1656.987313}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:17.618842+02:00", "timestamp": 1754053577.618842}}}
{"text": "2025-08-01 15:06:17.620 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:27:36.988738", "seconds": 1656.988738}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:17.620267+02:00", "timestamp": 1754053577.620267}}}
{"text": "2025-08-01 15:06:17.621 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:27:36.989833", "seconds": 1656.989833}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:17.621362+02:00", "timestamp": 1754053577.621362}}}
{"text": "2025-08-01 15:06:17.622 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:27:36.990931", "seconds": 1656.990931}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:17.622460+02:00", "timestamp": 1754053577.62246}}}
{"text": "2025-08-01 15:06:17.623 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:27:36.991975", "seconds": 1656.991975}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:17.623504+02:00", "timestamp": 1754053577.623504}}}
{"text": "2025-08-01 15:06:17.624 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:27:36.993053", "seconds": 1656.993053}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:17.624582+02:00", "timestamp": 1754053577.624582}}}
{"text": "2025-08-01 15:06:17.625 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8\n", "record": {"elapsed": {"repr": "0:27:36.994333", "seconds": 1656.994333}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:4bed93003a95e04773260320de6d0ec8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:17.625862+02:00", "timestamp": 1754053577.625862}}}
{"text": "2025-08-01 15:06:17.626 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:27:36.995432", "seconds": 1656.995432}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 20980, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:17.626961+02:00", "timestamp": 1754053577.626961}}}
{"text": "2025-08-01 15:06:17.629 | INFO     | app.main:request_tracking_middleware:116 - ✅ [cbe4859f] POST /api/v1/dashboard/fiche - 200 - 17.4ms\n", "record": {"elapsed": {"repr": "0:27:36.997805", "seconds": 1656.997805}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [cbe4859f] POST /api/v1/dashboard/fiche - 200 - 17.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:17.629334+02:00", "timestamp": 1754053577.629334}}}
{"text": "2025-08-01 15:06:22.985 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [75094d2d] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:42.353869", "seconds": 1662.353869}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [75094d2d] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:22.985398+02:00", "timestamp": 1754053582.985398}}}
{"text": "2025-08-01 15:06:23.203 | INFO     | app.main:request_tracking_middleware:116 - ✅ [75094d2d] GET /api/v1/suggestions/refint-codpro - 200 - 217.7ms\n", "record": {"elapsed": {"repr": "0:27:42.571595", "seconds": 1662.571595}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [75094d2d] GET /api/v1/suggestions/refint-codpro - 200 - 217.7ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:23.203124+02:00", "timestamp": 1754053583.203124}}}
{"text": "2025-08-01 15:06:23.397 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [72f9c7b1] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:42.765553", "seconds": 1662.765553}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [72f9c7b1] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:23.397082+02:00", "timestamp": 1754053583.397082}}}
{"text": "2025-08-01 15:06:23.856 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [00bcc35e] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:43.224488", "seconds": 1663.224488}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [00bcc35e] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:23.856017+02:00", "timestamp": 1754053583.856017}}}
{"text": "2025-08-01 15:06:23.865 | INFO     | app.main:request_tracking_middleware:116 - ✅ [72f9c7b1] GET /api/v1/suggestions/refint-codpro - 200 - 468.8ms\n", "record": {"elapsed": {"repr": "0:27:43.234359", "seconds": 1663.234359}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [72f9c7b1] GET /api/v1/suggestions/refint-codpro - 200 - 468.8ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:23.865888+02:00", "timestamp": 1754053583.865888}}}
{"text": "2025-08-01 15:06:24.288 | INFO     | app.main:request_tracking_middleware:116 - ✅ [00bcc35e] GET /api/v1/suggestions/refint-codpro - 200 - 432.6ms\n", "record": {"elapsed": {"repr": "0:27:43.657123", "seconds": 1663.657123}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [00bcc35e] GET /api/v1/suggestions/refint-codpro - 200 - 432.6ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:24.288652+02:00", "timestamp": 1754053584.288652}}}
{"text": "2025-08-01 15:06:24.363 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [81535953] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:43.731548", "seconds": 1663.731548}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [81535953] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:24.363077+02:00", "timestamp": 1754053584.363077}}}
{"text": "2025-08-01 15:06:24.709 | INFO     | app.main:request_tracking_middleware:116 - ✅ [81535953] GET /api/v1/suggestions/refint-codpro - 200 - 346.6ms\n", "record": {"elapsed": {"repr": "0:27:44.078158", "seconds": 1664.078158}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [81535953] GET /api/v1/suggestions/refint-codpro - 200 - 346.6ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:24.709687+02:00", "timestamp": 1754053584.709687}}}
{"text": "2025-08-01 15:06:27.231 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [1396d8b5] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:46.599859", "seconds": 1666.599859}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [1396d8b5] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:27.231388+02:00", "timestamp": 1754053587.231388}}}
{"text": "2025-08-01 15:06:27.255 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:27:46.623726", "seconds": 1666.623726}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:27.255255+02:00", "timestamp": 1754053587.255255}}}
{"text": "2025-08-01 15:06:27.273 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:27:46.642175", "seconds": 1666.642175}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:27.273704+02:00", "timestamp": 1754053587.273704}}}
{"text": "2025-08-01 15:06:27.276 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:27:46.645182", "seconds": 1666.645182}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:27.276711+02:00", "timestamp": 1754053587.276711}}}
{"text": "2025-08-01 15:06:27.456 | DEBUG    | app.services.products.detail_service:get_product_details:77 - ✅ Détails produits récupérés: 29 éléments\n", "record": {"elapsed": {"repr": "0:27:46.825170", "seconds": 1666.82517}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 77, "message": "✅ Détails produits récupérés: 29 éléments", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:27.456699+02:00", "timestamp": 1754053587.456699}}}
{"text": "2025-08-01 15:06:27.460 | DEBUG    | app.services.products.detail_service:get_product_details:82 - ✅ Cache set produit:details pour produit:details:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:27:46.828725", "seconds": 1666.828725}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 82, "message": "✅ Cache set produit:details pour produit:details:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:27.460254+02:00", "timestamp": 1754053587.460254}}}
{"text": "2025-08-01 15:06:27.466 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:27:46.834501", "seconds": 1666.834501}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:27.466030+02:00", "timestamp": 1754053587.46603}}}
{"text": "2025-08-01 15:06:27.966 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:77 - ✅ Agrégat ventes récupéré: 20 éléments\n", "record": {"elapsed": {"repr": "0:27:47.334701", "seconds": 1667.334701}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 77, "message": "✅ Agrégat ventes récupéré: 20 éléments", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:27.966230+02:00", "timestamp": 1754053587.96623}}}
{"text": "2025-08-01 15:06:27.967 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:81 - ✅ Cache set sales:agg pour sales:agg:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:27:47.336416", "seconds": 1667.336416}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 81, "message": "✅ Cache set sales:agg pour sales:agg:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:27.967945+02:00", "timestamp": 1754053587.967945}}}
{"text": "2025-08-01 15:06:27.970 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:27:47.338936", "seconds": 1667.338936}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:27.970465+02:00", "timestamp": 1754053587.970465}}}
{"text": "2025-08-01 15:06:28.270 | DEBUG    | app.services.sales.sales_service:get_sales_history:162 - ✅ Historique ventes récupéré: 138 éléments pour période >= 2024-09-01\n", "record": {"elapsed": {"repr": "0:27:47.638528", "seconds": 1667.638528}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 162, "message": "✅ Historique ventes récupéré: 138 éléments pour période >= 2024-09-01", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:28.270057+02:00", "timestamp": 1754053588.270057}}}
{"text": "2025-08-01 15:06:28.272 | DEBUG    | app.services.sales.sales_service:get_sales_history:166 - ✅ Cache set sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:27:47.641406", "seconds": 1667.641406}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 166, "message": "✅ Cache set sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:28.272935+02:00", "timestamp": 1754053588.272935}}}
{"text": "2025-08-01 15:06:28.275 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:27:47.643672", "seconds": 1667.643672}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:28.275201+02:00", "timestamp": 1754053588.275201}}}
{"text": "2025-08-01 15:06:28.357 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:63 - ✅ Stock actuel récupéré: 145 éléments\n", "record": {"elapsed": {"repr": "0:27:47.725773", "seconds": 1667.725773}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 63, "message": "✅ Stock actuel récupéré: 145 éléments", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:28.357302+02:00", "timestamp": 1754053588.357302}}}
{"text": "2025-08-01 15:06:28.359 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:67 - ✅ Cache set stock:actuel pour stock:actuel:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:27:47.727935", "seconds": 1667.727935}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 67, "message": "✅ Cache set stock:actuel pour stock:actuel:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:28.359464+02:00", "timestamp": 1754053588.359464}}}
{"text": "2025-08-01 15:06:28.363 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:27:47.732130", "seconds": 1667.73213}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:28.363659+02:00", "timestamp": 1754053588.363659}}}
{"text": "2025-08-01 15:06:28.391 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:63 - ✅ Cache enregistré purchase_price pour purchase:price:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:27:47.759957", "seconds": 1667.759957}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 63, "message": "✅ Cache enregistré purchase_price pour purchase:price:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:28.391486+02:00", "timestamp": 1754053588.391486}}}
{"text": "2025-08-01 15:06:28.408 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:27:47.777232", "seconds": 1667.777232}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:28.408761+02:00", "timestamp": 1754053588.408761}}}
{"text": "2025-08-01 15:06:28.430 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:27:47.798862", "seconds": 1667.798862}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:28.430391+02:00", "timestamp": 1754053588.430391}}}
{"text": "2025-08-01 15:06:28.645 | DEBUG    | app.services.products.match_service:get_codpro_match_list:76 - ✅ Matches récupérés: 549 éléments uniques\n", "record": {"elapsed": {"repr": "0:27:48.014424", "seconds": 1668.014424}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Matches récupérés: 549 éléments uniques", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:28.645953+02:00", "timestamp": 1754053588.645953}}}
{"text": "2025-08-01 15:06:28.648 | DEBUG    | app.services.products.match_service:get_codpro_match_list:81 - ✅ Cache set get_codpro_match_list pour match:codpro:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:27:48.016562", "seconds": 1668.016562}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 81, "message": "✅ Cache set get_codpro_match_list pour match:codpro:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:28.648091+02:00", "timestamp": 1754053588.648091}}}
{"text": "2025-08-01 15:06:28.663 | INFO     | app.main:request_tracking_middleware:116 - ✅ [1396d8b5] POST /api/v1/dashboard/fiche - 200 - 1432.4ms\n", "record": {"elapsed": {"repr": "0:27:48.032209", "seconds": 1668.032209}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [1396d8b5] POST /api/v1/dashboard/fiche - 200 - 1432.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:28.663738+02:00", "timestamp": 1754053588.663738}}}
{"text": "2025-08-01 15:06:30.620 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [df72aed6] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:49.988835", "seconds": 1669.988835}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [df72aed6] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:30.620364+02:00", "timestamp": 1754053590.620364}}}
{"text": "2025-08-01 15:06:30.624 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:27:49.992933", "seconds": 1669.992933}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:30.624462+02:00", "timestamp": 1754053590.624462}}}
{"text": "2025-08-01 15:06:30.625 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:27:49.994442", "seconds": 1669.994442}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:30.625971+02:00", "timestamp": 1754053590.625971}}}
{"text": "2025-08-01 15:06:30.630 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:27:49.998814", "seconds": 1669.998814}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:30.630343+02:00", "timestamp": 1754053590.630343}}}
{"text": "2025-08-01 15:06:30.631 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:27:50.000041", "seconds": 1670.000041}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:30.631570+02:00", "timestamp": 1754053590.63157}}}
{"text": "2025-08-01 15:06:30.633 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:27:50.001644", "seconds": 1670.001644}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:30.633173+02:00", "timestamp": 1754053590.633173}}}
{"text": "2025-08-01 15:06:30.634 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:27:50.002775", "seconds": 1670.002775}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:30.634304+02:00", "timestamp": 1754053590.634304}}}
{"text": "2025-08-01 15:06:30.636 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:27:50.004784", "seconds": 1670.004784}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:30.636313+02:00", "timestamp": 1754053590.636313}}}
{"text": "2025-08-01 15:06:30.638 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:27:50.006550", "seconds": 1670.00655}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:30.638079+02:00", "timestamp": 1754053590.638079}}}
{"text": "2025-08-01 15:06:30.653 | INFO     | app.main:request_tracking_middleware:116 - ✅ [df72aed6] POST /api/v1/dashboard/fiche - 200 - 33.0ms\n", "record": {"elapsed": {"repr": "0:27:50.021876", "seconds": 1670.021876}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [df72aed6] POST /api/v1/dashboard/fiche - 200 - 33.0ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:30.653405+02:00", "timestamp": 1754053590.653405}}}
{"text": "2025-08-01 15:06:31.018 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c9a12500] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:27:50.386800", "seconds": 1670.3868}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c9a12500] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:31.018329+02:00", "timestamp": 1754053591.018329}}}
{"text": "2025-08-01 15:06:31.021 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:27:50.390443", "seconds": 1670.390443}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:31.021972+02:00", "timestamp": 1754053591.021972}}}
{"text": "2025-08-01 15:06:31.022 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:27:50.391416", "seconds": 1670.391416}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:31.022945+02:00", "timestamp": 1754053591.022945}}}
{"text": "2025-08-01 15:06:31.024 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:27:50.392608", "seconds": 1670.392608}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:31.024137+02:00", "timestamp": 1754053591.024137}}}
{"text": "2025-08-01 15:06:31.025 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:27:50.393771", "seconds": 1670.393771}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:31.025300+02:00", "timestamp": 1754053591.0253}}}
{"text": "2025-08-01 15:06:31.026 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:27:50.395195", "seconds": 1670.395195}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:31.026724+02:00", "timestamp": 1754053591.026724}}}
{"text": "2025-08-01 15:06:31.027 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:27:50.396010", "seconds": 1670.39601}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:31.027539+02:00", "timestamp": 1754053591.027539}}}
{"text": "2025-08-01 15:06:31.029 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:27:50.397979", "seconds": 1670.397979}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:31.029508+02:00", "timestamp": 1754053591.029508}}}
{"text": "2025-08-01 15:06:31.030 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:27:50.399439", "seconds": 1670.399439}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:31.030968+02:00", "timestamp": 1754053591.030968}}}
{"text": "2025-08-01 15:06:31.042 | INFO     | app.main:request_tracking_middleware:116 - ✅ [c9a12500] POST /api/v1/dashboard/fiche - 200 - 24.3ms\n", "record": {"elapsed": {"repr": "0:27:50.411128", "seconds": 1670.411128}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [c9a12500] POST /api/v1/dashboard/fiche - 200 - 24.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:06:31.042657+02:00", "timestamp": 1754053591.042657}}}
{"text": "2025-08-01 15:08:21.704 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [e91430e7] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:29:41.072486", "seconds": 1781.072486}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [e91430e7] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:21.704015+02:00", "timestamp": 1754053701.704015}}}
{"text": "2025-08-01 15:08:21.929 | INFO     | app.main:request_tracking_middleware:116 - ✅ [e91430e7] GET /api/v1/suggestions/refint-codpro - 200 - 225.3ms\n", "record": {"elapsed": {"repr": "0:29:41.297815", "seconds": 1781.297815}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [e91430e7] GET /api/v1/suggestions/refint-codpro - 200 - 225.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:21.929344+02:00", "timestamp": 1754053701.929344}}}
{"text": "2025-08-01 15:08:22.914 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [b7e60085] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:29:42.283270", "seconds": 1782.28327}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [b7e60085] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:22.914799+02:00", "timestamp": 1754053702.914799}}}
{"text": "2025-08-01 15:08:23.225 | INFO     | app.main:request_tracking_middleware:116 - ✅ [b7e60085] GET /api/v1/suggestions/refint-codpro - 200 - 311.0ms\n", "record": {"elapsed": {"repr": "0:29:42.594248", "seconds": 1782.594248}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [b7e60085] GET /api/v1/suggestions/refint-codpro - 200 - 311.0ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:23.225777+02:00", "timestamp": 1754053703.225777}}}
{"text": "2025-08-01 15:08:25.582 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [7932bcd7] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:29:44.950713", "seconds": 1784.950713}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [7932bcd7] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:25.582242+02:00", "timestamp": 1754053705.582242}}}
{"text": "2025-08-01 15:08:25.617 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:29:44.986373", "seconds": 1784.986373}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:25.617902+02:00", "timestamp": 1754053705.617902}}}
{"text": "2025-08-01 15:08:25.648 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:29:45.017294", "seconds": 1785.017294}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:25.648823+02:00", "timestamp": 1754053705.648823}}}
{"text": "2025-08-01 15:08:25.674 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:29:45.043463", "seconds": 1785.043463}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:25.674992+02:00", "timestamp": 1754053705.674992}}}
{"text": "2025-08-01 15:08:25.676 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:29:45.045059", "seconds": 1785.045059}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:25.676588+02:00", "timestamp": 1754053705.676588}}}
{"text": "2025-08-01 15:08:25.677 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:29:45.046462", "seconds": 1785.046462}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:25.677991+02:00", "timestamp": 1754053705.677991}}}
{"text": "2025-08-01 15:08:25.679 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:29:45.047880", "seconds": 1785.04788}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:25.679409+02:00", "timestamp": 1754053705.679409}}}
{"text": "2025-08-01 15:08:25.680 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:29:45.048990", "seconds": 1785.04899}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:25.680519+02:00", "timestamp": 1754053705.680519}}}
{"text": "2025-08-01 15:08:25.682 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:29:45.050825", "seconds": 1785.050825}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:25.682354+02:00", "timestamp": 1754053705.682354}}}
{"text": "2025-08-01 15:08:25.684 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:29:45.053173", "seconds": 1785.053173}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:25.684702+02:00", "timestamp": 1754053705.684702}}}
{"text": "2025-08-01 15:08:25.706 | INFO     | app.main:request_tracking_middleware:116 - ✅ [7932bcd7] POST /api/v1/dashboard/fiche - 200 - 124.7ms\n", "record": {"elapsed": {"repr": "0:29:45.075389", "seconds": 1785.075389}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [7932bcd7] POST /api/v1/dashboard/fiche - 200 - 124.7ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:25.706918+02:00", "timestamp": 1754053705.706918}}}
{"text": "2025-08-01 15:08:33.862 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [6de094ac] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:29:53.230727", "seconds": 1793.230727}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [6de094ac] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:33.862256+02:00", "timestamp": 1754053713.862256}}}
{"text": "2025-08-01 15:08:33.870 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [4945baed] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:29:53.238497", "seconds": 1793.238497}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [4945baed] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:33.870026+02:00", "timestamp": 1754053713.870026}}}
{"text": "2025-08-01 15:08:34.004 | INFO     | app.main:request_tracking_middleware:116 - ✅ [4945baed] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 134.1ms\n", "record": {"elapsed": {"repr": "0:29:53.372577", "seconds": 1793.372577}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [4945baed] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 134.1ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:34.004106+02:00", "timestamp": 1754053714.004106}}}
{"text": "2025-08-01 15:08:34.045 | INFO     | app.main:request_tracking_middleware:116 - ✅ [6de094ac] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 183.6ms\n", "record": {"elapsed": {"repr": "0:29:53.414292", "seconds": 1793.414292}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [6de094ac] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 183.6ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:34.045821+02:00", "timestamp": 1754053714.045821}}}
{"text": "2025-08-01 15:08:47.513 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [992d7895] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:30:06.881969", "seconds": 1806.881969}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [992d7895] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:47.513498+02:00", "timestamp": 1754053727.513498}}}
{"text": "2025-08-01 15:08:47.890 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [50c6f314] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:30:07.259450", "seconds": 1807.25945}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [50c6f314] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:47.890979+02:00", "timestamp": 1754053727.890979}}}
{"text": "2025-08-01 15:08:52.507 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [40b2825e] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:30:11.875866", "seconds": 1811.875866}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [40b2825e] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:52.507395+02:00", "timestamp": 1754053732.507395}}}
{"text": "2025-08-01 15:08:52.884 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [52b15233] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:30:12.252579", "seconds": 1812.252579}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [52b15233] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:52.884108+02:00", "timestamp": 1754053732.884108}}}
{"text": "2025-08-01 15:08:53.454 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [a9d5d1ac] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:30:12.823047", "seconds": 1812.823047}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [a9d5d1ac] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:08:53.454576+02:00", "timestamp": 1754053733.454576}}}
{"text": "2025-08-01 15:09:10.676 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [b8159143] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:30:30.044731", "seconds": 1830.044731}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [b8159143] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:09:10.676260+02:00", "timestamp": 1754053750.67626}}}
{"text": "2025-08-01 15:09:10.683 | INFO     | app.main:request_tracking_middleware:116 - ✅ [b8159143] POST /api/v1/dashboard/fiche - 200 - 7.0ms\n", "record": {"elapsed": {"repr": "0:30:30.051740", "seconds": 1830.05174}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [b8159143] POST /api/v1/dashboard/fiche - 200 - 7.0ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:09:10.683269+02:00", "timestamp": 1754053750.683269}}}
{"text": "2025-08-01 15:09:13.463 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [4a76d45c] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:30:32.831516", "seconds": 1832.831516}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [4a76d45c] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:09:13.463045+02:00", "timestamp": 1754053753.463045}}}
{"text": "2025-08-01 15:09:15.764 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ade0ff2f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:30:35.133225", "seconds": 1835.133225}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ade0ff2f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:09:15.764754+02:00", "timestamp": 1754053755.764754}}}
{"text": "2025-08-01 15:09:16.745 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [bce41da4] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:30:36.114205", "seconds": 1836.114205}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [bce41da4] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:09:16.745734+02:00", "timestamp": 1754053756.745734}}}
{"text": "2025-08-01 15:10:09.502 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [0b223842] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:31:28.870822", "seconds": 1888.870822}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [0b223842] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:10:09.502351+02:00", "timestamp": 1754053809.502351}}}
{"text": "2025-08-01 15:10:09.513 | INFO     | app.main:request_tracking_middleware:116 - ✅ [0b223842] POST /api/v1/dashboard/fiche - 200 - 11.3ms\n", "record": {"elapsed": {"repr": "0:31:28.882128", "seconds": 1888.882128}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [0b223842] POST /api/v1/dashboard/fiche - 200 - 11.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:10:09.513657+02:00", "timestamp": 1754053809.513657}}}
{"text": "2025-08-01 15:10:11.056 | INFO     | app.main:request_tracking_middleware:116 - ✅ [50c6f314] GET /api/v1/suggestions/refint-codpro - 200 - 83165.7ms\n", "record": {"elapsed": {"repr": "0:31:30.425154", "seconds": 1890.425154}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [50c6f314] GET /api/v1/suggestions/refint-codpro - 200 - 83165.7ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:10:11.056683+02:00", "timestamp": 1754053811.056683}}}
{"text": "2025-08-01 15:10:11.448 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [610b6270] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:31:30.817123", "seconds": 1890.817123}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [610b6270] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:10:11.448652+02:00", "timestamp": 1754053811.448652}}}
{"text": "2025-08-01 15:10:11.671 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [fb7b0887] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:31:31.039952", "seconds": 1891.039952}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [fb7b0887] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:10:11.671481+02:00", "timestamp": 1754053811.671481}}}
{"text": "2025-08-01 15:10:12.032 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ed612f45] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:31:31.400945", "seconds": 1891.400945}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ed612f45] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:10:12.032474+02:00", "timestamp": 1754053812.032474}}}
{"text": "2025-08-01 15:10:12.256 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5b39e3b5] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:31:31.624985", "seconds": 1891.624985}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5b39e3b5] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:10:12.256514+02:00", "timestamp": 1754053812.256514}}}
{"text": "2025-08-01 15:10:36.968 | INFO     | app.main:request_tracking_middleware:116 - ✅ [52b15233] GET /api/v1/suggestions/refint-codpro - 200 - 104084.7ms\n", "record": {"elapsed": {"repr": "0:31:56.337220", "seconds": 1916.33722}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [52b15233] GET /api/v1/suggestions/refint-codpro - 200 - 104084.7ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:10:36.968749+02:00", "timestamp": 1754053836.968749}}}
{"text": "2025-08-01 15:10:36.971 | INFO     | app.main:request_tracking_middleware:116 - ✅ [a9d5d1ac] GET /api/v1/suggestions/refint-codpro - 200 - 103517.4ms\n", "record": {"elapsed": {"repr": "0:31:56.340433", "seconds": 1916.340433}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [a9d5d1ac] GET /api/v1/suggestions/refint-codpro - 200 - 103517.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:10:36.971962+02:00", "timestamp": 1754053836.971962}}}
{"text": "2025-08-01 15:10:36.972 | INFO     | app.main:request_tracking_middleware:116 - ✅ [4a76d45c] GET /api/v1/suggestions/refint-codpro - 200 - 83509.8ms\n", "record": {"elapsed": {"repr": "0:31:56.341294", "seconds": 1916.341294}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [4a76d45c] GET /api/v1/suggestions/refint-codpro - 200 - 83509.8ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:10:36.972823+02:00", "timestamp": 1754053836.972823}}}
{"text": "2025-08-01 15:10:36.974 | INFO     | app.main:request_tracking_middleware:116 - ✅ [bce41da4] GET /api/v1/suggestions/refint-codpro - 200 - 80228.5ms\n", "record": {"elapsed": {"repr": "0:31:56.342668", "seconds": 1916.342668}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [bce41da4] GET /api/v1/suggestions/refint-codpro - 200 - 80228.5ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:10:36.974197+02:00", "timestamp": 1754053836.974197}}}
{"text": "2025-08-01 15:11:39.105 | INFO     | app.main:request_tracking_middleware:116 - ✅ [fb7b0887] GET /api/v1/suggestions/refint-codpro - 200 - 87434.3ms\n", "record": {"elapsed": {"repr": "0:32:58.474246", "seconds": 1978.474246}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [fb7b0887] GET /api/v1/suggestions/refint-codpro - 200 - 87434.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:11:39.105775+02:00", "timestamp": 1754053899.105775}}}
{"text": "2025-08-01 15:11:39.257 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ed612f45] GET /api/v1/suggestions/refint-codpro - 200 - 87225.0ms\n", "record": {"elapsed": {"repr": "0:32:58.625903", "seconds": 1978.625903}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ed612f45] GET /api/v1/suggestions/refint-codpro - 200 - 87225.0ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:11:39.257432+02:00", "timestamp": 1754053899.257432}}}
{"text": "2025-08-01 15:11:39.431 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5b39e3b5] GET /api/v1/suggestions/refint-codpro - 200 - 87174.9ms\n", "record": {"elapsed": {"repr": "0:32:58.799907", "seconds": 1978.799907}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5b39e3b5] GET /api/v1/suggestions/refint-codpro - 200 - 87174.9ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:11:39.431436+02:00", "timestamp": 1754053899.431436}}}
{"text": "2025-08-01 15:12:59.070 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [2315c385] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:34:18.438516", "seconds": 2058.438516}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [2315c385] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:12:59.070045+02:00", "timestamp": 1754053979.070045}}}
{"text": "2025-08-01 15:12:59.523 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [77c8199b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:34:18.891749", "seconds": 2058.891749}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [77c8199b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:12:59.523278+02:00", "timestamp": 1754053979.523278}}}
{"text": "2025-08-01 15:12:59.992 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [3ef57524] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:34:19.360640", "seconds": 2059.36064}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [3ef57524] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:12:59.992169+02:00", "timestamp": 1754053979.992169}}}
{"text": "2025-08-01 15:13:00.250 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [157d4245] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:34:19.619366", "seconds": 2059.619366}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [157d4245] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:13:00.250895+02:00", "timestamp": 1754053980.250895}}}
{"text": "2025-08-01 15:13:10.270 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c62071cb] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:34:29.639166", "seconds": 2069.639166}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c62071cb] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:13:10.270695+02:00", "timestamp": 1754053990.270695}}}
{"text": "2025-08-01 15:13:10.274 | INFO     | app.main:request_tracking_middleware:116 - ✅ [c62071cb] POST /api/v1/dashboard/fiche - 200 - 3.6ms\n", "record": {"elapsed": {"repr": "0:34:29.642767", "seconds": 2069.642767}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [c62071cb] POST /api/v1/dashboard/fiche - 200 - 3.6ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:13:10.274296+02:00", "timestamp": 1754053990.274296}}}
{"text": "2025-08-01 15:13:17.857 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [80af2f62] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:34:37.226416", "seconds": 2077.226416}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [80af2f62] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:13:17.857945+02:00", "timestamp": 1754053997.857945}}}
{"text": "2025-08-01 15:13:17.866 | INFO     | app.main:request_tracking_middleware:116 - ✅ [80af2f62] POST /api/v1/dashboard/fiche - 200 - 8.7ms\n", "record": {"elapsed": {"repr": "0:34:37.235065", "seconds": 2077.235065}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [80af2f62] POST /api/v1/dashboard/fiche - 200 - 8.7ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:13:17.866594+02:00", "timestamp": 1754053997.866594}}}
{"text": "2025-08-01 15:13:23.183 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [8b75fdf2] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:34:42.551508", "seconds": 2082.551508}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [8b75fdf2] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:13:23.183037+02:00", "timestamp": 1754054003.183037}}}
{"text": "2025-08-01 15:13:23.610 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c6d673e4] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:34:42.978856", "seconds": 2082.978856}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c6d673e4] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:13:23.610385+02:00", "timestamp": 1754054003.610385}}}
{"text": "2025-08-01 15:13:25.240 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [43ec80c1] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:34:44.608571", "seconds": 2084.608571}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [43ec80c1] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:13:25.240100+02:00", "timestamp": 1754054005.2401}}}
{"text": "2025-08-01 15:13:33.173 | INFO     | app.main:request_tracking_middleware:116 - ✅ [77c8199b] GET /api/v1/suggestions/refint-codpro - 200 - 33650.0ms\n", "record": {"elapsed": {"repr": "0:34:52.541761", "seconds": 2092.541761}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [77c8199b] GET /api/v1/suggestions/refint-codpro - 200 - 33650.0ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:13:33.173290+02:00", "timestamp": 1754054013.17329}}}
{"text": "2025-08-01 15:13:51.779 | INFO     | app.main:request_tracking_middleware:116 - ✅ [3ef57524] GET /api/v1/suggestions/refint-codpro - 200 - 51787.8ms\n", "record": {"elapsed": {"repr": "0:35:11.148450", "seconds": 2111.14845}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [3ef57524] GET /api/v1/suggestions/refint-codpro - 200 - 51787.8ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:13:51.779979+02:00", "timestamp": 1754054031.779979}}}
{"text": "2025-08-01 15:13:51.780 | INFO     | app.main:request_tracking_middleware:116 - ✅ [157d4245] GET /api/v1/suggestions/refint-codpro - 200 - 51529.9ms\n", "record": {"elapsed": {"repr": "0:35:11.149269", "seconds": 2111.149269}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [157d4245] GET /api/v1/suggestions/refint-codpro - 200 - 51529.9ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:13:51.780798+02:00", "timestamp": 1754054031.780798}}}
{"text": "2025-08-01 15:13:51.781 | INFO     | app.main:request_tracking_middleware:116 - ✅ [992d7895] GET /api/v1/suggestions/refint-codpro - 200 - 304268.5ms\n", "record": {"elapsed": {"repr": "0:35:11.150434", "seconds": 2111.150434}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [992d7895] GET /api/v1/suggestions/refint-codpro - 200 - 304268.5ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:13:51.781963+02:00", "timestamp": 1754054031.781963}}}
{"text": "2025-08-01 15:13:56.770 | INFO     | app.main:request_tracking_middleware:116 - ✅ [40b2825e] GET /api/v1/suggestions/refint-codpro - 200 - 304263.8ms\n", "record": {"elapsed": {"repr": "0:35:16.139402", "seconds": 2116.139402}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [40b2825e] GET /api/v1/suggestions/refint-codpro - 200 - 304263.8ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:13:56.770931+02:00", "timestamp": 1754054036.770931}}}
{"text": "2025-08-01 15:14:03.236 | INFO     | app.main:request_tracking_middleware:116 - ✅ [c6d673e4] GET /api/v1/suggestions/refint-codpro - 200 - 39626.4ms\n", "record": {"elapsed": {"repr": "0:35:22.605226", "seconds": 2122.605226}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [c6d673e4] GET /api/v1/suggestions/refint-codpro - 200 - 39626.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:14:03.236755+02:00", "timestamp": 1754054043.236755}}}
{"text": "2025-08-01 15:14:20.012 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ade0ff2f] GET /api/v1/suggestions/refint-codpro - 200 - 304247.3ms\n", "record": {"elapsed": {"repr": "0:35:39.380565", "seconds": 2139.380565}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ade0ff2f] GET /api/v1/suggestions/refint-codpro - 200 - 304247.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:14:20.012094+02:00", "timestamp": 1754054060.012094}}}
{"text": "2025-08-01 15:15:15.559 | INFO     | app.main:request_tracking_middleware:116 - ✅ [610b6270] GET /api/v1/suggestions/refint-codpro - 200 - 304111.3ms\n", "record": {"elapsed": {"repr": "0:36:34.928416", "seconds": 2194.928416}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [610b6270] GET /api/v1/suggestions/refint-codpro - 200 - 304111.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:15:15.559945+02:00", "timestamp": 1754054115.559945}}}
{"text": "2025-08-01 15:18:03.192 | INFO     | app.main:request_tracking_middleware:116 - ✅ [2315c385] GET /api/v1/suggestions/refint-codpro - 200 - 304122.6ms\n", "record": {"elapsed": {"repr": "0:39:22.561106", "seconds": 2362.561106}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [2315c385] GET /api/v1/suggestions/refint-codpro - 200 - 304122.6ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:18:03.192635+02:00", "timestamp": 1754054283.192635}}}
{"text": "2025-08-01 15:18:37.251 | INFO     | app.main:request_tracking_middleware:116 - ✅ [8b75fdf2] GET /api/v1/suggestions/refint-codpro - 200 - 314068.8ms\n", "record": {"elapsed": {"repr": "0:39:56.620304", "seconds": 2396.620304}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [8b75fdf2] GET /api/v1/suggestions/refint-codpro - 200 - 314068.8ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:18:37.251833+02:00", "timestamp": 1754054317.251833}}}
{"text": "2025-08-01 15:18:37.594 | INFO     | app.main:request_tracking_middleware:116 - ✅ [43ec80c1] GET /api/v1/suggestions/refint-codpro - 200 - 312354.7ms\n", "record": {"elapsed": {"repr": "0:39:56.963262", "seconds": 2396.963262}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [43ec80c1] GET /api/v1/suggestions/refint-codpro - 200 - 312354.7ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:18:37.594791+02:00", "timestamp": 1754054317.594791}}}
{"text": "2025-08-01 15:46:11.265 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [6c9ad9fc] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:07:30.633943", "seconds": 4050.633943}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [6c9ad9fc] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:11.265472+02:00", "timestamp": 1754055971.265472}}}
{"text": "2025-08-01 15:46:11.268 | INFO     | app.main:request_tracking_middleware:116 - ✅ [6c9ad9fc] OPTIONS /api/v1/dashboard/fiche - 200 - 3.4ms\n", "record": {"elapsed": {"repr": "1:07:30.637292", "seconds": 4050.637292}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [6c9ad9fc] OPTIONS /api/v1/dashboard/fiche - 200 - 3.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:11.268821+02:00", "timestamp": 1754055971.268821}}}
{"text": "2025-08-01 15:46:11.278 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [9fb4bc6d] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:07:30.646859", "seconds": 4050.646859}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [9fb4bc6d] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:11.278388+02:00", "timestamp": 1754055971.278388}}}
{"text": "2025-08-01 15:46:11.282 | INFO     | app.main:request_tracking_middleware:116 - ✅ [9fb4bc6d] POST /api/v1/dashboard/fiche - 200 - 4.3ms\n", "record": {"elapsed": {"repr": "1:07:30.651186", "seconds": 4050.651186}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [9fb4bc6d] POST /api/v1/dashboard/fiche - 200 - 4.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:11.282715+02:00", "timestamp": 1754055971.282715}}}
{"text": "2025-08-01 15:46:13.950 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [275703ea] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:07:33.318753", "seconds": 4053.318753}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [275703ea] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:13.950282+02:00", "timestamp": 1754055973.950282}}}
{"text": "2025-08-01 15:46:14.190 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [51fe75aa] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:07:33.558947", "seconds": 4053.558947}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [51fe75aa] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:14.190476+02:00", "timestamp": 1754055974.190476}}}
{"text": "2025-08-01 15:46:14.234 | INFO     | app.main:request_tracking_middleware:116 - ✅ [275703ea] GET /api/v1/suggestions/refint-codpro - 200 - 284.3ms\n", "record": {"elapsed": {"repr": "1:07:33.603009", "seconds": 4053.603009}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [275703ea] GET /api/v1/suggestions/refint-codpro - 200 - 284.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:14.234538+02:00", "timestamp": 1754055974.234538}}}
{"text": "2025-08-01 15:46:14.509 | INFO     | app.main:request_tracking_middleware:116 - ✅ [51fe75aa] GET /api/v1/suggestions/refint-codpro - 200 - 319.5ms\n", "record": {"elapsed": {"repr": "1:07:33.878461", "seconds": 4053.878461}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [51fe75aa] GET /api/v1/suggestions/refint-codpro - 200 - 319.5ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:14.509990+02:00", "timestamp": 1754055974.50999}}}
{"text": "2025-08-01 15:46:16.035 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [80fd1879] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:07:35.403798", "seconds": 4055.403798}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [80fd1879] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:16.035327+02:00", "timestamp": 1754055976.035327}}}
{"text": "2025-08-01 15:46:16.057 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5bfb4661] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:07:35.425990", "seconds": 4055.42599}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5bfb4661] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:16.057519+02:00", "timestamp": 1754055976.057519}}}
{"text": "2025-08-01 15:46:16.221 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [b317cf56] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:07:35.590377", "seconds": 4055.590377}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [b317cf56] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:16.221906+02:00", "timestamp": 1754055976.221906}}}
{"text": "2025-08-01 15:46:16.313 | INFO     | app.main:request_tracking_middleware:116 - ✅ [80fd1879] GET /api/v1/suggestions/refint-codpro - 200 - 278.4ms\n", "record": {"elapsed": {"repr": "1:07:35.682205", "seconds": 4055.682205}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [80fd1879] GET /api/v1/suggestions/refint-codpro - 200 - 278.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:16.313734+02:00", "timestamp": 1754055976.313734}}}
{"text": "2025-08-01 15:46:16.568 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5bfb4661] GET /api/v1/suggestions/refint-codpro - 200 - 511.0ms\n", "record": {"elapsed": {"repr": "1:07:35.936952", "seconds": 4055.936952}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5bfb4661] GET /api/v1/suggestions/refint-codpro - 200 - 511.0ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:16.568481+02:00", "timestamp": 1754055976.568481}}}
{"text": "2025-08-01 15:46:16.815 | INFO     | app.main:request_tracking_middleware:116 - ✅ [b317cf56] GET /api/v1/suggestions/refint-codpro - 200 - 593.7ms\n", "record": {"elapsed": {"repr": "1:07:36.184040", "seconds": 4056.18404}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [b317cf56] GET /api/v1/suggestions/refint-codpro - 200 - 593.7ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:46:16.815569+02:00", "timestamp": 1754055976.815569}}}
{"text": "2025-08-01 15:47:04.248 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [cf0cf1fa] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:08:23.617099", "seconds": 4103.617099}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [cf0cf1fa] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:04.248628+02:00", "timestamp": 1754056024.248628}}}
{"text": "2025-08-01 15:47:04.477 | INFO     | app.main:request_tracking_middleware:116 - ✅ [cf0cf1fa] GET /api/v1/suggestions/refint-codpro - 200 - 229.2ms\n", "record": {"elapsed": {"repr": "1:08:23.846323", "seconds": 4103.846323}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [cf0cf1fa] GET /api/v1/suggestions/refint-codpro - 200 - 229.2ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:04.477852+02:00", "timestamp": 1754056024.477852}}}
{"text": "2025-08-01 15:47:04.701 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [d5ca84f9] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:08:24.070098", "seconds": 4104.070098}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [d5ca84f9] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:04.701627+02:00", "timestamp": 1754056024.701627}}}
{"text": "2025-08-01 15:47:04.894 | INFO     | app.main:request_tracking_middleware:116 - ✅ [d5ca84f9] GET /api/v1/suggestions/refint-codpro - 200 - 192.7ms\n", "record": {"elapsed": {"repr": "1:08:24.262731", "seconds": 4104.262731}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [d5ca84f9] GET /api/v1/suggestions/refint-codpro - 200 - 192.7ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:04.894260+02:00", "timestamp": 1754056024.89426}}}
{"text": "2025-08-01 15:47:05.785 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [2aad449e] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:08:25.153856", "seconds": 4105.153856}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [2aad449e] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:05.785385+02:00", "timestamp": 1754056025.785385}}}
{"text": "2025-08-01 15:47:05.790 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [666125e6] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:08:25.158605", "seconds": 4105.158605}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [666125e6] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:05.790134+02:00", "timestamp": 1754056025.790134}}}
{"text": "2025-08-01 15:47:05.909 | INFO     | app.main:request_tracking_middleware:116 - ✅ [2aad449e] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 124.4ms\n", "record": {"elapsed": {"repr": "1:08:25.278294", "seconds": 4105.278294}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [2aad449e] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 124.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:05.909823+02:00", "timestamp": 1754056025.909823}}}
{"text": "2025-08-01 15:47:06.002 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ade12c6b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:08:25.370650", "seconds": 4105.37065}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ade12c6b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:06.002179+02:00", "timestamp": 1754056026.002179}}}
{"text": "2025-08-01 15:47:06.522 | INFO     | app.main:request_tracking_middleware:116 - ✅ [666125e6] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 732.4ms\n", "record": {"elapsed": {"repr": "1:08:25.890825", "seconds": 4105.890825}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [666125e6] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 732.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:06.522354+02:00", "timestamp": 1754056026.522354}}}
{"text": "2025-08-01 15:47:06.590 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ade12c6b] GET /api/v1/suggestions/refint-codpro - 200 - 588.2ms\n", "record": {"elapsed": {"repr": "1:08:25.958857", "seconds": 4105.958857}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ade12c6b] GET /api/v1/suggestions/refint-codpro - 200 - 588.2ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:06.590386+02:00", "timestamp": 1754056026.590386}}}
{"text": "2025-08-01 15:47:08.979 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [f117bdfc] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:08:28.347837", "seconds": 4108.347837}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [f117bdfc] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:08.979366+02:00", "timestamp": 1754056028.979366}}}
{"text": "2025-08-01 15:47:09.053 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=22803, qualite=None\n", "record": {"elapsed": {"repr": "1:08:28.422000", "seconds": 4108.422}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=22803, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.053529+02:00", "timestamp": 1754056029.053529}}}
{"text": "2025-08-01 15:47:09.151 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 5 cod_pro\n", "record": {"elapsed": {"repr": "1:08:28.520030", "seconds": 4108.52003}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 5 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.151559+02:00", "timestamp": 1754056029.151559}}}
{"text": "2025-08-01 15:47:09.154 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:eb20695073d37f3c24d33b2d3f21b7a5\n", "record": {"elapsed": {"repr": "1:08:28.523315", "seconds": 4108.523315}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:eb20695073d37f3c24d33b2d3f21b7a5", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.154844+02:00", "timestamp": 1754056029.154844}}}
{"text": "2025-08-01 15:47:09.221 | DEBUG    | app.services.products.detail_service:get_product_details:77 - ✅ Détails produits récupérés: 5 éléments\n", "record": {"elapsed": {"repr": "1:08:28.590243", "seconds": 4108.590243}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 77, "message": "✅ Détails produits récupérés: 5 éléments", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.221772+02:00", "timestamp": 1754056029.221772}}}
{"text": "2025-08-01 15:47:09.223 | DEBUG    | app.services.products.detail_service:get_product_details:82 - ✅ Cache set produit:details pour produit:details:{\"cod_pro\": 23432, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "1:08:28.592072", "seconds": 4108.592072}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 82, "message": "✅ Cache set produit:details pour produit:details:{\"cod_pro\": 23432, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.223601+02:00", "timestamp": 1754056029.223601}}}
{"text": "2025-08-01 15:47:09.238 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:eb20695073d37f3c24d33b2d3f21b7a5\n", "record": {"elapsed": {"repr": "1:08:28.607119", "seconds": 4108.607119}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:eb20695073d37f3c24d33b2d3f21b7a5", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.238648+02:00", "timestamp": 1754056029.238648}}}
{"text": "2025-08-01 15:47:09.465 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5bf2955f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:08:28.833997", "seconds": 4108.833997}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5bf2955f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.465526+02:00", "timestamp": 1754056029.465526}}}
{"text": "2025-08-01 15:47:09.492 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:77 - ✅ Agrégat ventes récupéré: 3 éléments\n", "record": {"elapsed": {"repr": "1:08:28.861225", "seconds": 4108.861225}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 77, "message": "✅ Agrégat ventes récupéré: 3 éléments", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.492754+02:00", "timestamp": 1754056029.492754}}}
{"text": "2025-08-01 15:47:09.494 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:81 - ✅ Cache set sales:agg pour sales:agg:{\"cod_pro\": 23432, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "1:08:28.863071", "seconds": 4108.863071}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 81, "message": "✅ Cache set sales:agg pour sales:agg:{\"cod_pro\": 23432, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.494600+02:00", "timestamp": 1754056029.4946}}}
{"text": "2025-08-01 15:47:09.496 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:eb20695073d37f3c24d33b2d3f21b7a5\n", "record": {"elapsed": {"repr": "1:08:28.864933", "seconds": 4108.864933}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:eb20695073d37f3c24d33b2d3f21b7a5", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.496462+02:00", "timestamp": 1754056029.496462}}}
{"text": "2025-08-01 15:47:09.750 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5bf2955f] GET /api/v1/suggestions/refint-codpro - 200 - 284.8ms\n", "record": {"elapsed": {"repr": "1:08:29.118823", "seconds": 4109.118823}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5bf2955f] GET /api/v1/suggestions/refint-codpro - 200 - 284.8ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.750352+02:00", "timestamp": 1754056029.750352}}}
{"text": "2025-08-01 15:47:09.854 | DEBUG    | app.services.sales.sales_service:get_sales_history:162 - ✅ Historique ventes récupéré: 31 éléments pour période >= 2024-09-01\n", "record": {"elapsed": {"repr": "1:08:29.223155", "seconds": 4109.223155}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 162, "message": "✅ Historique ventes récupéré: 31 éléments pour période >= 2024-09-01", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.854684+02:00", "timestamp": 1754056029.854684}}}
{"text": "2025-08-01 15:47:09.856 | DEBUG    | app.services.sales.sales_service:get_sales_history:166 - ✅ Cache set sales:history pour sales:history:{\"cod_pro\": 23432, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "1:08:29.224856", "seconds": 4109.224856}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 166, "message": "✅ Cache set sales:history pour sales:history:{\"cod_pro\": 23432, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.856385+02:00", "timestamp": 1754056029.856385}}}
{"text": "2025-08-01 15:47:09.861 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:eb20695073d37f3c24d33b2d3f21b7a5\n", "record": {"elapsed": {"repr": "1:08:29.230113", "seconds": 4109.230113}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:eb20695073d37f3c24d33b2d3f21b7a5", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.861642+02:00", "timestamp": 1754056029.861642}}}
{"text": "2025-08-01 15:47:09.930 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:63 - ✅ Stock actuel récupéré: 28 éléments\n", "record": {"elapsed": {"repr": "1:08:29.298647", "seconds": 4109.298647}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 63, "message": "✅ Stock actuel récupéré: 28 éléments", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.930176+02:00", "timestamp": 1754056029.930176}}}
{"text": "2025-08-01 15:47:09.931 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:67 - ✅ Cache set stock:actuel pour stock:actuel:{\"cod_pro\": 23432, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "1:08:29.300126", "seconds": 4109.300126}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 67, "message": "✅ Cache set stock:actuel pour stock:actuel:{\"cod_pro\": 23432, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.931655+02:00", "timestamp": 1754056029.931655}}}
{"text": "2025-08-01 15:47:09.934 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:eb20695073d37f3c24d33b2d3f21b7a5\n", "record": {"elapsed": {"repr": "1:08:29.302888", "seconds": 4109.302888}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:eb20695073d37f3c24d33b2d3f21b7a5", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.934417+02:00", "timestamp": 1754056029.934417}}}
{"text": "2025-08-01 15:47:09.953 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:63 - ✅ Cache enregistré purchase_price pour purchase:price:{\"cod_pro\": 23432, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "1:08:29.321891", "seconds": 4109.321891}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 63, "message": "✅ Cache enregistré purchase_price pour purchase:price:{\"cod_pro\": 23432, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.953420+02:00", "timestamp": 1754056029.95342}}}
{"text": "2025-08-01 15:47:09.982 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=22803, qualite=None\n", "record": {"elapsed": {"repr": "1:08:29.350741", "seconds": 4109.350741}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=22803, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.982270+02:00", "timestamp": 1754056029.98227}}}
{"text": "2025-08-01 15:47:09.997 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 5 cod_pro\n", "record": {"elapsed": {"repr": "1:08:29.365823", "seconds": 4109.365823}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 5 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:09.997352+02:00", "timestamp": 1754056029.997352}}}
{"text": "2025-08-01 15:47:10.058 | DEBUG    | app.services.products.match_service:get_codpro_match_list:76 - ✅ Matches récupérés: 39 éléments uniques\n", "record": {"elapsed": {"repr": "1:08:29.427436", "seconds": 4109.427436}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Matches récupérés: 39 éléments uniques", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:10.058965+02:00", "timestamp": 1754056030.058965}}}
{"text": "2025-08-01 15:47:10.060 | DEBUG    | app.services.products.match_service:get_codpro_match_list:81 - ✅ Cache set get_codpro_match_list pour match:codpro:{\"cod_pro\": 23432, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "1:08:29.429210", "seconds": 4109.42921}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 81, "message": "✅ Cache set get_codpro_match_list pour match:codpro:{\"cod_pro\": 23432, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:10.060739+02:00", "timestamp": 1754056030.060739}}}
{"text": "2025-08-01 15:47:10.065 | INFO     | app.main:request_tracking_middleware:116 - ✅ [f117bdfc] POST /api/v1/dashboard/fiche - 200 - 1085.9ms\n", "record": {"elapsed": {"repr": "1:08:29.433769", "seconds": 4109.433769}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [f117bdfc] POST /api/v1/dashboard/fiche - 200 - 1085.9ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:10.065298+02:00", "timestamp": 1754056030.065298}}}
{"text": "2025-08-01 15:47:13.493 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ae37aa8c] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:08:32.861501", "seconds": 4112.861501}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ae37aa8c] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:13.493030+02:00", "timestamp": 1754056033.49303}}}
{"text": "2025-08-01 15:47:13.494 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ae37aa8c] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.6ms\n", "record": {"elapsed": {"repr": "1:08:32.863138", "seconds": 4112.863138}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ae37aa8c] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.6ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:13.494667+02:00", "timestamp": 1754056033.494667}}}
{"text": "2025-08-01 15:47:13.502 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [b7a323aa] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:08:32.870647", "seconds": 4112.870647}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [b7a323aa] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:13.502176+02:00", "timestamp": 1754056033.502176}}}
{"text": "2025-08-01 15:47:13.504 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "1:08:32.873406", "seconds": 4112.873406}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:13.504935+02:00", "timestamp": 1754056033.504935}}}
{"text": "2025-08-01 15:47:13.505 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "1:08:32.874003", "seconds": 4112.874003}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:13.505532+02:00", "timestamp": 1754056033.505532}}}
{"text": "2025-08-01 15:47:13.506 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "1:08:32.875129", "seconds": 4112.875129}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:13.506658+02:00", "timestamp": 1754056033.506658}}}
{"text": "2025-08-01 15:47:13.759 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:88 - SQL principale exécutée en 0.25s, 1 lignes\n", "record": {"elapsed": {"repr": "1:08:33.127900", "seconds": 4113.1279}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 88, "message": "SQL principale exécutée en 0.25s, 1 lignes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:13.759429+02:00", "timestamp": 1754056033.759429}}}
{"text": "2025-08-01 15:47:13.760 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:102 - 1 groupes trouvés après agrégation\n", "record": {"elapsed": {"repr": "1:08:33.128477", "seconds": 4113.128477}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 102, "message": "1 groupes trouvés après agrégation", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:13.760006+02:00", "timestamp": 1754056033.760006}}}
{"text": "2025-08-01 15:47:14.028 | DEBUG    | app.services.optimisation.optimisation_service:_get_sales_history_for_trend:194 - Historique tendance récupéré: 1 groupes\n", "record": {"elapsed": {"repr": "1:08:33.397307", "seconds": 4113.397307}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_get_sales_history_for_trend", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 194, "message": "Historique tendance récupéré: 1 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:14.028836+02:00", "timestamp": 1754056034.028836}}}
{"text": "2025-08-01 15:47:14.031 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:105 - Historique récupéré pour 1 groupes\n", "record": {"elapsed": {"repr": "1:08:33.399511", "seconds": 4113.399511}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "Historique récupéré pour 1 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:14.031040+02:00", "timestamp": 1754056034.03104}}}
{"text": "2025-08-01 15:47:14.032 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:153 - ✅ Cache set optimisation pour optimisation:group:{\"cod_pro_list\": [23432], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "1:08:33.400520", "seconds": 4113.40052}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 153, "message": "✅ Cache set optimisation pour optimisation:group:{\"cod_pro_list\": [23432], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:14.032049+02:00", "timestamp": 1754056034.032049}}}
{"text": "2025-08-01 15:47:14.032 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:157 - Optimisation calculée: 0 groupes analysés\n", "record": {"elapsed": {"repr": "1:08:33.401315", "seconds": 4113.401315}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 157, "message": "Optimisation calculée: 0 groupes analysés", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:14.032844+02:00", "timestamp": 1754056034.032844}}}
{"text": "2025-08-01 15:47:14.042 | INFO     | app.main:request_tracking_middleware:116 - ✅ [b7a323aa] POST /api/v1/optimisation/optimisation - 200 - 540.5ms\n", "record": {"elapsed": {"repr": "1:08:33.411151", "seconds": 4113.411151}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [b7a323aa] POST /api/v1/optimisation/optimisation - 200 - 540.5ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:14.042680+02:00", "timestamp": 1754056034.04268}}}
{"text": "2025-08-01 15:47:17.132 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [b0c2a34d] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:08:36.500714", "seconds": 4116.500714}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [b0c2a34d] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:17.132243+02:00", "timestamp": 1754056037.132243}}}
{"text": "2025-08-01 15:47:17.335 | INFO     | app.main:request_tracking_middleware:116 - ✅ [b0c2a34d] GET /api/v1/suggestions/refint-codpro - 200 - 203.2ms\n", "record": {"elapsed": {"repr": "1:08:36.703807", "seconds": 4116.703807}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [b0c2a34d] GET /api/v1/suggestions/refint-codpro - 200 - 203.2ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:17.335336+02:00", "timestamp": 1754056037.335336}}}
{"text": "2025-08-01 15:47:17.898 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c9ac0f44] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:08:37.266514", "seconds": 4117.266514}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c9ac0f44] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:17.898043+02:00", "timestamp": 1754056037.898043}}}
{"text": "2025-08-01 15:47:17.903 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "1:08:37.271533", "seconds": 4117.271533}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:17.903062+02:00", "timestamp": 1754056037.903062}}}
{"text": "2025-08-01 15:47:17.904 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "1:08:37.273105", "seconds": 4117.273105}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:17.904634+02:00", "timestamp": 1754056037.904634}}}
{"text": "2025-08-01 15:47:17.906 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23432], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "1:08:37.274710", "seconds": 4117.27471}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23432], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:17.906239+02:00", "timestamp": 1754056037.906239}}}
{"text": "2025-08-01 15:47:17.909 | INFO     | app.main:request_tracking_middleware:116 - ✅ [c9ac0f44] POST /api/v1/optimisation/optimisation - 200 - 11.3ms\n", "record": {"elapsed": {"repr": "1:08:37.277755", "seconds": 4117.277755}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [c9ac0f44] POST /api/v1/optimisation/optimisation - 200 - 11.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:17.909284+02:00", "timestamp": 1754056037.909284}}}
{"text": "2025-08-01 15:47:18.312 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [74e6695b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:08:37.681336", "seconds": 4117.681336}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [74e6695b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:18.312865+02:00", "timestamp": 1754056038.312865}}}
{"text": "2025-08-01 15:47:18.594 | INFO     | app.main:request_tracking_middleware:116 - ✅ [74e6695b] GET /api/v1/suggestions/refint-codpro - 200 - 281.6ms\n", "record": {"elapsed": {"repr": "1:08:37.962915", "seconds": 4117.962915}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [74e6695b] GET /api/v1/suggestions/refint-codpro - 200 - 281.6ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:18.594444+02:00", "timestamp": 1754056038.594444}}}
{"text": "2025-08-01 15:47:39.204 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ee458f3d] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:08:58.572950", "seconds": 4138.57295}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ee458f3d] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:39.204479+02:00", "timestamp": 1754056059.204479}}}
{"text": "2025-08-01 15:47:39.207 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "1:08:58.576240", "seconds": 4138.57624}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:39.207769+02:00", "timestamp": 1754056059.207769}}}
{"text": "2025-08-01 15:47:39.208 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "1:08:58.576920", "seconds": 4138.57692}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:39.208449+02:00", "timestamp": 1754056059.208449}}}
{"text": "2025-08-01 15:47:39.209 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23432], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "1:08:58.578138", "seconds": 4138.578138}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23432], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:39.209667+02:00", "timestamp": 1754056059.209667}}}
{"text": "2025-08-01 15:47:39.211 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ee458f3d] POST /api/v1/optimisation/optimisation - 200 - 7.0ms\n", "record": {"elapsed": {"repr": "1:08:58.579947", "seconds": 4138.579947}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ee458f3d] POST /api/v1/optimisation/optimisation - 200 - 7.0ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:47:39.211476+02:00", "timestamp": 1754056059.211476}}}
{"text": "2025-08-01 15:50:13.777 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [7224e41f] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:11:33.146180", "seconds": 4293.14618}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [7224e41f] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:13.777709+02:00", "timestamp": 1754056213.777709}}}
{"text": "2025-08-01 15:50:13.780 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "1:11:33.149371", "seconds": 4293.149371}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:13.780900+02:00", "timestamp": 1754056213.7809}}}
{"text": "2025-08-01 15:50:13.781 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "1:11:33.149744", "seconds": 4293.149744}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:13.781273+02:00", "timestamp": 1754056213.781273}}}
{"text": "2025-08-01 15:50:13.782 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23432], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "1:11:33.151069", "seconds": 4293.151069}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23432], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:13.782598+02:00", "timestamp": 1754056213.782598}}}
{"text": "2025-08-01 15:50:13.784 | INFO     | app.main:request_tracking_middleware:116 - ✅ [7224e41f] POST /api/v1/optimisation/optimisation - 200 - 6.3ms\n", "record": {"elapsed": {"repr": "1:11:33.152502", "seconds": 4293.152502}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [7224e41f] POST /api/v1/optimisation/optimisation - 200 - 6.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:13.784031+02:00", "timestamp": 1754056213.784031}}}
{"text": "2025-08-01 15:50:48.806 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [863b833f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:12:08.174898", "seconds": 4328.174898}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [863b833f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:48.806427+02:00", "timestamp": 1754056248.806427}}}
{"text": "2025-08-01 15:50:49.019 | INFO     | app.main:request_tracking_middleware:116 - ✅ [863b833f] GET /api/v1/suggestions/refint-codpro - 200 - 212.7ms\n", "record": {"elapsed": {"repr": "1:12:08.387551", "seconds": 4328.387551}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [863b833f] GET /api/v1/suggestions/refint-codpro - 200 - 212.7ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:49.019080+02:00", "timestamp": 1754056249.01908}}}
{"text": "2025-08-01 15:50:49.975 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [482d7b8e] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:12:09.343725", "seconds": 4329.343725}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [482d7b8e] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:49.975254+02:00", "timestamp": 1754056249.975254}}}
{"text": "2025-08-01 15:50:50.146 | INFO     | app.main:request_tracking_middleware:116 - ✅ [482d7b8e] GET /api/v1/suggestions/refint-codpro - 200 - 171.0ms\n", "record": {"elapsed": {"repr": "1:12:09.514670", "seconds": 4329.51467}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [482d7b8e] GET /api/v1/suggestions/refint-codpro - 200 - 171.0ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:50.146199+02:00", "timestamp": 1754056250.146199}}}
{"text": "2025-08-01 15:50:50.743 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [84f50e1c] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:12:10.112215", "seconds": 4330.112215}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [84f50e1c] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:50.743744+02:00", "timestamp": 1754056250.743744}}}
{"text": "2025-08-01 15:50:50.747 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "1:12:10.116459", "seconds": 4330.116459}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:50.747988+02:00", "timestamp": 1754056250.747988}}}
{"text": "2025-08-01 15:50:50.748 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "1:12:10.116968", "seconds": 4330.116968}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:50.748497+02:00", "timestamp": 1754056250.748497}}}
{"text": "2025-08-01 15:50:50.749 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "1:12:10.118254", "seconds": 4330.118254}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:50.749783+02:00", "timestamp": 1754056250.749783}}}
{"text": "2025-08-01 15:50:50.902 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:88 - SQL principale exécutée en 0.15s, 1 lignes\n", "record": {"elapsed": {"repr": "1:12:10.270691", "seconds": 4330.270691}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 88, "message": "SQL principale exécutée en 0.15s, 1 lignes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:50.902220+02:00", "timestamp": 1754056250.90222}}}
{"text": "2025-08-01 15:50:50.902 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:102 - 1 groupes trouvés après agrégation\n", "record": {"elapsed": {"repr": "1:12:10.271240", "seconds": 4330.27124}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 102, "message": "1 groupes trouvés après agrégation", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:50.902769+02:00", "timestamp": 1754056250.902769}}}
{"text": "2025-08-01 15:50:51.018 | DEBUG    | app.services.optimisation.optimisation_service:_get_sales_history_for_trend:194 - Historique tendance récupéré: 0 groupes\n", "record": {"elapsed": {"repr": "1:12:10.386859", "seconds": 4330.386859}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_get_sales_history_for_trend", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 194, "message": "Historique tendance récupéré: 0 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:51.018388+02:00", "timestamp": 1754056251.018388}}}
{"text": "2025-08-01 15:50:51.019 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:105 - Historique récupéré pour 0 groupes\n", "record": {"elapsed": {"repr": "1:12:10.387770", "seconds": 4330.38777}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "Historique récupéré pour 0 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:51.019299+02:00", "timestamp": 1754056251.019299}}}
{"text": "2025-08-01 15:50:51.020 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:153 - ✅ Cache set optimisation pour optimisation:group:{\"cod_pro_list\": [24312], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "1:12:10.389106", "seconds": 4330.389106}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 153, "message": "✅ Cache set optimisation pour optimisation:group:{\"cod_pro_list\": [24312], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:51.020635+02:00", "timestamp": 1754056251.020635}}}
{"text": "2025-08-01 15:50:51.021 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:157 - Optimisation calculée: 0 groupes analysés\n", "record": {"elapsed": {"repr": "1:12:10.389997", "seconds": 4330.389997}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 157, "message": "Optimisation calculée: 0 groupes analysés", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:51.021526+02:00", "timestamp": 1754056251.021526}}}
{"text": "2025-08-01 15:50:51.024 | INFO     | app.main:request_tracking_middleware:116 - ✅ [84f50e1c] POST /api/v1/optimisation/optimisation - 200 - 280.9ms\n", "record": {"elapsed": {"repr": "1:12:10.393072", "seconds": 4330.393072}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [84f50e1c] POST /api/v1/optimisation/optimisation - 200 - 280.9ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:51.024601+02:00", "timestamp": 1754056251.024601}}}
{"text": "2025-08-01 15:50:51.120 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [634c7865] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:12:10.489320", "seconds": 4330.48932}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [634c7865] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:51.120849+02:00", "timestamp": 1754056251.120849}}}
{"text": "2025-08-01 15:50:51.358 | INFO     | app.main:request_tracking_middleware:116 - ✅ [634c7865] GET /api/v1/suggestions/refint-codpro - 200 - 237.2ms\n", "record": {"elapsed": {"repr": "1:12:10.726551", "seconds": 4330.726551}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [634c7865] GET /api/v1/suggestions/refint-codpro - 200 - 237.2ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:50:51.358080+02:00", "timestamp": 1754056251.35808}}}
{"text": "2025-08-01 15:51:02.638 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [cfe0788a] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:12:22.007187", "seconds": 4342.007187}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [cfe0788a] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:02.638716+02:00", "timestamp": 1754056262.638716}}}
{"text": "2025-08-01 15:51:03.906 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [89c1bddd] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:12:23.274869", "seconds": 4343.274869}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [89c1bddd] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:03.906398+02:00", "timestamp": 1754056263.906398}}}
{"text": "2025-08-01 15:51:03.909 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "1:12:23.278283", "seconds": 4343.278283}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:03.909812+02:00", "timestamp": 1754056263.909812}}}
{"text": "2025-08-01 15:51:03.910 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "1:12:23.278898", "seconds": 4343.278898}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:03.910427+02:00", "timestamp": 1754056263.910427}}}
{"text": "2025-08-01 15:51:03.911 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [24312], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "1:12:23.280205", "seconds": 4343.280205}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [24312], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:03.911734+02:00", "timestamp": 1754056263.911734}}}
{"text": "2025-08-01 15:51:03.913 | INFO     | app.main:request_tracking_middleware:116 - ✅ [89c1bddd] POST /api/v1/optimisation/optimisation - 200 - 7.2ms\n", "record": {"elapsed": {"repr": "1:12:23.282048", "seconds": 4343.282048}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [89c1bddd] POST /api/v1/optimisation/optimisation - 200 - 7.2ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:03.913577+02:00", "timestamp": 1754056263.913577}}}
{"text": "2025-08-01 15:51:05.675 | INFO     | app.main:request_tracking_middleware:116 - ✅ [cfe0788a] GET /api/v1/suggestions/refint-codpro - 200 - 3037.3ms\n", "record": {"elapsed": {"repr": "1:12:25.044455", "seconds": 4345.044455}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [cfe0788a] GET /api/v1/suggestions/refint-codpro - 200 - 3037.3ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:05.675984+02:00", "timestamp": 1754056265.675984}}}
{"text": "2025-08-01 15:51:19.530 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [f8762643] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:12:38.898986", "seconds": 4358.898986}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [f8762643] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:19.530515+02:00", "timestamp": 1754056279.530515}}}
{"text": "2025-08-01 15:51:19.532 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "1:12:38.901439", "seconds": 4358.901439}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:19.532968+02:00", "timestamp": 1754056279.532968}}}
{"text": "2025-08-01 15:51:19.573 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=42285, qualite=None\n", "record": {"elapsed": {"repr": "1:12:38.942416", "seconds": 4358.942416}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=42285, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:19.573945+02:00", "timestamp": 1754056279.573945}}}
{"text": "2025-08-01 15:51:19.592 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 1 cod_pro\n", "record": {"elapsed": {"repr": "1:12:38.961263", "seconds": 4358.961263}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 1 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:19.592792+02:00", "timestamp": 1754056279.592792}}}
{"text": "2025-08-01 15:51:19.593 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.06s\n", "record": {"elapsed": {"repr": "1:12:38.961906", "seconds": 4358.961906}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.06s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:19.593435+02:00", "timestamp": 1754056279.593435}}}
{"text": "2025-08-01 15:51:19.594 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "1:12:38.963136", "seconds": 4358.963136}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:19.594665+02:00", "timestamp": 1754056279.594665}}}
{"text": "2025-08-01 15:51:19.685 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:88 - SQL principale exécutée en 0.09s, 1 lignes\n", "record": {"elapsed": {"repr": "1:12:39.053513", "seconds": 4359.053513}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 88, "message": "SQL principale exécutée en 0.09s, 1 lignes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:19.685042+02:00", "timestamp": 1754056279.685042}}}
{"text": "2025-08-01 15:51:19.685 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:102 - 1 groupes trouvés après agrégation\n", "record": {"elapsed": {"repr": "1:12:39.054050", "seconds": 4359.05405}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 102, "message": "1 groupes trouvés après agrégation", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:19.685579+02:00", "timestamp": 1754056279.685579}}}
{"text": "2025-08-01 15:51:19.737 | DEBUG    | app.services.optimisation.optimisation_service:_get_sales_history_for_trend:194 - Historique tendance récupéré: 0 groupes\n", "record": {"elapsed": {"repr": "1:12:39.106394", "seconds": 4359.106394}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_get_sales_history_for_trend", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 194, "message": "Historique tendance récupéré: 0 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:19.737923+02:00", "timestamp": 1754056279.737923}}}
{"text": "2025-08-01 15:51:19.739 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:105 - Historique récupéré pour 0 groupes\n", "record": {"elapsed": {"repr": "1:12:39.107839", "seconds": 4359.107839}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "Historique récupéré pour 0 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:19.739368+02:00", "timestamp": 1754056279.739368}}}
{"text": "2025-08-01 15:51:19.740 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:153 - ✅ Cache set optimisation pour optimisation:group:{\"cod_pro\": 24312, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "1:12:39.109207", "seconds": 4359.109207}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 153, "message": "✅ Cache set optimisation pour optimisation:group:{\"cod_pro\": 24312, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:19.740736+02:00", "timestamp": 1754056279.740736}}}
{"text": "2025-08-01 15:51:19.741 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:157 - Optimisation calculée: 0 groupes analysés\n", "record": {"elapsed": {"repr": "1:12:39.110035", "seconds": 4359.110035}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 157, "message": "Optimisation calculée: 0 groupes analysés", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:19.741564+02:00", "timestamp": 1754056279.741564}}}
{"text": "2025-08-01 15:51:19.744 | INFO     | app.main:request_tracking_middleware:116 - ✅ [f8762643] POST /api/v1/optimisation/optimisation - 200 - 213.7ms\n", "record": {"elapsed": {"repr": "1:12:39.112634", "seconds": 4359.112634}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [f8762643] POST /api/v1/optimisation/optimisation - 200 - 213.7ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:19.744163+02:00", "timestamp": 1754056279.744163}}}
{"text": "2025-08-01 15:51:23.668 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [fbfb5c99] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:12:43.036565", "seconds": 4363.036565}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [fbfb5c99] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:23.668094+02:00", "timestamp": 1754056283.668094}}}
{"text": "2025-08-01 15:51:23.671 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "1:12:43.040433", "seconds": 4363.040433}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:23.671962+02:00", "timestamp": 1754056283.671962}}}
{"text": "2025-08-01 15:51:23.673 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:646d34da7525f68c9da39f637940d9cf\n", "record": {"elapsed": {"repr": "1:12:43.041835", "seconds": 4363.041835}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:646d34da7525f68c9da39f637940d9cf", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:23.673364+02:00", "timestamp": 1754056283.673364}}}
{"text": "2025-08-01 15:51:23.674 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "1:12:43.042999", "seconds": 4363.042999}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:23.674528+02:00", "timestamp": 1754056283.674528}}}
{"text": "2025-08-01 15:51:23.675 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 24312, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "1:12:43.044368", "seconds": 4363.044368}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 24312, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:23.675897+02:00", "timestamp": 1754056283.675897}}}
{"text": "2025-08-01 15:51:23.678 | INFO     | app.main:request_tracking_middleware:116 - ✅ [fbfb5c99] POST /api/v1/optimisation/optimisation - 200 - 10.4ms\n", "record": {"elapsed": {"repr": "1:12:43.046960", "seconds": 4363.04696}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [fbfb5c99] POST /api/v1/optimisation/optimisation - 200 - 10.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:23.678489+02:00", "timestamp": 1754056283.678489}}}
{"text": "2025-08-01 15:51:24.666 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [29972f12] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:12:44.035285", "seconds": 4364.035285}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [29972f12] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:24.666814+02:00", "timestamp": 1754056284.666814}}}
{"text": "2025-08-01 15:51:24.669 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "1:12:44.038378", "seconds": 4364.038378}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:24.669907+02:00", "timestamp": 1754056284.669907}}}
{"text": "2025-08-01 15:51:24.671 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:646d34da7525f68c9da39f637940d9cf\n", "record": {"elapsed": {"repr": "1:12:44.039641", "seconds": 4364.039641}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:646d34da7525f68c9da39f637940d9cf", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:24.671170+02:00", "timestamp": 1754056284.67117}}}
{"text": "2025-08-01 15:51:24.671 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "1:12:44.040289", "seconds": 4364.040289}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:24.671818+02:00", "timestamp": 1754056284.671818}}}
{"text": "2025-08-01 15:51:24.673 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 24312, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "1:12:44.041840", "seconds": 4364.04184}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 24312, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:24.673369+02:00", "timestamp": 1754056284.673369}}}
{"text": "2025-08-01 15:51:24.675 | INFO     | app.main:request_tracking_middleware:116 - ✅ [29972f12] POST /api/v1/optimisation/optimisation - 200 - 8.2ms\n", "record": {"elapsed": {"repr": "1:12:44.043510", "seconds": 4364.04351}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [29972f12] POST /api/v1/optimisation/optimisation - 200 - 8.2ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:24.675039+02:00", "timestamp": 1754056284.675039}}}
{"text": "2025-08-01 15:51:28.785 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [0486f0dc] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:12:48.154026", "seconds": 4368.154026}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [0486f0dc] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:28.785555+02:00", "timestamp": 1754056288.785555}}}
{"text": "2025-08-01 15:51:28.790 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "1:12:48.159409", "seconds": 4368.159409}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:28.790938+02:00", "timestamp": 1754056288.790938}}}
{"text": "2025-08-01 15:51:28.793 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:646d34da7525f68c9da39f637940d9cf\n", "record": {"elapsed": {"repr": "1:12:48.161817", "seconds": 4368.161817}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:646d34da7525f68c9da39f637940d9cf", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:28.793346+02:00", "timestamp": 1754056288.793346}}}
{"text": "2025-08-01 15:51:28.793 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "1:12:48.162390", "seconds": 4368.16239}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:28.793919+02:00", "timestamp": 1754056288.793919}}}
{"text": "2025-08-01 15:51:28.795 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 24312, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "1:12:48.163533", "seconds": 4368.163533}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 24312, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:28.795062+02:00", "timestamp": 1754056288.795062}}}
{"text": "2025-08-01 15:51:28.798 | INFO     | app.main:request_tracking_middleware:116 - ✅ [0486f0dc] POST /api/v1/optimisation/optimisation - 200 - 12.5ms\n", "record": {"elapsed": {"repr": "1:12:48.166517", "seconds": 4368.166517}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [0486f0dc] POST /api/v1/optimisation/optimisation - 200 - 12.5ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:51:28.798046+02:00", "timestamp": 1754056288.798046}}}
{"text": "2025-08-01 15:53:20.084 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [89c61048] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:14:39.453091", "seconds": 4479.453091}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [89c61048] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:53:20.084620+02:00", "timestamp": 1754056400.08462}}}
{"text": "2025-08-01 15:53:20.087 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "1:14:39.456111", "seconds": 4479.456111}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:53:20.087640+02:00", "timestamp": 1754056400.08764}}}
{"text": "2025-08-01 15:53:20.155 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=42285, qualite=None\n", "record": {"elapsed": {"repr": "1:14:39.523882", "seconds": 4479.523882}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=42285, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:53:20.155411+02:00", "timestamp": 1754056400.155411}}}
{"text": "2025-08-01 15:53:20.185 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 1 cod_pro\n", "record": {"elapsed": {"repr": "1:14:39.554433", "seconds": 4479.554433}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 1 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:53:20.185962+02:00", "timestamp": 1754056400.185962}}}
{"text": "2025-08-01 15:53:20.188 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.10s\n", "record": {"elapsed": {"repr": "1:14:39.556631", "seconds": 4479.556631}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.10s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:53:20.188160+02:00", "timestamp": 1754056400.18816}}}
{"text": "2025-08-01 15:53:20.189 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 24312, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "1:14:39.557795", "seconds": 4479.557795}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 24312, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:53:20.189324+02:00", "timestamp": 1754056400.189324}}}
{"text": "2025-08-01 15:53:20.192 | INFO     | app.main:request_tracking_middleware:116 - ✅ [89c61048] POST /api/v1/optimisation/optimisation - 200 - 108.4ms\n", "record": {"elapsed": {"repr": "1:14:39.561366", "seconds": 4479.561366}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [89c61048] POST /api/v1/optimisation/optimisation - 200 - 108.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:53:20.192895+02:00", "timestamp": 1754056400.192895}}}
{"text": "2025-08-01 15:56:10.789 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [bc0081a8] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:17:30.157873", "seconds": 4650.157873}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [bc0081a8] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:56:10.789402+02:00", "timestamp": 1754056570.789402}}}
{"text": "2025-08-01 15:56:10.792 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "1:17:30.160881", "seconds": 4650.160881}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:56:10.792410+02:00", "timestamp": 1754056570.79241}}}
{"text": "2025-08-01 15:56:10.792 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "1:17:30.161355", "seconds": 4650.161355}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:56:10.792884+02:00", "timestamp": 1754056570.792884}}}
{"text": "2025-08-01 15:56:10.794 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [24312], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "1:17:30.162728", "seconds": 4650.162728}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [24312], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:56:10.794257+02:00", "timestamp": 1754056570.794257}}}
{"text": "2025-08-01 15:56:10.795 | INFO     | app.main:request_tracking_middleware:116 - ✅ [bc0081a8] POST /api/v1/optimisation/optimisation - 200 - 6.5ms\n", "record": {"elapsed": {"repr": "1:17:30.164451", "seconds": 4650.164451}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [bc0081a8] POST /api/v1/optimisation/optimisation - 200 - 6.5ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:56:10.795980+02:00", "timestamp": 1754056570.79598}}}
{"text": "2025-08-01 15:59:25.142 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5821bd6c] POST /api/v1/identifiers/resolve-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:20:44.510733", "seconds": 4844.510733}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5821bd6c] POST /api/v1/identifiers/resolve-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:59:25.142262+02:00", "timestamp": 1754056765.142262}}}
{"text": "2025-08-01 15:59:25.203 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:78 - 📌 Résolution via grouping_crn=42285, qualite=None\n", "record": {"elapsed": {"repr": "1:20:44.572179", "seconds": 4844.572179}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 78, "message": "📌 Résolution via grouping_crn=42285, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:59:25.203708+02:00", "timestamp": 1754056765.203708}}}
{"text": "2025-08-01 15:59:25.227 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 1 cod_pro\n", "record": {"elapsed": {"repr": "1:20:44.596125", "seconds": 4844.596125}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 1 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:59:25.227654+02:00", "timestamp": 1754056765.227654}}}
{"text": "2025-08-01 15:59:25.230 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5821bd6c] POST /api/v1/identifiers/resolve-codpro - 200 - 88.0ms\n", "record": {"elapsed": {"repr": "1:20:44.598748", "seconds": 4844.598748}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5821bd6c] POST /api/v1/identifiers/resolve-codpro - 200 - 88.0ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:59:25.230277+02:00", "timestamp": 1754056765.230277}}}
{"text": "2025-08-01 15:59:30.689 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [d66414c0] POST /api/v1/identifiers/resolve-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:20:50.058154", "seconds": 4850.058154}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [d66414c0] POST /api/v1/identifiers/resolve-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:59:30.689683+02:00", "timestamp": 1754056770.689683}}}
{"text": "2025-08-01 15:59:30.693 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:29 - ✅ Cache hit pour resolve_codpro:646d34da7525f68c9da39f637940d9cf\n", "record": {"elapsed": {"repr": "1:20:50.062314", "seconds": 4850.062314}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 29, "message": "✅ Cache hit pour resolve_codpro:646d34da7525f68c9da39f637940d9cf", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:59:30.693843+02:00", "timestamp": 1754056770.693843}}}
{"text": "2025-08-01 15:59:30.696 | INFO     | app.main:request_tracking_middleware:116 - ✅ [d66414c0] POST /api/v1/identifiers/resolve-codpro - 200 - 6.4ms\n", "record": {"elapsed": {"repr": "1:20:50.064536", "seconds": 4850.064536}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [d66414c0] POST /api/v1/identifiers/resolve-codpro - 200 - 6.4ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 15:59:30.696065+02:00", "timestamp": 1754056770.696065}}}
{"text": "2025-08-01 16:04:20.380 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [b7b775c2] POST /api/v1/identifiers/resolve-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "1:25:39.749334", "seconds": 5139.749334}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [b7b775c2] POST /api/v1/identifiers/resolve-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:04:20.380863+02:00", "timestamp": 1754057060.380863}}}
{"text": "2025-08-01 16:04:20.474 | WARNING  | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:86 - ⚠️ Aucun grouping_crn trouvé pour cod_pro=20075\n", "record": {"elapsed": {"repr": "1:25:39.842617", "seconds": 5139.842617}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 86, "message": "⚠️ Aucun grouping_crn trouvé pour cod_pro=20075", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:04:20.474146+02:00", "timestamp": 1754057060.474146}}}
{"text": "2025-08-01 16:04:20.476 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:101 - ✅ Cache enregistré pour 1 cod_pro\n", "record": {"elapsed": {"repr": "1:25:39.844557", "seconds": 5139.844557}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 101, "message": "✅ Cache enregistré pour 1 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:04:20.476086+02:00", "timestamp": 1754057060.476086}}}
{"text": "2025-08-01 16:04:20.478 | INFO     | app.main:request_tracking_middleware:116 - ✅ [b7b775c2] POST /api/v1/identifiers/resolve-codpro - 200 - 97.9ms\n", "record": {"elapsed": {"repr": "1:25:39.847193", "seconds": 5139.847193}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [b7b775c2] POST /api/v1/identifiers/resolve-codpro - 200 - 97.9ms", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:04:20.478722+02:00", "timestamp": 1754057060.478722}}}
{"text": "2025-08-01 16:07:39.953 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "1:28:59.321831", "seconds": 5339.321831}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 7856, "name": "SpawnProcess-37"}, "thread": {"id": 18024, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:07:39.953360+02:00", "timestamp": 1754057259.95336}}}
{"text": "2025-08-01 16:07:48.913 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:02.111546", "seconds": 2.111546}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 18852, "name": "SpawnProcess-39"}, "thread": {"id": 3512, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:07:48.913391+02:00", "timestamp": 1754057268.913391}}}
{"text": "2025-08-01 16:07:48.933 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:02.131347", "seconds": 2.131347}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 18852, "name": "SpawnProcess-39"}, "thread": {"id": 3512, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:07:48.933192+02:00", "timestamp": 1754057268.933192}}}
{"text": "2025-08-01 16:07:48.933 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:02.132004", "seconds": 2.132004}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 18852, "name": "SpawnProcess-39"}, "thread": {"id": 3512, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:07:48.933849+02:00", "timestamp": 1754057268.933849}}}
{"text": "2025-08-01 16:07:49.274 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:02.472415", "seconds": 2.472415}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 18852, "name": "SpawnProcess-39"}, "thread": {"id": 3512, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:07:49.274260+02:00", "timestamp": 1754057269.27426}}}
{"text": "2025-08-01 16:07:49.274 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:02.472857", "seconds": 2.472857}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 18852, "name": "SpawnProcess-39"}, "thread": {"id": 3512, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:07:49.274702+02:00", "timestamp": 1754057269.274702}}}
{"text": "2025-08-01 16:07:49.295 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [0f294ef8] POST /api/v1/identifiers/resolve-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.493432", "seconds": 2.493432}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [0f294ef8] POST /api/v1/identifiers/resolve-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 18852, "name": "SpawnProcess-39"}, "thread": {"id": 3512, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:07:49.295277+02:00", "timestamp": 1754057269.295277}}}
{"text": "2025-08-01 16:07:49.387 | WARNING  | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:87 - ⚠️ Aucun grouping_crn trouvé pour cod_pro=20075\n", "record": {"elapsed": {"repr": "0:00:02.585161", "seconds": 2.585161}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 87, "message": "⚠️ Aucun grouping_crn trouvé pour cod_pro=20075", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 18852, "name": "SpawnProcess-39"}, "thread": {"id": 3512, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:07:49.387006+02:00", "timestamp": 1754057269.387006}}}
{"text": "2025-08-01 16:07:49.388 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 1 cod_pro\n", "record": {"elapsed": {"repr": "0:00:02.586823", "seconds": 2.586823}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 1 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 18852, "name": "SpawnProcess-39"}, "thread": {"id": 3512, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:07:49.388668+02:00", "timestamp": 1754057269.388668}}}
{"text": "2025-08-01 16:07:49.390 | INFO     | app.main:request_tracking_middleware:116 - ✅ [0f294ef8] POST /api/v1/identifiers/resolve-codpro - 200 - 96.1ms\n", "record": {"elapsed": {"repr": "0:00:02.588952", "seconds": 2.588952}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [0f294ef8] POST /api/v1/identifiers/resolve-codpro - 200 - 96.1ms", "module": "main", "name": "app.main", "process": {"id": 18852, "name": "SpawnProcess-39"}, "thread": {"id": 3512, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:07:49.390797+02:00", "timestamp": 1754057269.390797}}}
{"text": "2025-08-01 16:09:26.378 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.679356", "seconds": 0.679356}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:26.378430+02:00", "timestamp": 1754057366.37843}}}
{"text": "2025-08-01 16:09:26.395 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.696875", "seconds": 0.696875}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:26.395949+02:00", "timestamp": 1754057366.395949}}}
{"text": "2025-08-01 16:09:26.396 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.697902", "seconds": 0.697902}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:26.396976+02:00", "timestamp": 1754057366.396976}}}
{"text": "2025-08-01 16:09:26.679 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.980357", "seconds": 0.980357}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:26.679431+02:00", "timestamp": 1754057366.679431}}}
{"text": "2025-08-01 16:09:26.679 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.980851", "seconds": 0.980851}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:26.679925+02:00", "timestamp": 1754057366.679925}}}
{"text": "2025-08-01 16:09:37.153 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5f66f40a] GET /docs - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:11.454407", "seconds": 11.454407}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5f66f40a] GET /docs - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:37.153481+02:00", "timestamp": 1754057377.153481}}}
{"text": "2025-08-01 16:09:37.157 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5f66f40a] GET /docs - 200 - 3.7ms\n", "record": {"elapsed": {"repr": "0:00:11.458069", "seconds": 11.458069}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5f66f40a] GET /docs - 200 - 3.7ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:37.157143+02:00", "timestamp": 1754057377.157143}}}
{"text": "2025-08-01 16:09:37.519 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [23b38cc8] GET /openapi.json - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:11.820478", "seconds": 11.820478}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [23b38cc8] GET /openapi.json - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:37.519552+02:00", "timestamp": 1754057377.519552}}}
{"text": "2025-08-01 16:09:37.611 | INFO     | app.main:request_tracking_middleware:116 - ✅ [23b38cc8] GET /openapi.json - 200 - 92.0ms\n", "record": {"elapsed": {"repr": "0:00:11.912504", "seconds": 11.912504}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [23b38cc8] GET /openapi.json - 200 - 92.0ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:37.611578+02:00", "timestamp": 1754057377.611578}}}
{"text": "2025-08-01 16:09:40.672 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [81bfa39b] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.973484", "seconds": 14.973484}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [81bfa39b] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:40.672558+02:00", "timestamp": 1754057380.672558}}}
{"text": "2025-08-01 16:09:40.674 | INFO     | app.main:request_tracking_middleware:116 - ✅ [81bfa39b] OPTIONS /api/v1/dashboard/fiche - 200 - 2.0ms\n", "record": {"elapsed": {"repr": "0:00:14.975444", "seconds": 14.975444}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [81bfa39b] OPTIONS /api/v1/dashboard/fiche - 200 - 2.0ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:40.674518+02:00", "timestamp": 1754057380.674518}}}
{"text": "2025-08-01 16:09:40.682 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [4ae1cb2c] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.983641", "seconds": 14.983641}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [4ae1cb2c] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:40.682715+02:00", "timestamp": 1754057380.682715}}}
{"text": "2025-08-01 16:09:40.695 | INFO     | app.main:request_tracking_middleware:116 - ✅ [4ae1cb2c] POST /api/v1/dashboard/fiche - 200 - 13.3ms\n", "record": {"elapsed": {"repr": "0:00:14.996919", "seconds": 14.996919}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [4ae1cb2c] POST /api/v1/dashboard/fiche - 200 - 13.3ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:40.695993+02:00", "timestamp": 1754057380.695993}}}
{"text": "2025-08-01 16:09:54.034 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [2764cb34] POST /api/v1/identifiers/resolve-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:28.334986", "seconds": 28.334986}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [2764cb34] POST /api/v1/identifiers/resolve-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:54.034060+02:00", "timestamp": 1754057394.03406}}}
{"text": "2025-08-01 16:09:54.185 | WARNING  | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:87 - ⚠️ Aucun grouping_crn trouvé pour cod_pro=23421\n", "record": {"elapsed": {"repr": "0:00:28.486107", "seconds": 28.486107}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 87, "message": "⚠️ Aucun grouping_crn trouvé pour cod_pro=23421", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:54.185181+02:00", "timestamp": 1754057394.185181}}}
{"text": "2025-08-01 16:09:54.186 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 1 cod_pro\n", "record": {"elapsed": {"repr": "0:00:28.487770", "seconds": 28.48777}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 1 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:54.186844+02:00", "timestamp": 1754057394.186844}}}
{"text": "2025-08-01 16:09:54.190 | INFO     | app.main:request_tracking_middleware:116 - ✅ [2764cb34] POST /api/v1/identifiers/resolve-codpro - 200 - 156.1ms\n", "record": {"elapsed": {"repr": "0:00:28.491074", "seconds": 28.491074}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [2764cb34] POST /api/v1/identifiers/resolve-codpro - 200 - 156.1ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:09:54.190148+02:00", "timestamp": 1754057394.190148}}}
{"text": "2025-08-01 16:11:09.306 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [0fe269b8] POST /api/v1/identifiers/resolve-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:43.607338", "seconds": 103.607338}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [0fe269b8] POST /api/v1/identifiers/resolve-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:09.306412+02:00", "timestamp": 1754057469.306412}}}
{"text": "2025-08-01 16:11:09.340 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:01:43.641681", "seconds": 103.641681}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:09.340755+02:00", "timestamp": 1754057469.340755}}}
{"text": "2025-08-01 16:11:09.370 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:01:43.671445", "seconds": 103.671445}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:09.370519+02:00", "timestamp": 1754057469.370519}}}
{"text": "2025-08-01 16:11:09.373 | INFO     | app.main:request_tracking_middleware:116 - ✅ [0fe269b8] POST /api/v1/identifiers/resolve-codpro - 200 - 66.6ms\n", "record": {"elapsed": {"repr": "0:01:43.673947", "seconds": 103.673947}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [0fe269b8] POST /api/v1/identifiers/resolve-codpro - 200 - 66.6ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:09.373021+02:00", "timestamp": 1754057469.373021}}}
{"text": "2025-08-01 16:11:22.921 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [6e1d4813] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:57.222001", "seconds": 117.222001}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [6e1d4813] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:22.921075+02:00", "timestamp": 1754057482.921075}}}
{"text": "2025-08-01 16:11:23.096 | INFO     | app.main:request_tracking_middleware:116 - ✅ [6e1d4813] GET /api/v1/suggestions/refint-codpro - 200 - 175.8ms\n", "record": {"elapsed": {"repr": "0:01:57.397798", "seconds": 117.397798}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [6e1d4813] GET /api/v1/suggestions/refint-codpro - 200 - 175.8ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:23.096872+02:00", "timestamp": 1754057483.096872}}}
{"text": "2025-08-01 16:11:23.938 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [938cf1e8] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:58.239269", "seconds": 118.239269}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [938cf1e8] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:23.938343+02:00", "timestamp": 1754057483.938343}}}
{"text": "2025-08-01 16:11:23.942 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [9332c95c] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:58.243655", "seconds": 118.243655}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [9332c95c] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:23.942729+02:00", "timestamp": 1754057483.942729}}}
{"text": "2025-08-01 16:11:24.058 | INFO     | app.main:request_tracking_middleware:116 - ✅ [938cf1e8] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 120.2ms\n", "record": {"elapsed": {"repr": "0:01:58.359454", "seconds": 118.359454}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [938cf1e8] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 120.2ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:24.058528+02:00", "timestamp": 1754057484.058528}}}
{"text": "2025-08-01 16:11:24.065 | INFO     | app.main:request_tracking_middleware:116 - ✅ [9332c95c] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 122.6ms\n", "record": {"elapsed": {"repr": "0:01:58.366246", "seconds": 118.366246}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [9332c95c] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 122.6ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:24.065320+02:00", "timestamp": 1754057484.06532}}}
{"text": "2025-08-01 16:11:24.148 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [acdaf352] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:58.448935", "seconds": 118.448935}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [acdaf352] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:24.148009+02:00", "timestamp": 1754057484.148009}}}
{"text": "2025-08-01 16:11:24.379 | INFO     | app.main:request_tracking_middleware:116 - ✅ [acdaf352] GET /api/v1/suggestions/refint-codpro - 200 - 231.5ms\n", "record": {"elapsed": {"repr": "0:01:58.680409", "seconds": 118.680409}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [acdaf352] GET /api/v1/suggestions/refint-codpro - 200 - 231.5ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:24.379483+02:00", "timestamp": 1754057484.379483}}}
{"text": "2025-08-01 16:11:26.428 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ecd0a56d] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:00.729661", "seconds": 120.729661}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ecd0a56d] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:26.428735+02:00", "timestamp": 1754057486.428735}}}
{"text": "2025-08-01 16:11:26.432 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:02:00.733573", "seconds": 120.733573}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:26.432647+02:00", "timestamp": 1754057486.432647}}}
{"text": "2025-08-01 16:11:26.436 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:02:00.737138", "seconds": 120.737138}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:26.436212+02:00", "timestamp": 1754057486.436212}}}
{"text": "2025-08-01 16:11:26.525 | DEBUG    | app.services.products.detail_service:get_product_details:77 - ✅ Détails produits récupérés: 29 éléments\n", "record": {"elapsed": {"repr": "0:02:00.826853", "seconds": 120.826853}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 77, "message": "✅ Détails produits récupérés: 29 éléments", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:26.525927+02:00", "timestamp": 1754057486.525927}}}
{"text": "2025-08-01 16:11:26.528 | DEBUG    | app.services.products.detail_service:get_product_details:82 - ✅ Cache set produit:details pour produit:details:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:02:00.829067", "seconds": 120.829067}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 82, "message": "✅ Cache set produit:details pour produit:details:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:26.528141+02:00", "timestamp": 1754057486.528141}}}
{"text": "2025-08-01 16:11:26.531 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:02:00.832837", "seconds": 120.832837}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:26.531911+02:00", "timestamp": 1754057486.531911}}}
{"text": "2025-08-01 16:11:26.824 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5ae042d5] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:01.125410", "seconds": 121.12541}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5ae042d5] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:26.824484+02:00", "timestamp": 1754057486.824484}}}
{"text": "2025-08-01 16:11:26.879 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:77 - ✅ Agrégat ventes récupéré: 20 éléments\n", "record": {"elapsed": {"repr": "0:02:01.180141", "seconds": 121.180141}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 77, "message": "✅ Agrégat ventes récupéré: 20 éléments", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:26.879215+02:00", "timestamp": 1754057486.879215}}}
{"text": "2025-08-01 16:11:26.880 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:81 - ✅ Cache set sales:agg pour sales:agg:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:02:01.181895", "seconds": 121.181895}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 81, "message": "✅ Cache set sales:agg pour sales:agg:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:26.880969+02:00", "timestamp": 1754057486.880969}}}
{"text": "2025-08-01 16:11:26.883 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:02:01.184342", "seconds": 121.184342}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:26.883416+02:00", "timestamp": 1754057486.883416}}}
{"text": "2025-08-01 16:11:27.066 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5ae042d5] GET /api/v1/suggestions/refint-codpro - 200 - 241.9ms\n", "record": {"elapsed": {"repr": "0:02:01.367260", "seconds": 121.36726}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5ae042d5] GET /api/v1/suggestions/refint-codpro - 200 - 241.9ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:27.066334+02:00", "timestamp": 1754057487.066334}}}
{"text": "2025-08-01 16:11:27.280 | DEBUG    | app.services.sales.sales_service:get_sales_history:162 - ✅ Historique ventes récupéré: 138 éléments pour période >= 2024-09-01\n", "record": {"elapsed": {"repr": "0:02:01.581125", "seconds": 121.581125}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 162, "message": "✅ Historique ventes récupéré: 138 éléments pour période >= 2024-09-01", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:27.280199+02:00", "timestamp": 1754057487.280199}}}
{"text": "2025-08-01 16:11:27.282 | DEBUG    | app.services.sales.sales_service:get_sales_history:166 - ✅ Cache set sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:02:01.583459", "seconds": 121.583459}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 166, "message": "✅ Cache set sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:27.282533+02:00", "timestamp": 1754057487.282533}}}
{"text": "2025-08-01 16:11:27.284 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:02:01.585265", "seconds": 121.585265}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:27.284339+02:00", "timestamp": 1754057487.284339}}}
{"text": "2025-08-01 16:11:27.348 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:63 - ✅ Stock actuel récupéré: 145 éléments\n", "record": {"elapsed": {"repr": "0:02:01.649112", "seconds": 121.649112}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 63, "message": "✅ Stock actuel récupéré: 145 éléments", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:27.348186+02:00", "timestamp": 1754057487.348186}}}
{"text": "2025-08-01 16:11:27.350 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:67 - ✅ Cache set stock:actuel pour stock:actuel:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:02:01.651496", "seconds": 121.651496}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 67, "message": "✅ Cache set stock:actuel pour stock:actuel:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:27.350570+02:00", "timestamp": 1754057487.35057}}}
{"text": "2025-08-01 16:11:27.355 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:02:01.656489", "seconds": 121.656489}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:27.355563+02:00", "timestamp": 1754057487.355563}}}
{"text": "2025-08-01 16:11:27.376 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:63 - ✅ Cache enregistré purchase_price pour purchase:price:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:02:01.677276", "seconds": 121.677276}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 63, "message": "✅ Cache enregistré purchase_price pour purchase:price:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:27.376350+02:00", "timestamp": 1754057487.37635}}}
{"text": "2025-08-01 16:11:27.393 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:02:01.694330", "seconds": 121.69433}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:27.393404+02:00", "timestamp": 1754057487.393404}}}
{"text": "2025-08-01 16:11:27.409 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:02:01.710358", "seconds": 121.710358}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:27.409432+02:00", "timestamp": 1754057487.409432}}}
{"text": "2025-08-01 16:11:27.625 | DEBUG    | app.services.products.match_service:get_codpro_match_list:76 - ✅ Matches récupérés: 549 éléments uniques\n", "record": {"elapsed": {"repr": "0:02:01.926855", "seconds": 121.926855}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Matches récupérés: 549 éléments uniques", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:27.625929+02:00", "timestamp": 1754057487.625929}}}
{"text": "2025-08-01 16:11:27.628 | DEBUG    | app.services.products.match_service:get_codpro_match_list:81 - ✅ Cache set get_codpro_match_list pour match:codpro:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:02:01.929092", "seconds": 121.929092}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 81, "message": "✅ Cache set get_codpro_match_list pour match:codpro:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:27.628166+02:00", "timestamp": 1754057487.628166}}}
{"text": "2025-08-01 16:11:27.657 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ecd0a56d] POST /api/v1/dashboard/fiche - 200 - 1228.3ms\n", "record": {"elapsed": {"repr": "0:02:01.957960", "seconds": 121.95796}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ecd0a56d] POST /api/v1/dashboard/fiche - 200 - 1228.3ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:27.657034+02:00", "timestamp": 1754057487.657034}}}
{"text": "2025-08-01 16:11:32.401 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5c64795d] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:06.701987", "seconds": 126.701987}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5c64795d] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:32.401061+02:00", "timestamp": 1754057492.401061}}}
{"text": "2025-08-01 16:11:32.402 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5c64795d] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.1ms\n", "record": {"elapsed": {"repr": "0:02:06.703074", "seconds": 126.703074}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5c64795d] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.1ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:32.402148+02:00", "timestamp": 1754057492.402148}}}
{"text": "2025-08-01 16:11:32.407 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [a8a475c6] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:06.708237", "seconds": 126.708237}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [a8a475c6] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:32.407311+02:00", "timestamp": 1754057492.407311}}}
{"text": "2025-08-01 16:11:32.409 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:02:06.710909", "seconds": 126.710909}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:32.409983+02:00", "timestamp": 1754057492.409983}}}
{"text": "2025-08-01 16:11:32.410 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:02:06.711365", "seconds": 126.711365}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:32.410439+02:00", "timestamp": 1754057492.410439}}}
{"text": "2025-08-01 16:11:32.411 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:02:06.712456", "seconds": 126.712456}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:32.411530+02:00", "timestamp": 1754057492.41153}}}
{"text": "2025-08-01 16:11:32.792 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:88 - SQL principale exécutée en 0.38s, 1 lignes\n", "record": {"elapsed": {"repr": "0:02:07.093551", "seconds": 127.093551}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 88, "message": "SQL principale exécutée en 0.38s, 1 lignes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:32.792625+02:00", "timestamp": 1754057492.792625}}}
{"text": "2025-08-01 16:11:32.793 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:102 - 1 groupes trouvés après agrégation\n", "record": {"elapsed": {"repr": "0:02:07.094039", "seconds": 127.094039}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 102, "message": "1 groupes trouvés après agrégation", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:32.793113+02:00", "timestamp": 1754057492.793113}}}
{"text": "2025-08-01 16:11:33.281 | DEBUG    | app.services.optimisation.optimisation_service:_get_sales_history_for_trend:194 - Historique tendance récupéré: 1 groupes\n", "record": {"elapsed": {"repr": "0:02:07.582876", "seconds": 127.582876}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_get_sales_history_for_trend", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 194, "message": "Historique tendance récupéré: 1 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:33.281950+02:00", "timestamp": 1754057493.28195}}}
{"text": "2025-08-01 16:11:33.283 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:105 - Historique récupéré pour 1 groupes\n", "record": {"elapsed": {"repr": "0:02:07.584024", "seconds": 127.584024}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "Historique récupéré pour 1 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:33.283098+02:00", "timestamp": 1754057493.283098}}}
{"text": "2025-08-01 16:11:33.284 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:153 - ✅ Cache set optimisation pour optimisation:group:{\"cod_pro_list\": [23412], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:02:07.585868", "seconds": 127.585868}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 153, "message": "✅ Cache set optimisation pour optimisation:group:{\"cod_pro_list\": [23412], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:33.284942+02:00", "timestamp": 1754057493.284942}}}
{"text": "2025-08-01 16:11:33.285 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:157 - Optimisation calculée: 0 groupes analysés\n", "record": {"elapsed": {"repr": "0:02:07.586554", "seconds": 127.586554}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 157, "message": "Optimisation calculée: 0 groupes analysés", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:33.285628+02:00", "timestamp": 1754057493.285628}}}
{"text": "2025-08-01 16:11:33.289 | INFO     | app.main:request_tracking_middleware:116 - ✅ [a8a475c6] POST /api/v1/optimisation/optimisation - 200 - 882.1ms\n", "record": {"elapsed": {"repr": "0:02:07.590340", "seconds": 127.59034}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [a8a475c6] POST /api/v1/optimisation/optimisation - 200 - 882.1ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:33.289414+02:00", "timestamp": 1754057493.289414}}}
{"text": "2025-08-01 16:11:35.262 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [96a6662a] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:09.563450", "seconds": 129.56345}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [96a6662a] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:35.262524+02:00", "timestamp": 1754057495.262524}}}
{"text": "2025-08-01 16:11:35.473 | INFO     | app.main:request_tracking_middleware:116 - ✅ [96a6662a] GET /api/v1/suggestions/refint-codpro - 200 - 211.3ms\n", "record": {"elapsed": {"repr": "0:02:09.774720", "seconds": 129.77472}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [96a6662a] GET /api/v1/suggestions/refint-codpro - 200 - 211.3ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:35.473794+02:00", "timestamp": 1754057495.473794}}}
{"text": "2025-08-01 16:11:35.977 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5739a18c] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:10.278034", "seconds": 130.278034}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5739a18c] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:35.977108+02:00", "timestamp": 1754057495.977108}}}
{"text": "2025-08-01 16:11:35.980 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:02:10.280987", "seconds": 130.280987}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:35.980061+02:00", "timestamp": 1754057495.980061}}}
{"text": "2025-08-01 16:11:35.980 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:02:10.281399", "seconds": 130.281399}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:35.980473+02:00", "timestamp": 1754057495.980473}}}
{"text": "2025-08-01 16:11:35.982 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23412], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:02:10.283422", "seconds": 130.283422}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23412], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:35.982496+02:00", "timestamp": 1754057495.982496}}}
{"text": "2025-08-01 16:11:35.984 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5739a18c] POST /api/v1/optimisation/optimisation - 200 - 7.1ms\n", "record": {"elapsed": {"repr": "0:02:10.285145", "seconds": 130.285145}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5739a18c] POST /api/v1/optimisation/optimisation - 200 - 7.1ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:35.984219+02:00", "timestamp": 1754057495.984219}}}
{"text": "2025-08-01 16:11:36.356 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [4c488c3f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:10.657034", "seconds": 130.657034}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [4c488c3f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:36.356108+02:00", "timestamp": 1754057496.356108}}}
{"text": "2025-08-01 16:11:36.574 | INFO     | app.main:request_tracking_middleware:116 - ✅ [4c488c3f] GET /api/v1/suggestions/refint-codpro - 200 - 218.8ms\n", "record": {"elapsed": {"repr": "0:02:10.875764", "seconds": 130.875764}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [4c488c3f] GET /api/v1/suggestions/refint-codpro - 200 - 218.8ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:36.574838+02:00", "timestamp": 1754057496.574838}}}
{"text": "2025-08-01 16:11:37.172 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5873c718] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:11.473840", "seconds": 131.47384}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5873c718] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:37.172914+02:00", "timestamp": 1754057497.172914}}}
{"text": "2025-08-01 16:11:37.175 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:02:11.476312", "seconds": 131.476312}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:37.175386+02:00", "timestamp": 1754057497.175386}}}
{"text": "2025-08-01 16:11:37.176 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:02:11.477289", "seconds": 131.477289}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:37.176363+02:00", "timestamp": 1754057497.176363}}}
{"text": "2025-08-01 16:11:37.177 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23412], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:02:11.478901", "seconds": 131.478901}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23412], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:37.177975+02:00", "timestamp": 1754057497.177975}}}
{"text": "2025-08-01 16:11:37.179 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5873c718] POST /api/v1/optimisation/optimisation - 200 - 6.6ms\n", "record": {"elapsed": {"repr": "0:02:11.480452", "seconds": 131.480452}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5873c718] POST /api/v1/optimisation/optimisation - 200 - 6.6ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:37.179526+02:00", "timestamp": 1754057497.179526}}}
{"text": "2025-08-01 16:11:37.365 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [77a8202f] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:11.666135", "seconds": 131.666135}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [77a8202f] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:37.365209+02:00", "timestamp": 1754057497.365209}}}
{"text": "2025-08-01 16:11:37.368 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:02:11.669465", "seconds": 131.669465}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:37.368539+02:00", "timestamp": 1754057497.368539}}}
{"text": "2025-08-01 16:11:37.369 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:02:11.670161", "seconds": 131.670161}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:37.369235+02:00", "timestamp": 1754057497.369235}}}
{"text": "2025-08-01 16:11:37.371 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23412], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:02:11.672082", "seconds": 131.672082}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23412], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:37.371156+02:00", "timestamp": 1754057497.371156}}}
{"text": "2025-08-01 16:11:37.373 | INFO     | app.main:request_tracking_middleware:116 - ✅ [77a8202f] POST /api/v1/optimisation/optimisation - 200 - 8.7ms\n", "record": {"elapsed": {"repr": "0:02:11.674795", "seconds": 131.674795}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [77a8202f] POST /api/v1/optimisation/optimisation - 200 - 8.7ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:11:37.373869+02:00", "timestamp": 1754057497.373869}}}
{"text": "2025-08-01 16:12:07.300 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ee046e9f] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:41.601617", "seconds": 161.601617}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ee046e9f] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:07.300691+02:00", "timestamp": 1754057527.300691}}}
{"text": "2025-08-01 16:12:07.303 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:02:41.604757", "seconds": 161.604757}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:07.303831+02:00", "timestamp": 1754057527.303831}}}
{"text": "2025-08-01 16:12:07.318 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:02:41.619626", "seconds": 161.619626}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:07.318700+02:00", "timestamp": 1754057527.3187}}}
{"text": "2025-08-01 16:12:07.333 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:02:41.634031", "seconds": 161.634031}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:07.333105+02:00", "timestamp": 1754057527.333105}}}
{"text": "2025-08-01 16:12:07.334 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.03s\n", "record": {"elapsed": {"repr": "0:02:41.635353", "seconds": 161.635353}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.03s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:07.334427+02:00", "timestamp": 1754057527.334427}}}
{"text": "2025-08-01 16:12:07.336 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:02:41.637501", "seconds": 161.637501}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:07.336575+02:00", "timestamp": 1754057527.336575}}}
{"text": "2025-08-01 16:12:08.053 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:88 - SQL principale exécutée en 0.72s, 26 lignes\n", "record": {"elapsed": {"repr": "0:02:42.354908", "seconds": 162.354908}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 88, "message": "SQL principale exécutée en 0.72s, 26 lignes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:08.053982+02:00", "timestamp": 1754057528.053982}}}
{"text": "2025-08-01 16:12:08.054 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:102 - 2 groupes trouvés après agrégation\n", "record": {"elapsed": {"repr": "0:02:42.355590", "seconds": 162.35559}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 102, "message": "2 groupes trouvés après agrégation", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:08.054664+02:00", "timestamp": 1754057528.054664}}}
{"text": "2025-08-01 16:12:08.872 | DEBUG    | app.services.optimisation.optimisation_service:_get_sales_history_for_trend:194 - Historique tendance récupéré: 2 groupes\n", "record": {"elapsed": {"repr": "0:02:43.173597", "seconds": 163.173597}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_get_sales_history_for_trend", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 194, "message": "Historique tendance récupéré: 2 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:08.872671+02:00", "timestamp": 1754057528.872671}}}
{"text": "2025-08-01 16:12:08.873 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:105 - Historique récupéré pour 2 groupes\n", "record": {"elapsed": {"repr": "0:02:43.174475", "seconds": 163.174475}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "Historique récupéré pour 2 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:08.873549+02:00", "timestamp": 1754057528.873549}}}
{"text": "2025-08-01 16:12:08.874 | DEBUG    | app.services.optimisation.optimisation_service:_project_next_6_months:233 - Projection 20075-OEM avec 6 mois historiques\n", "record": {"elapsed": {"repr": "0:02:43.175368", "seconds": 163.175368}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_project_next_6_months", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 233, "message": "Projection 20075-OEM avec 6 mois historiques", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:08.874442+02:00", "timestamp": 1754057528.874442}}}
{"text": "2025-08-01 16:12:08.932 | DEBUG    | app.services.optimisation.optimisation_service:_project_next_6_months:233 - Projection 20075-PMQ avec 6 mois historiques\n", "record": {"elapsed": {"repr": "0:02:43.233171", "seconds": 163.233171}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_project_next_6_months", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 233, "message": "Projection 20075-PMQ avec 6 mois historiques", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:08.932245+02:00", "timestamp": 1754057528.932245}}}
{"text": "2025-08-01 16:12:08.936 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:153 - ✅ Cache set optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:02:43.237004", "seconds": 163.237004}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 153, "message": "✅ Cache set optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:08.936078+02:00", "timestamp": 1754057528.936078}}}
{"text": "2025-08-01 16:12:08.937 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:157 - Optimisation calculée: 2 groupes analysés\n", "record": {"elapsed": {"repr": "0:02:43.238310", "seconds": 163.23831}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 157, "message": "Optimisation calculée: 2 groupes analysés", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:08.937384+02:00", "timestamp": 1754057528.937384}}}
{"text": "2025-08-01 16:12:08.942 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ee046e9f] POST /api/v1/optimisation/optimisation - 200 - 1642.2ms\n", "record": {"elapsed": {"repr": "0:02:43.243858", "seconds": 163.243858}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ee046e9f] POST /api/v1/optimisation/optimisation - 200 - 1642.2ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:12:08.942932+02:00", "timestamp": 1754057528.942932}}}
{"text": "2025-08-01 16:13:05.005 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [828aebf8] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:39.306237", "seconds": 219.306237}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [828aebf8] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:13:05.005311+02:00", "timestamp": 1754057585.005311}}}
{"text": "2025-08-01 16:13:05.189 | INFO     | app.main:request_tracking_middleware:116 - ✅ [828aebf8] GET /api/v1/suggestions/refint-codpro - 200 - 184.5ms\n", "record": {"elapsed": {"repr": "0:03:39.490678", "seconds": 219.490678}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [828aebf8] GET /api/v1/suggestions/refint-codpro - 200 - 184.5ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:13:05.189752+02:00", "timestamp": 1754057585.189752}}}
{"text": "2025-08-01 16:13:05.728 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [8cc927c9] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:40.029197", "seconds": 220.029197}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [8cc927c9] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:13:05.728271+02:00", "timestamp": 1754057585.728271}}}
{"text": "2025-08-01 16:13:05.731 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:03:40.032680", "seconds": 220.03268}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:13:05.731754+02:00", "timestamp": 1754057585.731754}}}
{"text": "2025-08-01 16:13:05.732 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:03:40.033333", "seconds": 220.033333}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:13:05.732407+02:00", "timestamp": 1754057585.732407}}}
{"text": "2025-08-01 16:13:05.734 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23412], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:03:40.035152", "seconds": 220.035152}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro_list\": [23412], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:13:05.734226+02:00", "timestamp": 1754057585.734226}}}
{"text": "2025-08-01 16:13:05.736 | INFO     | app.main:request_tracking_middleware:116 - ✅ [8cc927c9] POST /api/v1/optimisation/optimisation - 200 - 8.0ms\n", "record": {"elapsed": {"repr": "0:03:40.037171", "seconds": 220.037171}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [8cc927c9] POST /api/v1/optimisation/optimisation - 200 - 8.0ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:13:05.736245+02:00", "timestamp": 1754057585.736245}}}
{"text": "2025-08-01 16:14:40.058 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [61679d5d] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:05:14.359867", "seconds": 314.359867}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [61679d5d] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:14:40.058941+02:00", "timestamp": 1754057680.058941}}}
{"text": "2025-08-01 16:14:40.064 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:05:14.365574", "seconds": 314.365574}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:14:40.064648+02:00", "timestamp": 1754057680.064648}}}
{"text": "2025-08-01 16:14:40.084 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:05:14.385666", "seconds": 314.385666}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:14:40.084740+02:00", "timestamp": 1754057680.08474}}}
{"text": "2025-08-01 16:14:40.100 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:05:14.401853", "seconds": 314.401853}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:14:40.100927+02:00", "timestamp": 1754057680.100927}}}
{"text": "2025-08-01 16:14:40.102 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.04s\n", "record": {"elapsed": {"repr": "0:05:14.403406", "seconds": 314.403406}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.04s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:14:40.102480+02:00", "timestamp": 1754057680.10248}}}
{"text": "2025-08-01 16:14:40.103 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:05:14.404490", "seconds": 314.40449}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:14:40.103564+02:00", "timestamp": 1754057680.103564}}}
{"text": "2025-08-01 16:14:40.106 | INFO     | app.main:request_tracking_middleware:116 - ✅ [61679d5d] POST /api/v1/optimisation/optimisation - 200 - 47.9ms\n", "record": {"elapsed": {"repr": "0:05:14.407811", "seconds": 314.407811}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [61679d5d] POST /api/v1/optimisation/optimisation - 200 - 47.9ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:14:40.106885+02:00", "timestamp": 1754057680.106885}}}
{"text": "2025-08-01 16:15:33.319 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [e753b777] OPTIONS /api/v1/optimisation/simulate - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:06:07.620312", "seconds": 367.620312}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [e753b777] OPTIONS /api/v1/optimisation/simulate - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:15:33.319386+02:00", "timestamp": 1754057733.319386}}}
{"text": "2025-08-01 16:15:33.320 | INFO     | app.main:request_tracking_middleware:116 - ✅ [e753b777] OPTIONS /api/v1/optimisation/simulate - 200 - 1.3ms\n", "record": {"elapsed": {"repr": "0:06:07.621599", "seconds": 367.621599}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [e753b777] OPTIONS /api/v1/optimisation/simulate - 200 - 1.3ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:15:33.320673+02:00", "timestamp": 1754057733.320673}}}
{"text": "2025-08-01 16:15:33.327 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [75727743] POST /api/v1/optimisation/simulate - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:06:07.628263", "seconds": 367.628263}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [75727743] POST /api/v1/optimisation/simulate - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:15:33.327337+02:00", "timestamp": 1754057733.327337}}}
{"text": "2025-08-01 16:15:33.330 | WARNING  | app.main:http_exception_handler:201 - 🟠 [75727743] HTTP 404: Not Found\n", "record": {"elapsed": {"repr": "0:06:07.631216", "seconds": 367.631216}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "http_exception_handler", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 201, "message": "🟠 [75727743] HTTP 404: Not Found", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:15:33.330290+02:00", "timestamp": 1754057733.33029}}}
{"text": "2025-08-01 16:15:33.332 | INFO     | app.main:request_tracking_middleware:116 - ❌ [75727743] POST /api/v1/optimisation/simulate - 404 - 5.5ms\n", "record": {"elapsed": {"repr": "0:06:07.633717", "seconds": 367.633717}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "❌ [75727743] POST /api/v1/optimisation/simulate - 404 - 5.5ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:15:33.332791+02:00", "timestamp": 1754057733.332791}}}
{"text": "2025-08-01 16:15:34.354 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [77acd064] POST /api/v1/optimisation/simulate - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:06:08.655371", "seconds": 368.655371}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [77acd064] POST /api/v1/optimisation/simulate - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:15:34.354445+02:00", "timestamp": 1754057734.354445}}}
{"text": "2025-08-01 16:15:34.357 | WARNING  | app.main:http_exception_handler:201 - 🟠 [77acd064] HTTP 404: Not Found\n", "record": {"elapsed": {"repr": "0:06:08.658476", "seconds": 368.658476}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "http_exception_handler", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 201, "message": "🟠 [77acd064] HTTP 404: Not Found", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:15:34.357550+02:00", "timestamp": 1754057734.35755}}}
{"text": "2025-08-01 16:15:34.358 | INFO     | app.main:request_tracking_middleware:116 - ❌ [77acd064] POST /api/v1/optimisation/simulate - 404 - 4.6ms\n", "record": {"elapsed": {"repr": "0:06:08.659905", "seconds": 368.659905}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "❌ [77acd064] POST /api/v1/optimisation/simulate - 404 - 4.6ms", "module": "main", "name": "app.main", "process": {"id": 17856, "name": "SpawnProcess-1"}, "thread": {"id": 10336, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:15:34.358979+02:00", "timestamp": 1754057734.358979}}}
{"text": "2025-08-01 16:26:06.239 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:01.702394", "seconds": 1.702394}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:06.239076+02:00", "timestamp": 1754058366.239076}}}
{"text": "2025-08-01 16:26:06.253 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:01.717009", "seconds": 1.717009}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:06.253691+02:00", "timestamp": 1754058366.253691}}}
{"text": "2025-08-01 16:26:06.254 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:01.717755", "seconds": 1.717755}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:06.254437+02:00", "timestamp": 1754058366.254437}}}
{"text": "2025-08-01 16:26:06.497 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:01.961169", "seconds": 1.961169}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:06.497851+02:00", "timestamp": 1754058366.497851}}}
{"text": "2025-08-01 16:26:06.498 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:01.961779", "seconds": 1.961779}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:06.498461+02:00", "timestamp": 1754058366.498461}}}
{"text": "2025-08-01 16:26:14.125 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [a449ec6d] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.588644", "seconds": 9.588644}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [a449ec6d] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:14.125326+02:00", "timestamp": 1754058374.125326}}}
{"text": "2025-08-01 16:26:14.126 | INFO     | app.main:request_tracking_middleware:116 - ✅ [a449ec6d] OPTIONS /api/v1/dashboard/fiche - 200 - 1.3ms\n", "record": {"elapsed": {"repr": "0:00:09.589983", "seconds": 9.589983}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [a449ec6d] OPTIONS /api/v1/dashboard/fiche - 200 - 1.3ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:14.126665+02:00", "timestamp": 1754058374.126665}}}
{"text": "2025-08-01 16:26:14.133 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [16e523a1] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.596634", "seconds": 9.596634}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [16e523a1] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:14.133316+02:00", "timestamp": 1754058374.133316}}}
{"text": "2025-08-01 16:26:14.142 | INFO     | app.main:request_tracking_middleware:116 - ✅ [16e523a1] POST /api/v1/dashboard/fiche - 200 - 8.8ms\n", "record": {"elapsed": {"repr": "0:00:09.605462", "seconds": 9.605462}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [16e523a1] POST /api/v1/dashboard/fiche - 200 - 8.8ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:14.142144+02:00", "timestamp": 1754058374.142144}}}
{"text": "2025-08-01 16:26:15.679 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [9da9e140] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:11.142541", "seconds": 11.142541}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [9da9e140] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:15.679223+02:00", "timestamp": 1754058375.679223}}}
{"text": "2025-08-01 16:26:15.680 | INFO     | app.main:request_tracking_middleware:116 - ✅ [9da9e140] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.3ms\n", "record": {"elapsed": {"repr": "0:00:11.143844", "seconds": 11.143844}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [9da9e140] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.3ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:15.680526+02:00", "timestamp": 1754058375.680526}}}
{"text": "2025-08-01 16:26:15.686 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [2ec4428d] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:11.149817", "seconds": 11.149817}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [2ec4428d] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:15.686499+02:00", "timestamp": 1754058375.686499}}}
{"text": "2025-08-01 16:26:15.697 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:11.160442", "seconds": 11.160442}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:15.697124+02:00", "timestamp": 1754058375.697124}}}
{"text": "2025-08-01 16:26:15.698 | WARNING  | app.services.optimisation.optimisation_service:evaluate_group_optimization:25 - Payload vide\n", "record": {"elapsed": {"repr": "0:00:11.161458", "seconds": 11.161458}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 25, "message": "Payload vide", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:15.698140+02:00", "timestamp": 1754058375.69814}}}
{"text": "2025-08-01 16:26:15.700 | INFO     | app.main:request_tracking_middleware:116 - ✅ [2ec4428d] POST /api/v1/optimisation/optimisation - 200 - 14.1ms\n", "record": {"elapsed": {"repr": "0:00:11.163916", "seconds": 11.163916}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [2ec4428d] POST /api/v1/optimisation/optimisation - 200 - 14.1ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:15.700598+02:00", "timestamp": 1754058375.700598}}}
{"text": "2025-08-01 16:26:17.739 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [9d219a5b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:13.202836", "seconds": 13.202836}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [9d219a5b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:17.739518+02:00", "timestamp": 1754058377.739518}}}
{"text": "2025-08-01 16:26:18.004 | INFO     | app.main:request_tracking_middleware:116 - ✅ [9d219a5b] GET /api/v1/suggestions/refint-codpro - 200 - 265.0ms\n", "record": {"elapsed": {"repr": "0:00:13.467823", "seconds": 13.467823}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [9d219a5b] GET /api/v1/suggestions/refint-codpro - 200 - 265.0ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:18.004505+02:00", "timestamp": 1754058378.004505}}}
{"text": "2025-08-01 16:26:18.907 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [60c5f915] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.370524", "seconds": 14.370524}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [60c5f915] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:18.907206+02:00", "timestamp": 1754058378.907206}}}
{"text": "2025-08-01 16:26:18.913 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [bb6a34cb] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.376472", "seconds": 14.376472}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [bb6a34cb] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:18.913154+02:00", "timestamp": 1754058378.913154}}}
{"text": "2025-08-01 16:26:19.019 | INFO     | app.main:request_tracking_middleware:116 - ✅ [60c5f915] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 112.4ms\n", "record": {"elapsed": {"repr": "0:00:14.482958", "seconds": 14.482958}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [60c5f915] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 112.4ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:19.019640+02:00", "timestamp": 1754058379.01964}}}
{"text": "2025-08-01 16:26:19.034 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [0001bc23] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.497666", "seconds": 14.497666}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [0001bc23] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:19.034348+02:00", "timestamp": 1754058379.034348}}}
{"text": "2025-08-01 16:26:19.145 | INFO     | app.main:request_tracking_middleware:116 - ✅ [bb6a34cb] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 232.8ms\n", "record": {"elapsed": {"repr": "0:00:14.609294", "seconds": 14.609294}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [bb6a34cb] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 232.8ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:19.145976+02:00", "timestamp": 1754058379.145976}}}
{"text": "2025-08-01 16:26:19.384 | INFO     | app.main:request_tracking_middleware:116 - ✅ [0001bc23] GET /api/v1/suggestions/refint-codpro - 200 - 350.2ms\n", "record": {"elapsed": {"repr": "0:00:14.847821", "seconds": 14.847821}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [0001bc23] GET /api/v1/suggestions/refint-codpro - 200 - 350.2ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:19.384503+02:00", "timestamp": 1754058379.384503}}}
{"text": "2025-08-01 16:26:20.861 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [22d80534] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:16.324957", "seconds": 16.324957}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [22d80534] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:20.861639+02:00", "timestamp": 1754058380.861639}}}
{"text": "2025-08-01 16:26:20.864 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:16.328016", "seconds": 16.328016}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:20.864698+02:00", "timestamp": 1754058380.864698}}}
{"text": "2025-08-01 16:26:20.886 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:00:16.349816", "seconds": 16.349816}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:20.886498+02:00", "timestamp": 1754058380.886498}}}
{"text": "2025-08-01 16:26:20.930 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:00:16.393975", "seconds": 16.393975}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:20.930657+02:00", "timestamp": 1754058380.930657}}}
{"text": "2025-08-01 16:26:20.938 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.07s\n", "record": {"elapsed": {"repr": "0:00:16.401388", "seconds": 16.401388}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.07s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:20.938070+02:00", "timestamp": 1754058380.93807}}}
{"text": "2025-08-01 16:26:20.940 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:00:16.403620", "seconds": 16.40362}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:20.940302+02:00", "timestamp": 1754058380.940302}}}
{"text": "2025-08-01 16:26:20.970 | INFO     | app.main:request_tracking_middleware:116 - ✅ [22d80534] POST /api/v1/optimisation/optimisation - 200 - 108.5ms\n", "record": {"elapsed": {"repr": "0:00:16.433431", "seconds": 16.433431}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [22d80534] POST /api/v1/optimisation/optimisation - 200 - 108.5ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:20.970113+02:00", "timestamp": 1754058380.970113}}}
{"text": "2025-08-01 16:26:21.417 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [10c515f9] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:16.880887", "seconds": 16.880887}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [10c515f9] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:21.417569+02:00", "timestamp": 1754058381.417569}}}
{"text": "2025-08-01 16:26:21.764 | INFO     | app.main:request_tracking_middleware:116 - ✅ [10c515f9] GET /api/v1/suggestions/refint-codpro - 200 - 346.7ms\n", "record": {"elapsed": {"repr": "0:00:17.227624", "seconds": 17.227624}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [10c515f9] GET /api/v1/suggestions/refint-codpro - 200 - 346.7ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:21.764306+02:00", "timestamp": 1754058381.764306}}}
{"text": "2025-08-01 16:26:32.393 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [03aeb2d9] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:27.856362", "seconds": 27.856362}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [03aeb2d9] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:32.393044+02:00", "timestamp": 1754058392.393044}}}
{"text": "2025-08-01 16:26:32.395 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [b082c8c1] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:27.859190", "seconds": 27.85919}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [b082c8c1] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:32.395872+02:00", "timestamp": 1754058392.395872}}}
{"text": "2025-08-01 16:26:32.396 | INFO     | app.main:request_tracking_middleware:116 - ✅ [03aeb2d9] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 3.5ms\n", "record": {"elapsed": {"repr": "0:00:27.859810", "seconds": 27.85981}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [03aeb2d9] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 3.5ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:32.396492+02:00", "timestamp": 1754058392.396492}}}
{"text": "2025-08-01 16:26:32.400 | INFO     | app.main:request_tracking_middleware:116 - ✅ [b082c8c1] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 5.0ms\n", "record": {"elapsed": {"repr": "0:00:27.864174", "seconds": 27.864174}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [b082c8c1] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 5.0ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:32.400856+02:00", "timestamp": 1754058392.400856}}}
{"text": "2025-08-01 16:26:44.760 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [d8e1d2e8] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:40.223971", "seconds": 40.223971}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [d8e1d2e8] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:44.760653+02:00", "timestamp": 1754058404.760653}}}
{"text": "2025-08-01 16:26:44.763 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:40.227239", "seconds": 40.227239}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:44.763921+02:00", "timestamp": 1754058404.763921}}}
{"text": "2025-08-01 16:26:44.895 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=OEM\n", "record": {"elapsed": {"repr": "0:00:40.359011", "seconds": 40.359011}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=OEM", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:44.895693+02:00", "timestamp": 1754058404.895693}}}
{"text": "2025-08-01 16:26:44.914 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 12 cod_pro\n", "record": {"elapsed": {"repr": "0:00:40.378187", "seconds": 40.378187}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 12 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:44.914869+02:00", "timestamp": 1754058404.914869}}}
{"text": "2025-08-01 16:26:44.915 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 12 éléments en 0.15s\n", "record": {"elapsed": {"repr": "0:00:40.379165", "seconds": 40.379165}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 12 éléments en 0.15s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:44.915847+02:00", "timestamp": 1754058404.915847}}}
{"text": "2025-08-01 16:26:44.917 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:00:40.380608", "seconds": 40.380608}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:44.917290+02:00", "timestamp": 1754058404.91729}}}
{"text": "2025-08-01 16:26:44.942 | ERROR    | app.services.optimisation.optimisation_service:evaluate_group_optimization:161 - Erreur SQL evaluate_group_optimization pour cod_pro_list=[14855, 15161, 23412, 28068, 275245, 308163, 314067, 314426, 374789, 398573, 427908, 459763]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (14855, 15161, 23412, 28068, 275245, 308163, 314067, 314426, 374789, 398573, 427908, 459763)]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n", "record": {"elapsed": {"repr": "0:00:40.406170", "seconds": 40.40617}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 161, "message": "Erreur SQL evaluate_group_optimization pour cod_pro_list=[14855, 15161, 23412, 28068, 275245, 308163, 314067, 314426, 374789, 398573, 427908, 459763]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (14855, 15161, 23412, 28068, 275245, 308163, 314067, 314426, 374789, 398573, 427908, 459763)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:44.942852+02:00", "timestamp": 1754058404.942852}}}
{"text": "2025-08-01 16:26:44.945 | INFO     | app.main:request_tracking_middleware:116 - ✅ [d8e1d2e8] POST /api/v1/optimisation/optimisation - 200 - 184.7ms\n", "record": {"elapsed": {"repr": "0:00:40.408643", "seconds": 40.408643}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [d8e1d2e8] POST /api/v1/optimisation/optimisation - 200 - 184.7ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:44.945325+02:00", "timestamp": 1754058404.945325}}}
{"text": "2025-08-01 16:26:48.701 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [422f6c56] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:44.165089", "seconds": 44.165089}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [422f6c56] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:48.701771+02:00", "timestamp": 1754058408.701771}}}
{"text": "2025-08-01 16:26:48.706 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:44.170173", "seconds": 44.170173}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:48.706855+02:00", "timestamp": 1754058408.706855}}}
{"text": "2025-08-01 16:26:48.708 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:0241c3d7577bde4778f45d0651a31433\n", "record": {"elapsed": {"repr": "0:00:44.171727", "seconds": 44.171727}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:0241c3d7577bde4778f45d0651a31433", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:48.708409+02:00", "timestamp": 1754058408.708409}}}
{"text": "2025-08-01 16:26:48.709 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 12 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:00:44.172344", "seconds": 44.172344}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 12 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:48.709026+02:00", "timestamp": 1754058408.709026}}}
{"text": "2025-08-01 16:26:48.710 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:00:44.173469", "seconds": 44.173469}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:48.710151+02:00", "timestamp": 1754058408.710151}}}
{"text": "2025-08-01 16:26:48.719 | ERROR    | app.services.optimisation.optimisation_service:evaluate_group_optimization:161 - Erreur SQL evaluate_group_optimization pour cod_pro_list=[14855, 15161, 23412, 28068, 275245, 308163, 314067, 314426, 374789, 398573, 427908, 459763]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (14855, 15161, 23412, 28068, 275245, 308163, 314067, 314426, 374789, 398573, 427908, 459763)]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n", "record": {"elapsed": {"repr": "0:00:44.182642", "seconds": 44.182642}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 161, "message": "Erreur SQL evaluate_group_optimization pour cod_pro_list=[14855, 15161, 23412, 28068, 275245, 308163, 314067, 314426, 374789, 398573, 427908, 459763]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (14855, 15161, 23412, 28068, 275245, 308163, 314067, 314426, 374789, 398573, 427908, 459763)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:48.719324+02:00", "timestamp": 1754058408.719324}}}
{"text": "2025-08-01 16:26:48.721 | INFO     | app.main:request_tracking_middleware:116 - ✅ [422f6c56] POST /api/v1/optimisation/optimisation - 200 - 19.4ms\n", "record": {"elapsed": {"repr": "0:00:44.184518", "seconds": 44.184518}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [422f6c56] POST /api/v1/optimisation/optimisation - 200 - 19.4ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:48.721200+02:00", "timestamp": 1754058408.7212}}}
{"text": "2025-08-01 16:26:51.113 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [e0312cf6] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:46.576818", "seconds": 46.576818}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [e0312cf6] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:51.113500+02:00", "timestamp": 1754058411.1135}}}
{"text": "2025-08-01 16:26:51.277 | INFO     | app.main:request_tracking_middleware:116 - ✅ [e0312cf6] GET /api/v1/suggestions/refint-codpro - 200 - 164.2ms\n", "record": {"elapsed": {"repr": "0:00:46.741024", "seconds": 46.741024}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [e0312cf6] GET /api/v1/suggestions/refint-codpro - 200 - 164.2ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:51.277706+02:00", "timestamp": 1754058411.277706}}}
{"text": "2025-08-01 16:26:54.561 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [7081999f] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.024390", "seconds": 50.02439}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [7081999f] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:54.561072+02:00", "timestamp": 1754058414.561072}}}
{"text": "2025-08-01 16:26:54.565 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:50.029243", "seconds": 50.029243}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:54.565925+02:00", "timestamp": 1754058414.565925}}}
{"text": "2025-08-01 16:26:54.587 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=PMQ\n", "record": {"elapsed": {"repr": "0:00:50.050877", "seconds": 50.050877}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=PMQ", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:54.587559+02:00", "timestamp": 1754058414.587559}}}
{"text": "2025-08-01 16:26:54.610 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 14 cod_pro\n", "record": {"elapsed": {"repr": "0:00:50.073696", "seconds": 50.073696}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 14 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:54.610378+02:00", "timestamp": 1754058414.610378}}}
{"text": "2025-08-01 16:26:54.611 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 14 éléments en 0.04s\n", "record": {"elapsed": {"repr": "0:00:50.074766", "seconds": 50.074766}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 14 éléments en 0.04s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:54.611448+02:00", "timestamp": 1754058414.611448}}}
{"text": "2025-08-01 16:26:54.612 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:00:50.076059", "seconds": 50.076059}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:54.612741+02:00", "timestamp": 1754058414.612741}}}
{"text": "2025-08-01 16:26:54.620 | ERROR    | app.services.optimisation.optimisation_service:evaluate_group_optimization:161 - Erreur SQL evaluate_group_optimization pour cod_pro_list=[19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260)]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n", "record": {"elapsed": {"repr": "0:00:50.083814", "seconds": 50.083814}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 161, "message": "Erreur SQL evaluate_group_optimization pour cod_pro_list=[19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:54.620496+02:00", "timestamp": 1754058414.620496}}}
{"text": "2025-08-01 16:26:54.635 | INFO     | app.main:request_tracking_middleware:116 - ✅ [7081999f] POST /api/v1/optimisation/optimisation - 200 - 74.3ms\n", "record": {"elapsed": {"repr": "0:00:50.098641", "seconds": 50.098641}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [7081999f] POST /api/v1/optimisation/optimisation - 200 - 74.3ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:54.635323+02:00", "timestamp": 1754058414.635323}}}
{"text": "2025-08-01 16:26:54.962 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5c847347] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.425348", "seconds": 50.425348}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5c847347] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:54.962030+02:00", "timestamp": 1754058414.96203}}}
{"text": "2025-08-01 16:26:55.137 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5c847347] GET /api/v1/suggestions/refint-codpro - 200 - 175.3ms\n", "record": {"elapsed": {"repr": "0:00:50.600648", "seconds": 50.600648}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5c847347] GET /api/v1/suggestions/refint-codpro - 200 - 175.3ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:26:55.137330+02:00", "timestamp": 1754058415.13733}}}
{"text": "2025-08-01 16:27:00.457 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [9861a8cb] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:55.920477", "seconds": 55.920477}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [9861a8cb] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:00.457159+02:00", "timestamp": 1754058420.457159}}}
{"text": "2025-08-01 16:27:00.671 | INFO     | app.main:request_tracking_middleware:116 - ✅ [9861a8cb] GET /api/v1/suggestions/refint-codpro - 200 - 214.0ms\n", "record": {"elapsed": {"repr": "0:00:56.134502", "seconds": 56.134502}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [9861a8cb] GET /api/v1/suggestions/refint-codpro - 200 - 214.0ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:00.671184+02:00", "timestamp": 1754058420.671184}}}
{"text": "2025-08-01 16:27:01.284 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [6f355b92] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:56.747765", "seconds": 56.747765}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [6f355b92] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:01.284447+02:00", "timestamp": 1754058421.284447}}}
{"text": "2025-08-01 16:27:01.289 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:56.752416", "seconds": 56.752416}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:01.289098+02:00", "timestamp": 1754058421.289098}}}
{"text": "2025-08-01 16:27:01.291 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:9ed1d33394be586665912c78f53ccb81\n", "record": {"elapsed": {"repr": "0:00:56.754565", "seconds": 56.754565}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:9ed1d33394be586665912c78f53ccb81", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:01.291247+02:00", "timestamp": 1754058421.291247}}}
{"text": "2025-08-01 16:27:01.291 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 14 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:00:56.755268", "seconds": 56.755268}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 14 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:01.291950+02:00", "timestamp": 1754058421.29195}}}
{"text": "2025-08-01 16:27:01.293 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:00:56.756735", "seconds": 56.756735}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:01.293417+02:00", "timestamp": 1754058421.293417}}}
{"text": "2025-08-01 16:27:01.304 | ERROR    | app.services.optimisation.optimisation_service:evaluate_group_optimization:161 - Erreur SQL evaluate_group_optimization pour cod_pro_list=[19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260)]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n", "record": {"elapsed": {"repr": "0:00:56.767328", "seconds": 56.767328}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 161, "message": "Erreur SQL evaluate_group_optimization pour cod_pro_list=[19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:01.304010+02:00", "timestamp": 1754058421.30401}}}
{"text": "2025-08-01 16:27:01.307 | INFO     | app.main:request_tracking_middleware:116 - ✅ [6f355b92] POST /api/v1/optimisation/optimisation - 200 - 22.8ms\n", "record": {"elapsed": {"repr": "0:00:56.770544", "seconds": 56.770544}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [6f355b92] POST /api/v1/optimisation/optimisation - 200 - 22.8ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:01.307226+02:00", "timestamp": 1754058421.307226}}}
{"text": "2025-08-01 16:27:01.688 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c4321c13] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:57.152285", "seconds": 57.152285}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c4321c13] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:01.688967+02:00", "timestamp": 1754058421.688967}}}
{"text": "2025-08-01 16:27:01.856 | INFO     | app.main:request_tracking_middleware:116 - ✅ [c4321c13] GET /api/v1/suggestions/refint-codpro - 200 - 167.7ms\n", "record": {"elapsed": {"repr": "0:00:57.319970", "seconds": 57.31997}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [c4321c13] GET /api/v1/suggestions/refint-codpro - 200 - 167.7ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:01.856652+02:00", "timestamp": 1754058421.856652}}}
{"text": "2025-08-01 16:27:03.115 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [8e2b6843] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:58.579261", "seconds": 58.579261}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [8e2b6843] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:03.115943+02:00", "timestamp": 1754058423.115943}}}
{"text": "2025-08-01 16:27:03.118 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:58.582286", "seconds": 58.582286}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:03.118968+02:00", "timestamp": 1754058423.118968}}}
{"text": "2025-08-01 16:27:03.120 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:9ed1d33394be586665912c78f53ccb81\n", "record": {"elapsed": {"repr": "0:00:58.583902", "seconds": 58.583902}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:9ed1d33394be586665912c78f53ccb81", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:03.120584+02:00", "timestamp": 1754058423.120584}}}
{"text": "2025-08-01 16:27:03.121 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 14 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:00:58.584535", "seconds": 58.584535}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 14 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:03.121217+02:00", "timestamp": 1754058423.121217}}}
{"text": "2025-08-01 16:27:03.122 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:00:58.586274", "seconds": 58.586274}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:03.122956+02:00", "timestamp": 1754058423.122956}}}
{"text": "2025-08-01 16:27:03.127 | ERROR    | app.services.optimisation.optimisation_service:evaluate_group_optimization:161 - Erreur SQL evaluate_group_optimization pour cod_pro_list=[19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260)]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n", "record": {"elapsed": {"repr": "0:00:58.590839", "seconds": 58.590839}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 161, "message": "Erreur SQL evaluate_group_optimization pour cod_pro_list=[19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:03.127521+02:00", "timestamp": 1754058423.127521}}}
{"text": "2025-08-01 16:27:03.129 | INFO     | app.main:request_tracking_middleware:116 - ✅ [8e2b6843] POST /api/v1/optimisation/optimisation - 200 - 13.5ms\n", "record": {"elapsed": {"repr": "0:00:58.592791", "seconds": 58.592791}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [8e2b6843] POST /api/v1/optimisation/optimisation - 200 - 13.5ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:03.129473+02:00", "timestamp": 1754058423.129473}}}
{"text": "2025-08-01 16:27:09.615 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [1aeac7b8] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:05.078491", "seconds": 65.078491}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [1aeac7b8] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:09.615173+02:00", "timestamp": 1754058429.615173}}}
{"text": "2025-08-01 16:27:09.780 | INFO     | app.main:request_tracking_middleware:116 - ✅ [1aeac7b8] GET /api/v1/suggestions/refint-codpro - 200 - 165.1ms\n", "record": {"elapsed": {"repr": "0:01:05.243619", "seconds": 65.243619}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [1aeac7b8] GET /api/v1/suggestions/refint-codpro - 200 - 165.1ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:09.780301+02:00", "timestamp": 1754058429.780301}}}
{"text": "2025-08-01 16:27:10.767 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [d4a1f9c9] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:06.230656", "seconds": 66.230656}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [d4a1f9c9] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:10.767338+02:00", "timestamp": 1754058430.767338}}}
{"text": "2025-08-01 16:27:10.962 | INFO     | app.main:request_tracking_middleware:116 - ✅ [d4a1f9c9] GET /api/v1/suggestions/refint-codpro - 200 - 195.0ms\n", "record": {"elapsed": {"repr": "0:01:06.425597", "seconds": 66.425597}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [d4a1f9c9] GET /api/v1/suggestions/refint-codpro - 200 - 195.0ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:10.962279+02:00", "timestamp": 1754058430.962279}}}
{"text": "2025-08-01 16:27:11.408 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [57f03da6] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:06.871996", "seconds": 66.871996}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [57f03da6] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:11.408678+02:00", "timestamp": 1754058431.408678}}}
{"text": "2025-08-01 16:27:11.411 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:06.875302", "seconds": 66.875302}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:11.411984+02:00", "timestamp": 1754058431.411984}}}
{"text": "2025-08-01 16:27:11.413 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:9ed1d33394be586665912c78f53ccb81\n", "record": {"elapsed": {"repr": "0:01:06.876528", "seconds": 66.876528}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:9ed1d33394be586665912c78f53ccb81", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:11.413210+02:00", "timestamp": 1754058431.41321}}}
{"text": "2025-08-01 16:27:11.414 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 14 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:01:06.877487", "seconds": 66.877487}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 14 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:11.414169+02:00", "timestamp": 1754058431.414169}}}
{"text": "2025-08-01 16:27:11.415 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:01:06.878685", "seconds": 66.878685}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:11.415367+02:00", "timestamp": 1754058431.415367}}}
{"text": "2025-08-01 16:27:11.426 | ERROR    | app.services.optimisation.optimisation_service:evaluate_group_optimization:161 - Erreur SQL evaluate_group_optimization pour cod_pro_list=[19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260)]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n", "record": {"elapsed": {"repr": "0:01:06.890006", "seconds": 66.890006}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 161, "message": "Erreur SQL evaluate_group_optimization pour cod_pro_list=[19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (19659, 393823, 393831, 426532, 426534, 455149, 459998, 463355, 463357, 467596, 467598, 467604, 468256, 468260)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:11.426688+02:00", "timestamp": 1754058431.426688}}}
{"text": "2025-08-01 16:27:11.438 | INFO     | app.main:request_tracking_middleware:116 - ✅ [57f03da6] POST /api/v1/optimisation/optimisation - 200 - 30.1ms\n", "record": {"elapsed": {"repr": "0:01:06.902106", "seconds": 66.902106}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [57f03da6] POST /api/v1/optimisation/optimisation - 200 - 30.1ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:11.438788+02:00", "timestamp": 1754058431.438788}}}
{"text": "2025-08-01 16:27:17.293 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [86c21eda] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:12.756403", "seconds": 72.756403}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [86c21eda] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:17.293085+02:00", "timestamp": 1754058437.293085}}}
{"text": "2025-08-01 16:27:17.335 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [86f52865] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:12.798704", "seconds": 72.798704}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [86f52865] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:17.335386+02:00", "timestamp": 1754058437.335386}}}
{"text": "2025-08-01 16:27:17.338 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:12.802019", "seconds": 72.802019}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:17.338701+02:00", "timestamp": 1754058437.338701}}}
{"text": "2025-08-01 16:27:17.342 | WARNING  | app.services.optimisation.optimisation_service:evaluate_group_optimization:25 - Payload vide\n", "record": {"elapsed": {"repr": "0:01:12.805419", "seconds": 72.805419}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 25, "message": "Payload vide", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:17.342101+02:00", "timestamp": 1754058437.342101}}}
{"text": "2025-08-01 16:27:17.343 | INFO     | app.main:request_tracking_middleware:116 - ✅ [86f52865] POST /api/v1/optimisation/optimisation - 200 - 8.3ms\n", "record": {"elapsed": {"repr": "0:01:12.807039", "seconds": 72.807039}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [86f52865] POST /api/v1/optimisation/optimisation - 200 - 8.3ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:17.343721+02:00", "timestamp": 1754058437.343721}}}
{"text": "2025-08-01 16:27:17.586 | INFO     | app.main:request_tracking_middleware:116 - ✅ [86c21eda] GET /api/v1/suggestions/refint-codpro - 200 - 293.0ms\n", "record": {"elapsed": {"repr": "0:01:13.049382", "seconds": 73.049382}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [86c21eda] GET /api/v1/suggestions/refint-codpro - 200 - 293.0ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:17.586064+02:00", "timestamp": 1754058437.586064}}}
{"text": "2025-08-01 16:27:21.804 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [f8649695] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:17.267448", "seconds": 77.267448}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [f8649695] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:21.804130+02:00", "timestamp": 1754058441.80413}}}
{"text": "2025-08-01 16:27:21.807 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:17.270921", "seconds": 77.270921}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:21.807603+02:00", "timestamp": 1754058441.807603}}}
{"text": "2025-08-01 16:27:21.808 | WARNING  | app.services.optimisation.optimisation_service:evaluate_group_optimization:25 - Payload vide\n", "record": {"elapsed": {"repr": "0:01:17.271375", "seconds": 77.271375}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 25, "message": "Payload vide", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:21.808057+02:00", "timestamp": 1754058441.808057}}}
{"text": "2025-08-01 16:27:21.809 | INFO     | app.main:request_tracking_middleware:116 - ✅ [f8649695] POST /api/v1/optimisation/optimisation - 200 - 5.4ms\n", "record": {"elapsed": {"repr": "0:01:17.272795", "seconds": 77.272795}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [f8649695] POST /api/v1/optimisation/optimisation - 200 - 5.4ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:21.809477+02:00", "timestamp": 1754058441.809477}}}
{"text": "2025-08-01 16:27:25.116 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [06caa993] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:20.579766", "seconds": 80.579766}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [06caa993] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:25.116448+02:00", "timestamp": 1754058445.116448}}}
{"text": "2025-08-01 16:27:25.262 | INFO     | app.main:request_tracking_middleware:116 - ✅ [06caa993] GET /api/v1/suggestions/refint-codpro - 200 - 146.1ms\n", "record": {"elapsed": {"repr": "0:01:20.725850", "seconds": 80.72585}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [06caa993] GET /api/v1/suggestions/refint-codpro - 200 - 146.1ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:25.262532+02:00", "timestamp": 1754058445.262532}}}
{"text": "2025-08-01 16:27:26.255 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [27f37d06] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:21.719067", "seconds": 81.719067}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [27f37d06] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:26.255749+02:00", "timestamp": 1754058446.255749}}}
{"text": "2025-08-01 16:27:26.260 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [54c76fe8] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:21.723373", "seconds": 81.723373}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [54c76fe8] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:26.260055+02:00", "timestamp": 1754058446.260055}}}
{"text": "2025-08-01 16:27:26.364 | INFO     | app.main:request_tracking_middleware:116 - ✅ [54c76fe8] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 104.4ms\n", "record": {"elapsed": {"repr": "0:01:21.827773", "seconds": 81.827773}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [54c76fe8] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 104.4ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:26.364455+02:00", "timestamp": 1754058446.364455}}}
{"text": "2025-08-01 16:27:26.424 | INFO     | app.main:request_tracking_middleware:116 - ✅ [27f37d06] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 168.5ms\n", "record": {"elapsed": {"repr": "0:01:21.887533", "seconds": 81.887533}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [27f37d06] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 168.5ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:26.424215+02:00", "timestamp": 1754058446.424215}}}
{"text": "2025-08-01 16:27:26.466 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [0c9a973f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:21.930072", "seconds": 81.930072}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [0c9a973f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:26.466754+02:00", "timestamp": 1754058446.466754}}}
{"text": "2025-08-01 16:27:26.670 | INFO     | app.main:request_tracking_middleware:116 - ✅ [0c9a973f] GET /api/v1/suggestions/refint-codpro - 200 - 204.2ms\n", "record": {"elapsed": {"repr": "0:01:22.134264", "seconds": 82.134264}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [0c9a973f] GET /api/v1/suggestions/refint-codpro - 200 - 204.2ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:26.670946+02:00", "timestamp": 1754058446.670946}}}
{"text": "2025-08-01 16:27:28.152 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [b039e091] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:23.616299", "seconds": 83.616299}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [b039e091] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:28.152981+02:00", "timestamp": 1754058448.152981}}}
{"text": "2025-08-01 16:27:28.156 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:23.619891", "seconds": 83.619891}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:28.156573+02:00", "timestamp": 1754058448.156573}}}
{"text": "2025-08-01 16:27:28.209 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:01:23.672348", "seconds": 83.672348}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:28.209030+02:00", "timestamp": 1754058448.20903}}}
{"text": "2025-08-01 16:27:28.288 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:01:23.751447", "seconds": 83.751447}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:28.288129+02:00", "timestamp": 1754058448.288129}}}
{"text": "2025-08-01 16:27:28.289 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.13s\n", "record": {"elapsed": {"repr": "0:01:23.752618", "seconds": 83.752618}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.13s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:28.289300+02:00", "timestamp": 1754058448.2893}}}
{"text": "2025-08-01 16:27:28.290 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:01:23.754160", "seconds": 83.75416}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:28.290842+02:00", "timestamp": 1754058448.290842}}}
{"text": "2025-08-01 16:27:28.300 | INFO     | app.main:request_tracking_middleware:116 - ✅ [b039e091] POST /api/v1/optimisation/optimisation - 200 - 147.7ms\n", "record": {"elapsed": {"repr": "0:01:23.763997", "seconds": 83.763997}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [b039e091] POST /api/v1/optimisation/optimisation - 200 - 147.7ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:28.300679+02:00", "timestamp": 1754058448.300679}}}
{"text": "2025-08-01 16:27:28.605 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [86fcda3f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:24.069294", "seconds": 84.069294}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [86fcda3f] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:28.605976+02:00", "timestamp": 1754058448.605976}}}
{"text": "2025-08-01 16:27:28.943 | INFO     | app.main:request_tracking_middleware:116 - ✅ [86fcda3f] GET /api/v1/suggestions/refint-codpro - 200 - 337.9ms\n", "record": {"elapsed": {"repr": "0:01:24.407190", "seconds": 84.40719}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [86fcda3f] GET /api/v1/suggestions/refint-codpro - 200 - 337.9ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:28.943872+02:00", "timestamp": 1754058448.943872}}}
{"text": "2025-08-01 16:27:45.469 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [391ff796] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:40.933316", "seconds": 100.933316}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [391ff796] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:45.469998+02:00", "timestamp": 1754058465.469998}}}
{"text": "2025-08-01 16:27:45.700 | INFO     | app.main:request_tracking_middleware:116 - ✅ [391ff796] GET /api/v1/suggestions/refint-codpro - 200 - 230.7ms\n", "record": {"elapsed": {"repr": "0:01:41.163944", "seconds": 101.163944}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [391ff796] GET /api/v1/suggestions/refint-codpro - 200 - 230.7ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:45.700626+02:00", "timestamp": 1754058465.700626}}}
{"text": "2025-08-01 16:27:46.826 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [360591a6] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:42.289387", "seconds": 102.289387}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [360591a6] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:46.826069+02:00", "timestamp": 1754058466.826069}}}
{"text": "2025-08-01 16:27:47.028 | INFO     | app.main:request_tracking_middleware:116 - ✅ [360591a6] GET /api/v1/suggestions/refint-codpro - 200 - 202.5ms\n", "record": {"elapsed": {"repr": "0:01:42.491862", "seconds": 102.491862}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [360591a6] GET /api/v1/suggestions/refint-codpro - 200 - 202.5ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:47.028544+02:00", "timestamp": 1754058467.028544}}}
{"text": "2025-08-01 16:27:47.804 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [59a60512] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:43.267429", "seconds": 103.267429}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [59a60512] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:47.804111+02:00", "timestamp": 1754058467.804111}}}
{"text": "2025-08-01 16:27:47.807 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:43.270456", "seconds": 103.270456}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:47.807138+02:00", "timestamp": 1754058467.807138}}}
{"text": "2025-08-01 16:27:48.047 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=160506, qualite=None\n", "record": {"elapsed": {"repr": "0:01:43.510514", "seconds": 103.510514}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=160506, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:48.047196+02:00", "timestamp": 1754058468.047196}}}
{"text": "2025-08-01 16:27:48.073 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 4 cod_pro\n", "record": {"elapsed": {"repr": "0:01:43.536801", "seconds": 103.536801}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 4 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:48.073483+02:00", "timestamp": 1754058468.073483}}}
{"text": "2025-08-01 16:27:48.074 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 4 éléments en 0.27s\n", "record": {"elapsed": {"repr": "0:01:43.537667", "seconds": 103.537667}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 4 éléments en 0.27s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:48.074349+02:00", "timestamp": 1754058468.074349}}}
{"text": "2025-08-01 16:27:48.075 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:01:43.538734", "seconds": 103.538734}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:48.075416+02:00", "timestamp": 1754058468.075416}}}
{"text": "2025-08-01 16:27:48.087 | ERROR    | app.services.optimisation.optimisation_service:evaluate_group_optimization:161 - Erreur SQL evaluate_group_optimization pour cod_pro_list=[402769, 427282, 469359, 474304]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (402769, 427282, 469359, 474304)]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n", "record": {"elapsed": {"repr": "0:01:43.551029", "seconds": 103.551029}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 161, "message": "Erreur SQL evaluate_group_optimization pour cod_pro_list=[402769, 427282, 469359, 474304]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (402769, 427282, 469359, 474304)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:48.087711+02:00", "timestamp": 1754058468.087711}}}
{"text": "2025-08-01 16:27:48.091 | INFO     | app.main:request_tracking_middleware:116 - ✅ [59a60512] POST /api/v1/optimisation/optimisation - 200 - 287.5ms\n", "record": {"elapsed": {"repr": "0:01:43.554926", "seconds": 103.554926}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [59a60512] POST /api/v1/optimisation/optimisation - 200 - 287.5ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:48.091608+02:00", "timestamp": 1754058468.091608}}}
{"text": "2025-08-01 16:27:48.224 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [0c5b0149] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:43.687780", "seconds": 103.68778}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [0c5b0149] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:48.224462+02:00", "timestamp": 1754058468.224462}}}
{"text": "2025-08-01 16:27:48.451 | INFO     | app.main:request_tracking_middleware:116 - ✅ [0c5b0149] GET /api/v1/suggestions/refint-codpro - 200 - 227.1ms\n", "record": {"elapsed": {"repr": "0:01:43.914910", "seconds": 103.91491}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [0c5b0149] GET /api/v1/suggestions/refint-codpro - 200 - 227.1ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:48.451592+02:00", "timestamp": 1754058468.451592}}}
{"text": "2025-08-01 16:27:49.809 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [e9aa4d63] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:45.272489", "seconds": 105.272489}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [e9aa4d63] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:49.809171+02:00", "timestamp": 1754058469.809171}}}
{"text": "2025-08-01 16:27:49.813 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:45.276979", "seconds": 105.276979}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:49.813661+02:00", "timestamp": 1754058469.813661}}}
{"text": "2025-08-01 16:27:49.815 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6c12e660030e3ceba20a62c226a896f8\n", "record": {"elapsed": {"repr": "0:01:45.278757", "seconds": 105.278757}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6c12e660030e3ceba20a62c226a896f8", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:49.815439+02:00", "timestamp": 1754058469.815439}}}
{"text": "2025-08-01 16:27:49.816 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 4 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:01:45.279740", "seconds": 105.27974}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 4 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:49.816422+02:00", "timestamp": 1754058469.816422}}}
{"text": "2025-08-01 16:27:49.817 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:01:45.280883", "seconds": 105.280883}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:49.817565+02:00", "timestamp": 1754058469.817565}}}
{"text": "2025-08-01 16:27:49.823 | ERROR    | app.services.optimisation.optimisation_service:evaluate_group_optimization:161 - Erreur SQL evaluate_group_optimization pour cod_pro_list=[402769, 427282, 469359, 474304]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (402769, 427282, 469359, 474304)]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n", "record": {"elapsed": {"repr": "0:01:45.287045", "seconds": 105.287045}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 161, "message": "Erreur SQL evaluate_group_optimization pour cod_pro_list=[402769, 427282, 469359, 474304]: (pyodbc.ProgrammingError) ('42000', \"[42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Syntaxe incorrecte vers 'dp'. (102) (SQLExecDirectW); [42000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Impossible de préparer les instructions. (8180)\")\n[SQL: \n            WITH CodProList AS (\n                SELECT CAST(? AS INT) AS cod_pro\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\nUNION ALL SELECT CAST(? AS INT)\n            ),\n            Achat AS (\n                SELECT a.cod_pro, MIN(a.px_net_eur) AS px_achat\n                FROM CBM_DATA.Pricing.Px_achat_net a WITH (NOLOCK)\n                JOIN CodProList c ON a.cod_pro = c.cod_pro\n                GROUP BY a.cod_pro\n            ),\n            Sales AS (\n                SELECT v.cod_pro, SUM(v.tot_vte_eur) AS ca_total, SUM(v.qte) AS quantite_total\n                FROM CBM_DATA.Pricing.Px_vte_mouvement v WITH (NOLOCK)\n                JOIN CodProList c ON v.cod_pro = c.cod_pro\n                WHERE v.dat_mvt >= DATEADD(YEAR, -1, GETDATE())\n                GROUP BY v.cod_pro\n            )\n            SELECT dp.grouping_crn, dp.qualite, dp.cod_pro,\n                   ISNULL(a.px_achat,0) AS px_achat,\n                   ISNULL(s.ca_total,0) AS ca_total,\n                   ISNULL(s.quantite_total,0) AS qte_total\n            FROM (SELECT DISTINCT cod_pro, grouping_crn, qualite FROM [CBM_DATA].[Pricing].[Grouping_crn_table] WITH (NOLOCK) dp\n            JOIN CodProList c ON dp.cod_pro = c.cod_pro\n            LEFT JOIN Achat a ON dp.cod_pro = a.cod_pro\n            LEFT JOIN Sales s ON dp.cod_pro = s.cod_pro\n            WHERE dp.qualite IN ('OEM','PMQ','PMV')\n            OPTION (RECOMPILE)\n        ]\n[parameters: (402769, 427282, 469359, 474304)]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:49.823727+02:00", "timestamp": 1754058469.823727}}}
{"text": "2025-08-01 16:27:49.825 | INFO     | app.main:request_tracking_middleware:116 - ✅ [e9aa4d63] POST /api/v1/optimisation/optimisation - 200 - 16.4ms\n", "record": {"elapsed": {"repr": "0:01:45.288835", "seconds": 105.288835}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [e9aa4d63] POST /api/v1/optimisation/optimisation - 200 - 16.4ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:27:49.825517+02:00", "timestamp": 1754058469.825517}}}
{"text": "2025-08-01 16:30:46.268 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [1edb85c7] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:04:41.731435", "seconds": 281.731435}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [1edb85c7] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:30:46.268117+02:00", "timestamp": 1754058646.268117}}}
{"text": "2025-08-01 16:30:46.474 | INFO     | app.main:request_tracking_middleware:116 - ✅ [1edb85c7] GET /api/v1/suggestions/refint-codpro - 200 - 206.5ms\n", "record": {"elapsed": {"repr": "0:04:41.937966", "seconds": 281.937966}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [1edb85c7] GET /api/v1/suggestions/refint-codpro - 200 - 206.5ms", "module": "main", "name": "app.main", "process": {"id": 13224, "name": "SpawnProcess-1"}, "thread": {"id": 19356, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:30:46.474648+02:00", "timestamp": 1754058646.474648}}}
{"text": "2025-08-01 16:31:23.522 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.673740", "seconds": 0.67374}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:23.522151+02:00", "timestamp": 1754058683.522151}}}
{"text": "2025-08-01 16:31:23.535 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.686989", "seconds": 0.686989}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:23.535400+02:00", "timestamp": 1754058683.5354}}}
{"text": "2025-08-01 16:31:23.535 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.687426", "seconds": 0.687426}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:23.535837+02:00", "timestamp": 1754058683.535837}}}
{"text": "2025-08-01 16:31:23.811 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.962918", "seconds": 0.962918}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:23.811329+02:00", "timestamp": 1754058683.811329}}}
{"text": "2025-08-01 16:31:23.812 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.963815", "seconds": 0.963815}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:23.812226+02:00", "timestamp": 1754058683.812226}}}
{"text": "2025-08-01 16:31:28.769 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [f762c5b5] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:05.921203", "seconds": 5.921203}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [f762c5b5] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:28.769614+02:00", "timestamp": 1754058688.769614}}}
{"text": "2025-08-01 16:31:28.770 | INFO     | app.main:request_tracking_middleware:116 - ✅ [f762c5b5] OPTIONS /api/v1/dashboard/fiche - 200 - 1.4ms\n", "record": {"elapsed": {"repr": "0:00:05.922587", "seconds": 5.922587}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [f762c5b5] OPTIONS /api/v1/dashboard/fiche - 200 - 1.4ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:28.770998+02:00", "timestamp": 1754058688.770998}}}
{"text": "2025-08-01 16:31:28.801 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [75c8ecc9] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:05.953172", "seconds": 5.953172}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [75c8ecc9] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:28.801583+02:00", "timestamp": 1754058688.801583}}}
{"text": "2025-08-01 16:31:28.810 | INFO     | app.main:request_tracking_middleware:116 - ✅ [75c8ecc9] POST /api/v1/dashboard/fiche - 200 - 9.4ms\n", "record": {"elapsed": {"repr": "0:00:05.962542", "seconds": 5.962542}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [75c8ecc9] POST /api/v1/dashboard/fiche - 200 - 9.4ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:28.810953+02:00", "timestamp": 1754058688.810953}}}
{"text": "2025-08-01 16:31:34.515 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [4442c84b] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:11.667040", "seconds": 11.66704}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [4442c84b] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:34.515451+02:00", "timestamp": 1754058694.515451}}}
{"text": "2025-08-01 16:31:34.519 | INFO     | app.main:request_tracking_middleware:116 - ✅ [4442c84b] POST /api/v1/dashboard/fiche - 200 - 4.1ms\n", "record": {"elapsed": {"repr": "0:00:11.671128", "seconds": 11.671128}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [4442c84b] POST /api/v1/dashboard/fiche - 200 - 4.1ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:34.519539+02:00", "timestamp": 1754058694.519539}}}
{"text": "2025-08-01 16:31:35.541 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [84c14817] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.692932", "seconds": 12.692932}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [84c14817] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:35.541343+02:00", "timestamp": 1754058695.541343}}}
{"text": "2025-08-01 16:31:35.550 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:12.702502", "seconds": 12.702502}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:35.550913+02:00", "timestamp": 1754058695.550913}}}
{"text": "2025-08-01 16:31:35.551 | WARNING  | app.services.optimisation.optimisation_service:evaluate_group_optimization:25 - Payload vide\n", "record": {"elapsed": {"repr": "0:00:12.703202", "seconds": 12.703202}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 25, "message": "Payload vide", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:35.551613+02:00", "timestamp": 1754058695.551613}}}
{"text": "2025-08-01 16:31:35.553 | INFO     | app.main:request_tracking_middleware:116 - ✅ [84c14817] POST /api/v1/optimisation/optimisation - 200 - 11.7ms\n", "record": {"elapsed": {"repr": "0:00:12.704592", "seconds": 12.704592}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [84c14817] POST /api/v1/optimisation/optimisation - 200 - 11.7ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:35.553003+02:00", "timestamp": 1754058695.553003}}}
{"text": "2025-08-01 16:31:37.764 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [d694b413] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.915667", "seconds": 14.915667}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [d694b413] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:37.764078+02:00", "timestamp": 1754058697.764078}}}
{"text": "2025-08-01 16:31:37.975 | INFO     | app.main:request_tracking_middleware:116 - ✅ [d694b413] GET /api/v1/suggestions/refint-codpro - 200 - 211.6ms\n", "record": {"elapsed": {"repr": "0:00:15.127312", "seconds": 15.127312}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [d694b413] GET /api/v1/suggestions/refint-codpro - 200 - 211.6ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:37.975723+02:00", "timestamp": 1754058697.975723}}}
{"text": "2025-08-01 16:31:38.847 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [bcc1fc4f] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:15.999125", "seconds": 15.999125}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [bcc1fc4f] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:38.847536+02:00", "timestamp": 1754058698.847536}}}
{"text": "2025-08-01 16:31:38.852 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [e87050a7] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:16.003646", "seconds": 16.003646}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [e87050a7] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:38.852057+02:00", "timestamp": 1754058698.852057}}}
{"text": "2025-08-01 16:31:38.957 | INFO     | app.main:request_tracking_middleware:116 - ✅ [bcc1fc4f] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 110.0ms\n", "record": {"elapsed": {"repr": "0:00:16.109164", "seconds": 16.109164}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [bcc1fc4f] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 110.0ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:38.957575+02:00", "timestamp": 1754058698.957575}}}
{"text": "2025-08-01 16:31:39.002 | INFO     | app.main:request_tracking_middleware:116 - ✅ [e87050a7] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 150.7ms\n", "record": {"elapsed": {"repr": "0:00:16.154304", "seconds": 16.154304}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [e87050a7] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 150.7ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:39.002715+02:00", "timestamp": 1754058699.002715}}}
{"text": "2025-08-01 16:31:39.022 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [178774a3] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:16.173753", "seconds": 16.173753}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [178774a3] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:39.022164+02:00", "timestamp": 1754058699.022164}}}
{"text": "2025-08-01 16:31:39.255 | INFO     | app.main:request_tracking_middleware:116 - ✅ [178774a3] GET /api/v1/suggestions/refint-codpro - 200 - 233.3ms\n", "record": {"elapsed": {"repr": "0:00:16.407051", "seconds": 16.407051}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [178774a3] GET /api/v1/suggestions/refint-codpro - 200 - 233.3ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:39.255462+02:00", "timestamp": 1754058699.255462}}}
{"text": "2025-08-01 16:31:40.782 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5b100d17] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:17.933651", "seconds": 17.933651}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5b100d17] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:40.782062+02:00", "timestamp": 1754058700.782062}}}
{"text": "2025-08-01 16:31:40.785 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:17.937137", "seconds": 17.937137}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:40.785548+02:00", "timestamp": 1754058700.785548}}}
{"text": "2025-08-01 16:31:40.815 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:00:17.966601", "seconds": 17.966601}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:40.815012+02:00", "timestamp": 1754058700.815012}}}
{"text": "2025-08-01 16:31:40.830 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:00:17.981761", "seconds": 17.981761}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:40.830172+02:00", "timestamp": 1754058700.830172}}}
{"text": "2025-08-01 16:31:40.831 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.05s\n", "record": {"elapsed": {"repr": "0:00:17.982994", "seconds": 17.982994}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.05s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:40.831405+02:00", "timestamp": 1754058700.831405}}}
{"text": "2025-08-01 16:31:40.833 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:00:17.984997", "seconds": 17.984997}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:40.833408+02:00", "timestamp": 1754058700.833408}}}
{"text": "2025-08-01 16:31:40.837 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5b100d17] POST /api/v1/optimisation/optimisation - 200 - 55.6ms\n", "record": {"elapsed": {"repr": "0:00:17.989236", "seconds": 17.989236}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5b100d17] POST /api/v1/optimisation/optimisation - 200 - 55.6ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:40.837647+02:00", "timestamp": 1754058700.837647}}}
{"text": "2025-08-01 16:31:41.297 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [dc060bec] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:18.448606", "seconds": 18.448606}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [dc060bec] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:41.297017+02:00", "timestamp": 1754058701.297017}}}
{"text": "2025-08-01 16:31:41.610 | INFO     | app.main:request_tracking_middleware:116 - ✅ [dc060bec] GET /api/v1/suggestions/refint-codpro - 200 - 313.6ms\n", "record": {"elapsed": {"repr": "0:00:18.762257", "seconds": 18.762257}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [dc060bec] GET /api/v1/suggestions/refint-codpro - 200 - 313.6ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:31:41.610668+02:00", "timestamp": 1754058701.610668}}}
{"text": "2025-08-01 16:32:18.456 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [218e3d52] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:55.608316", "seconds": 55.608316}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [218e3d52] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:18.456727+02:00", "timestamp": 1754058738.456727}}}
{"text": "2025-08-01 16:32:18.669 | INFO     | app.main:request_tracking_middleware:116 - ✅ [218e3d52] GET /api/v1/suggestions/refint-codpro - 200 - 212.9ms\n", "record": {"elapsed": {"repr": "0:00:55.821175", "seconds": 55.821175}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [218e3d52] GET /api/v1/suggestions/refint-codpro - 200 - 212.9ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:18.669586+02:00", "timestamp": 1754058738.669586}}}
{"text": "2025-08-01 16:32:19.603 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [f995ef21] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:56.755364", "seconds": 56.755364}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [f995ef21] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:19.603775+02:00", "timestamp": 1754058739.603775}}}
{"text": "2025-08-01 16:32:19.606 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:56.758208", "seconds": 56.758208}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:19.606619+02:00", "timestamp": 1754058739.606619}}}
{"text": "2025-08-01 16:32:19.759 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=66259, qualite=None\n", "record": {"elapsed": {"repr": "0:00:56.911135", "seconds": 56.911135}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=66259, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:19.759546+02:00", "timestamp": 1754058739.759546}}}
{"text": "2025-08-01 16:32:19.777 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 1 cod_pro\n", "record": {"elapsed": {"repr": "0:00:56.929004", "seconds": 56.929004}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 1 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:19.777415+02:00", "timestamp": 1754058739.777415}}}
{"text": "2025-08-01 16:32:19.778 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 1 éléments en 0.17s\n", "record": {"elapsed": {"repr": "0:00:56.929797", "seconds": 56.929797}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 1 éléments en 0.17s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:19.778208+02:00", "timestamp": 1754058739.778208}}}
{"text": "2025-08-01 16:32:19.784 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:00:56.935893", "seconds": 56.935893}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:19.784304+02:00", "timestamp": 1754058739.784304}}}
{"text": "2025-08-01 16:32:19.880 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:88 - SQL principale exécutée en 0.10s, 1 lignes\n", "record": {"elapsed": {"repr": "0:00:57.031766", "seconds": 57.031766}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 88, "message": "SQL principale exécutée en 0.10s, 1 lignes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:19.880177+02:00", "timestamp": 1754058739.880177}}}
{"text": "2025-08-01 16:32:19.881 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:102 - 1 groupes trouvés après agrégation\n", "record": {"elapsed": {"repr": "0:00:57.033301", "seconds": 57.033301}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 102, "message": "1 groupes trouvés après agrégation", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:19.881712+02:00", "timestamp": 1754058739.881712}}}
{"text": "2025-08-01 16:32:19.981 | DEBUG    | app.services.optimisation.optimisation_service:_get_sales_history_for_trend:194 - Historique tendance récupéré: 0 groupes\n", "record": {"elapsed": {"repr": "0:00:57.133398", "seconds": 57.133398}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_get_sales_history_for_trend", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 194, "message": "Historique tendance récupéré: 0 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:19.981809+02:00", "timestamp": 1754058739.981809}}}
{"text": "2025-08-01 16:32:19.983 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:105 - Historique récupéré pour 0 groupes\n", "record": {"elapsed": {"repr": "0:00:57.134872", "seconds": 57.134872}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "Historique récupéré pour 0 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:19.983283+02:00", "timestamp": 1754058739.983283}}}
{"text": "2025-08-01 16:32:19.985 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:153 - ✅ Cache set optimisation pour optimisation:group:{\"cod_pro\": 234124, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:00:57.137002", "seconds": 57.137002}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 153, "message": "✅ Cache set optimisation pour optimisation:group:{\"cod_pro\": 234124, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:19.985413+02:00", "timestamp": 1754058739.985413}}}
{"text": "2025-08-01 16:32:19.986 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:157 - Optimisation calculée: 0 groupes analysés\n", "record": {"elapsed": {"repr": "0:00:57.137871", "seconds": 57.137871}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 157, "message": "Optimisation calculée: 0 groupes analysés", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:19.986282+02:00", "timestamp": 1754058739.986282}}}
{"text": "2025-08-01 16:32:19.990 | INFO     | app.main:request_tracking_middleware:116 - ✅ [f995ef21] POST /api/v1/optimisation/optimisation - 200 - 387.0ms\n", "record": {"elapsed": {"repr": "0:00:57.142397", "seconds": 57.142397}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [f995ef21] POST /api/v1/optimisation/optimisation - 200 - 387.0ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:19.990808+02:00", "timestamp": 1754058739.990808}}}
{"text": "2025-08-01 16:32:20.024 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c4b75c14] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:57.176102", "seconds": 57.176102}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c4b75c14] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:20.024513+02:00", "timestamp": 1754058740.024513}}}
{"text": "2025-08-01 16:32:20.251 | INFO     | app.main:request_tracking_middleware:116 - ✅ [c4b75c14] GET /api/v1/suggestions/refint-codpro - 200 - 227.5ms\n", "record": {"elapsed": {"repr": "0:00:57.403552", "seconds": 57.403552}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [c4b75c14] GET /api/v1/suggestions/refint-codpro - 200 - 227.5ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:20.251963+02:00", "timestamp": 1754058740.251963}}}
{"text": "2025-08-01 16:32:29.267 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [0f2ed7f3] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:06.419576", "seconds": 66.419576}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [0f2ed7f3] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:29.267987+02:00", "timestamp": 1754058749.267987}}}
{"text": "2025-08-01 16:32:29.271 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:06.422645", "seconds": 66.422645}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:29.271056+02:00", "timestamp": 1754058749.271056}}}
{"text": "2025-08-01 16:32:29.288 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:01:06.439952", "seconds": 66.439952}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:29.288363+02:00", "timestamp": 1754058749.288363}}}
{"text": "2025-08-01 16:32:29.301 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:01:06.452744", "seconds": 66.452744}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:29.301155+02:00", "timestamp": 1754058749.301155}}}
{"text": "2025-08-01 16:32:29.302 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.03s\n", "record": {"elapsed": {"repr": "0:01:06.453629", "seconds": 66.453629}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.03s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:29.302040+02:00", "timestamp": 1754058749.30204}}}
{"text": "2025-08-01 16:32:29.303 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:01:06.454826", "seconds": 66.454826}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:29.303237+02:00", "timestamp": 1754058749.303237}}}
{"text": "2025-08-01 16:32:29.306 | INFO     | app.main:request_tracking_middleware:116 - ✅ [0f2ed7f3] POST /api/v1/optimisation/optimisation - 200 - 38.1ms\n", "record": {"elapsed": {"repr": "0:01:06.457637", "seconds": 66.457637}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [0f2ed7f3] POST /api/v1/optimisation/optimisation - 200 - 38.1ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:29.306048+02:00", "timestamp": 1754058749.306048}}}
{"text": "2025-08-01 16:32:49.843 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [9d0156f1] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:26.995211", "seconds": 86.995211}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [9d0156f1] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:49.843622+02:00", "timestamp": 1754058769.843622}}}
{"text": "2025-08-01 16:32:49.846 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:26.997690", "seconds": 86.99769}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:49.846101+02:00", "timestamp": 1754058769.846101}}}
{"text": "2025-08-01 16:32:49.870 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:01:27.022337", "seconds": 87.022337}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:49.870748+02:00", "timestamp": 1754058769.870748}}}
{"text": "2025-08-01 16:32:49.881 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:01:27.032660", "seconds": 87.03266}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:49.881071+02:00", "timestamp": 1754058769.881071}}}
{"text": "2025-08-01 16:32:49.882 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.04s\n", "record": {"elapsed": {"repr": "0:01:27.033735", "seconds": 87.033735}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.04s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:49.882146+02:00", "timestamp": 1754058769.882146}}}
{"text": "2025-08-01 16:32:49.883 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:01:27.035057", "seconds": 87.035057}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:49.883468+02:00", "timestamp": 1754058769.883468}}}
{"text": "2025-08-01 16:32:50.553 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:88 - SQL principale exécutée en 0.67s, 26 lignes\n", "record": {"elapsed": {"repr": "0:01:27.705376", "seconds": 87.705376}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 88, "message": "SQL principale exécutée en 0.67s, 26 lignes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:50.553787+02:00", "timestamp": 1754058770.553787}}}
{"text": "2025-08-01 16:32:50.554 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:102 - 2 groupes trouvés après agrégation\n", "record": {"elapsed": {"repr": "0:01:27.706056", "seconds": 87.706056}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 102, "message": "2 groupes trouvés après agrégation", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:50.554467+02:00", "timestamp": 1754058770.554467}}}
{"text": "2025-08-01 16:32:51.195 | DEBUG    | app.services.optimisation.optimisation_service:_get_sales_history_for_trend:194 - Historique tendance récupéré: 2 groupes\n", "record": {"elapsed": {"repr": "0:01:28.347028", "seconds": 88.347028}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_get_sales_history_for_trend", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 194, "message": "Historique tendance récupéré: 2 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:51.195439+02:00", "timestamp": 1754058771.195439}}}
{"text": "2025-08-01 16:32:51.204 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:105 - Historique récupéré pour 2 groupes\n", "record": {"elapsed": {"repr": "0:01:28.355767", "seconds": 88.355767}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "Historique récupéré pour 2 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:51.204178+02:00", "timestamp": 1754058771.204178}}}
{"text": "2025-08-01 16:32:51.205 | DEBUG    | app.services.optimisation.optimisation_service:_project_next_6_months:233 - Projection 20075-OEM avec 6 mois historiques\n", "record": {"elapsed": {"repr": "0:01:28.356620", "seconds": 88.35662}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_project_next_6_months", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 233, "message": "Projection 20075-OEM avec 6 mois historiques", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:51.205031+02:00", "timestamp": 1754058771.205031}}}
{"text": "2025-08-01 16:32:51.255 | DEBUG    | app.services.optimisation.optimisation_service:_project_next_6_months:233 - Projection 20075-PMQ avec 6 mois historiques\n", "record": {"elapsed": {"repr": "0:01:28.407005", "seconds": 88.407005}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_project_next_6_months", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 233, "message": "Projection 20075-PMQ avec 6 mois historiques", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:51.255416+02:00", "timestamp": 1754058771.255416}}}
{"text": "2025-08-01 16:32:51.258 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:153 - ✅ Cache set optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:01:28.409617", "seconds": 88.409617}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 153, "message": "✅ Cache set optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:51.258028+02:00", "timestamp": 1754058771.258028}}}
{"text": "2025-08-01 16:32:51.258 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:157 - Optimisation calculée: 2 groupes analysés\n", "record": {"elapsed": {"repr": "0:01:28.410351", "seconds": 88.410351}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 157, "message": "Optimisation calculée: 2 groupes analysés", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:51.258762+02:00", "timestamp": 1754058771.258762}}}
{"text": "2025-08-01 16:32:51.266 | INFO     | app.main:request_tracking_middleware:116 - ✅ [9d0156f1] POST /api/v1/optimisation/optimisation - 200 - 1423.3ms\n", "record": {"elapsed": {"repr": "0:01:28.418483", "seconds": 88.418483}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [9d0156f1] POST /api/v1/optimisation/optimisation - 200 - 1423.3ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:51.266894+02:00", "timestamp": 1754058771.266894}}}
{"text": "2025-08-01 16:32:57.973 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [546657d0] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:35.125107", "seconds": 95.125107}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [546657d0] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:57.973518+02:00", "timestamp": 1754058777.973518}}}
{"text": "2025-08-01 16:32:58.153 | INFO     | app.main:request_tracking_middleware:116 - ✅ [546657d0] GET /api/v1/suggestions/refint-codpro - 200 - 180.2ms\n", "record": {"elapsed": {"repr": "0:01:35.305305", "seconds": 95.305305}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [546657d0] GET /api/v1/suggestions/refint-codpro - 200 - 180.2ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:58.153716+02:00", "timestamp": 1754058778.153716}}}
{"text": "2025-08-01 16:32:58.345 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [8d7d5797] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:35.497405", "seconds": 95.497405}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [8d7d5797] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:58.345816+02:00", "timestamp": 1754058778.345816}}}
{"text": "2025-08-01 16:32:58.520 | INFO     | app.main:request_tracking_middleware:116 - ✅ [8d7d5797] GET /api/v1/suggestions/refint-codpro - 200 - 174.6ms\n", "record": {"elapsed": {"repr": "0:01:35.672030", "seconds": 95.67203}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [8d7d5797] GET /api/v1/suggestions/refint-codpro - 200 - 174.6ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:32:58.520441+02:00", "timestamp": 1754058778.520441}}}
{"text": "2025-08-01 16:33:00.000 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [adecce77] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:37.151709", "seconds": 97.151709}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [adecce77] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:33:00.000120+02:00", "timestamp": 1754058780.00012}}}
{"text": "2025-08-01 16:33:00.243 | INFO     | app.main:request_tracking_middleware:116 - ✅ [adecce77] GET /api/v1/suggestions/refint-codpro - 200 - 243.5ms\n", "record": {"elapsed": {"repr": "0:01:37.395155", "seconds": 97.395155}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [adecce77] GET /api/v1/suggestions/refint-codpro - 200 - 243.5ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:33:00.243566+02:00", "timestamp": 1754058780.243566}}}
{"text": "2025-08-01 16:33:01.158 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [47a56833] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:38.310426", "seconds": 98.310426}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [47a56833] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:33:01.158837+02:00", "timestamp": 1754058781.158837}}}
{"text": "2025-08-01 16:33:01.162 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:38.313607", "seconds": 98.313607}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:33:01.162018+02:00", "timestamp": 1754058781.162018}}}
{"text": "2025-08-01 16:33:01.163 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:01:38.315108", "seconds": 98.315108}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:33:01.163519+02:00", "timestamp": 1754058781.163519}}}
{"text": "2025-08-01 16:33:01.164 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:01:38.315744", "seconds": 98.315744}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:33:01.164155+02:00", "timestamp": 1754058781.164155}}}
{"text": "2025-08-01 16:33:01.165 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:01:38.317582", "seconds": 98.317582}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:33:01.165993+02:00", "timestamp": 1754058781.165993}}}
{"text": "2025-08-01 16:33:01.168 | INFO     | app.main:request_tracking_middleware:116 - ✅ [47a56833] POST /api/v1/optimisation/optimisation - 200 - 9.8ms\n", "record": {"elapsed": {"repr": "0:01:38.320246", "seconds": 98.320246}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [47a56833] POST /api/v1/optimisation/optimisation - 200 - 9.8ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:33:01.168657+02:00", "timestamp": 1754058781.168657}}}
{"text": "2025-08-01 16:33:01.562 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [6e8061ea] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:38.713768", "seconds": 98.713768}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [6e8061ea] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:33:01.562179+02:00", "timestamp": 1754058781.562179}}}
{"text": "2025-08-01 16:33:02.028 | INFO     | app.main:request_tracking_middleware:116 - ✅ [6e8061ea] GET /api/v1/suggestions/refint-codpro - 200 - 466.6ms\n", "record": {"elapsed": {"repr": "0:01:39.180355", "seconds": 99.180355}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [6e8061ea] GET /api/v1/suggestions/refint-codpro - 200 - 466.6ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:33:02.028766+02:00", "timestamp": 1754058782.028766}}}
{"text": "2025-08-01 16:39:10.753 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [34ec3b9a] OPTIONS /api/v1/optimisation/simulate - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:07:47.904915", "seconds": 467.904915}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [34ec3b9a] OPTIONS /api/v1/optimisation/simulate - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:39:10.753326+02:00", "timestamp": 1754059150.753326}}}
{"text": "2025-08-01 16:39:10.754 | INFO     | app.main:request_tracking_middleware:116 - ✅ [34ec3b9a] OPTIONS /api/v1/optimisation/simulate - 200 - 1.5ms\n", "record": {"elapsed": {"repr": "0:07:47.906376", "seconds": 467.906376}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [34ec3b9a] OPTIONS /api/v1/optimisation/simulate - 200 - 1.5ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:39:10.754787+02:00", "timestamp": 1754059150.754787}}}
{"text": "2025-08-01 16:39:10.763 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [68ee1522] POST /api/v1/optimisation/simulate - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:07:47.915160", "seconds": 467.91516}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [68ee1522] POST /api/v1/optimisation/simulate - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:39:10.763571+02:00", "timestamp": 1754059150.763571}}}
{"text": "2025-08-01 16:39:10.766 | WARNING  | app.main:http_exception_handler:201 - 🟠 [68ee1522] HTTP 404: Not Found\n", "record": {"elapsed": {"repr": "0:07:47.918435", "seconds": 467.918435}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "http_exception_handler", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 201, "message": "🟠 [68ee1522] HTTP 404: Not Found", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:39:10.766846+02:00", "timestamp": 1754059150.766846}}}
{"text": "2025-08-01 16:39:10.768 | INFO     | app.main:request_tracking_middleware:116 - ❌ [68ee1522] POST /api/v1/optimisation/simulate - 404 - 5.3ms\n", "record": {"elapsed": {"repr": "0:07:47.920409", "seconds": 467.920409}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "❌ [68ee1522] POST /api/v1/optimisation/simulate - 404 - 5.3ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:39:10.768820+02:00", "timestamp": 1754059150.76882}}}
{"text": "2025-08-01 16:39:11.794 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [f693b11b] POST /api/v1/optimisation/simulate - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:07:48.945883", "seconds": 468.945883}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [f693b11b] POST /api/v1/optimisation/simulate - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:39:11.794294+02:00", "timestamp": 1754059151.794294}}}
{"text": "2025-08-01 16:39:11.795 | WARNING  | app.main:http_exception_handler:201 - 🟠 [f693b11b] HTTP 404: Not Found\n", "record": {"elapsed": {"repr": "0:07:48.946783", "seconds": 468.946783}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "http_exception_handler", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 201, "message": "🟠 [f693b11b] HTTP 404: Not Found", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:39:11.795194+02:00", "timestamp": 1754059151.795194}}}
{"text": "2025-08-01 16:39:11.796 | INFO     | app.main:request_tracking_middleware:116 - ❌ [f693b11b] POST /api/v1/optimisation/simulate - 404 - 1.8ms\n", "record": {"elapsed": {"repr": "0:07:48.947636", "seconds": 468.947636}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "❌ [f693b11b] POST /api/v1/optimisation/simulate - 404 - 1.8ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:39:11.796047+02:00", "timestamp": 1754059151.796047}}}
{"text": "2025-08-01 16:41:59.576 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [a5e770bd] POST /api/v1/optimisation/simulate - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:10:36.727635", "seconds": 636.727635}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [a5e770bd] POST /api/v1/optimisation/simulate - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:41:59.576046+02:00", "timestamp": 1754059319.576046}}}
{"text": "2025-08-01 16:41:59.577 | WARNING  | app.main:http_exception_handler:201 - 🟠 [a5e770bd] HTTP 404: Not Found\n", "record": {"elapsed": {"repr": "0:10:36.729067", "seconds": 636.729067}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "http_exception_handler", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 201, "message": "🟠 [a5e770bd] HTTP 404: Not Found", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:41:59.577478+02:00", "timestamp": 1754059319.577478}}}
{"text": "2025-08-01 16:41:59.578 | INFO     | app.main:request_tracking_middleware:116 - ❌ [a5e770bd] POST /api/v1/optimisation/simulate - 404 - 3.0ms\n", "record": {"elapsed": {"repr": "0:10:36.730330", "seconds": 636.73033}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "❌ [a5e770bd] POST /api/v1/optimisation/simulate - 404 - 3.0ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:41:59.578741+02:00", "timestamp": 1754059319.578741}}}
{"text": "2025-08-01 16:42:00.624 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ac362915] POST /api/v1/optimisation/simulate - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:10:37.776187", "seconds": 637.776187}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ac362915] POST /api/v1/optimisation/simulate - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:42:00.624598+02:00", "timestamp": 1754059320.624598}}}
{"text": "2025-08-01 16:42:00.627 | WARNING  | app.main:http_exception_handler:201 - 🟠 [ac362915] HTTP 404: Not Found\n", "record": {"elapsed": {"repr": "0:10:37.779095", "seconds": 637.779095}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "http_exception_handler", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 201, "message": "🟠 [ac362915] HTTP 404: Not Found", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:42:00.627506+02:00", "timestamp": 1754059320.627506}}}
{"text": "2025-08-01 16:42:00.629 | INFO     | app.main:request_tracking_middleware:116 - ❌ [ac362915] POST /api/v1/optimisation/simulate - 404 - 4.9ms\n", "record": {"elapsed": {"repr": "0:10:37.781069", "seconds": 637.781069}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "❌ [ac362915] POST /api/v1/optimisation/simulate - 404 - 4.9ms", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:42:00.629480+02:00", "timestamp": 1754059320.62948}}}
{"text": "2025-08-01 16:43:53.370 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:12:30.522381", "seconds": 750.522381}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 9996, "name": "SpawnProcess-1"}, "thread": {"id": 17600, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:43:53.370792+02:00", "timestamp": 1754059433.370792}}}
{"text": "2025-08-01 16:43:56.000 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.663755", "seconds": 0.663755}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 17748, "name": "SpawnProcess-2"}, "thread": {"id": 17608, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:43:56.000301+02:00", "timestamp": 1754059436.000301}}}
{"text": "2025-08-01 16:43:56.013 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.676716", "seconds": 0.676716}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 17748, "name": "SpawnProcess-2"}, "thread": {"id": 17608, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:43:56.013262+02:00", "timestamp": 1754059436.013262}}}
{"text": "2025-08-01 16:43:56.013 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.677212", "seconds": 0.677212}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 17748, "name": "SpawnProcess-2"}, "thread": {"id": 17608, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:43:56.013758+02:00", "timestamp": 1754059436.013758}}}
{"text": "2025-08-01 16:43:56.309 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.972986", "seconds": 0.972986}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 17748, "name": "SpawnProcess-2"}, "thread": {"id": 17608, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:43:56.309532+02:00", "timestamp": 1754059436.309532}}}
{"text": "2025-08-01 16:43:56.310 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.973567", "seconds": 0.973567}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 17748, "name": "SpawnProcess-2"}, "thread": {"id": 17608, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:43:56.310113+02:00", "timestamp": 1754059436.310113}}}
{"text": "2025-08-01 16:44:13.233 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:17.897155", "seconds": 17.897155}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 17748, "name": "SpawnProcess-2"}, "thread": {"id": 17608, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:44:13.233701+02:00", "timestamp": 1754059453.233701}}}
{"text": "2025-08-01 16:44:15.863 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.644783", "seconds": 0.644783}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 7020, "name": "SpawnProcess-3"}, "thread": {"id": 19120, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:44:15.863163+02:00", "timestamp": 1754059455.863163}}}
{"text": "2025-08-01 16:44:15.876 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.658419", "seconds": 0.658419}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 7020, "name": "SpawnProcess-3"}, "thread": {"id": 19120, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:44:15.876799+02:00", "timestamp": 1754059455.876799}}}
{"text": "2025-08-01 16:44:15.877 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.658787", "seconds": 0.658787}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 7020, "name": "SpawnProcess-3"}, "thread": {"id": 19120, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:44:15.877167+02:00", "timestamp": 1754059455.877167}}}
{"text": "2025-08-01 16:44:16.052 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.834348", "seconds": 0.834348}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 7020, "name": "SpawnProcess-3"}, "thread": {"id": 19120, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:44:16.052728+02:00", "timestamp": 1754059456.052728}}}
{"text": "2025-08-01 16:44:16.053 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.835012", "seconds": 0.835012}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 7020, "name": "SpawnProcess-3"}, "thread": {"id": 19120, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:44:16.053392+02:00", "timestamp": 1754059456.053392}}}
{"text": "2025-08-01 16:44:41.303 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:26.084957", "seconds": 26.084957}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 7020, "name": "SpawnProcess-3"}, "thread": {"id": 19120, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:44:41.303337+02:00", "timestamp": 1754059481.303337}}}
{"text": "2025-08-01 16:44:44.354 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.918228", "seconds": 0.918228}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 16016, "name": "SpawnProcess-4"}, "thread": {"id": 10748, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:44:44.354715+02:00", "timestamp": 1754059484.354715}}}
{"text": "2025-08-01 16:44:44.372 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.935748", "seconds": 0.935748}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 16016, "name": "SpawnProcess-4"}, "thread": {"id": 10748, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:44:44.372235+02:00", "timestamp": 1754059484.372235}}}
{"text": "2025-08-01 16:44:44.372 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.936220", "seconds": 0.93622}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 16016, "name": "SpawnProcess-4"}, "thread": {"id": 10748, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:44:44.372707+02:00", "timestamp": 1754059484.372707}}}
{"text": "2025-08-01 16:44:44.580 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:01.144140", "seconds": 1.14414}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 16016, "name": "SpawnProcess-4"}, "thread": {"id": 10748, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:44:44.580627+02:00", "timestamp": 1754059484.580627}}}
{"text": "2025-08-01 16:44:44.581 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:01.144690", "seconds": 1.14469}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 16016, "name": "SpawnProcess-4"}, "thread": {"id": 10748, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:44:44.581177+02:00", "timestamp": 1754059484.581177}}}
{"text": "2025-08-01 16:51:22.959 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:06:39.522589", "seconds": 399.522589}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 16016, "name": "SpawnProcess-4"}, "thread": {"id": 10748, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:51:22.959076+02:00", "timestamp": 1754059882.959076}}}
{"text": "2025-08-01 16:51:26.244 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.671627", "seconds": 0.671627}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 8960, "name": "SpawnProcess-6"}, "thread": {"id": 7100, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:51:26.244969+02:00", "timestamp": 1754059886.244969}}}
{"text": "2025-08-01 16:51:26.259 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.685830", "seconds": 0.68583}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 8960, "name": "SpawnProcess-6"}, "thread": {"id": 7100, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:51:26.259172+02:00", "timestamp": 1754059886.259172}}}
{"text": "2025-08-01 16:51:26.260 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.686687", "seconds": 0.686687}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 8960, "name": "SpawnProcess-6"}, "thread": {"id": 7100, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:51:26.260029+02:00", "timestamp": 1754059886.260029}}}
{"text": "2025-08-01 16:51:26.520 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.947102", "seconds": 0.947102}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 8960, "name": "SpawnProcess-6"}, "thread": {"id": 7100, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:51:26.520444+02:00", "timestamp": 1754059886.520444}}}
{"text": "2025-08-01 16:51:26.521 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.947845", "seconds": 0.947845}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 8960, "name": "SpawnProcess-6"}, "thread": {"id": 7100, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:51:26.521187+02:00", "timestamp": 1754059886.521187}}}
{"text": "2025-08-01 16:51:50.478 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:00:24.905479", "seconds": 24.905479}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 8960, "name": "SpawnProcess-6"}, "thread": {"id": 7100, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:51:50.478821+02:00", "timestamp": 1754059910.478821}}}
{"text": "2025-08-01 16:51:53.025 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.675866", "seconds": 0.675866}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 18008, "name": "SpawnProcess-7"}, "thread": {"id": 5544, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:51:53.025299+02:00", "timestamp": 1754059913.025299}}}
{"text": "2025-08-01 16:51:53.036 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.687158", "seconds": 0.687158}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 18008, "name": "SpawnProcess-7"}, "thread": {"id": 5544, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:51:53.036591+02:00", "timestamp": 1754059913.036591}}}
{"text": "2025-08-01 16:51:53.037 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.687844", "seconds": 0.687844}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 18008, "name": "SpawnProcess-7"}, "thread": {"id": 5544, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:51:53.037277+02:00", "timestamp": 1754059913.037277}}}
{"text": "2025-08-01 16:51:53.227 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:00.878307", "seconds": 0.878307}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 18008, "name": "SpawnProcess-7"}, "thread": {"id": 5544, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:51:53.227740+02:00", "timestamp": 1754059913.22774}}}
{"text": "2025-08-01 16:51:53.228 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:00.879002", "seconds": 0.879002}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 18008, "name": "SpawnProcess-7"}, "thread": {"id": 5544, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:51:53.228435+02:00", "timestamp": 1754059913.228435}}}
{"text": "2025-08-01 16:52:00.347 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [f8d412fe] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:07.997732", "seconds": 7.997732}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [f8d412fe] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 18008, "name": "SpawnProcess-7"}, "thread": {"id": 5544, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:52:00.347165+02:00", "timestamp": 1754059920.347165}}}
{"text": "2025-08-01 16:52:00.355 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:08.006073", "seconds": 8.006073}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 18008, "name": "SpawnProcess-7"}, "thread": {"id": 5544, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:52:00.355506+02:00", "timestamp": 1754059920.355506}}}
{"text": "2025-08-01 16:52:00.399 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:00:08.049615", "seconds": 8.049615}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 18008, "name": "SpawnProcess-7"}, "thread": {"id": 5544, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:52:00.399048+02:00", "timestamp": 1754059920.399048}}}
{"text": "2025-08-01 16:52:00.460 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:00:08.111428", "seconds": 8.111428}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 18008, "name": "SpawnProcess-7"}, "thread": {"id": 5544, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:52:00.460861+02:00", "timestamp": 1754059920.460861}}}
{"text": "2025-08-01 16:52:00.465 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.11s\n", "record": {"elapsed": {"repr": "0:00:08.115909", "seconds": 8.115909}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.11s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 18008, "name": "SpawnProcess-7"}, "thread": {"id": 5544, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:52:00.465342+02:00", "timestamp": 1754059920.465342}}}
{"text": "2025-08-01 16:52:00.466 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:00:08.117396", "seconds": 8.117396}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 18008, "name": "SpawnProcess-7"}, "thread": {"id": 5544, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:52:00.466829+02:00", "timestamp": 1754059920.466829}}}
{"text": "2025-08-01 16:52:00.471 | INFO     | app.main:request_tracking_middleware:116 - ✅ [f8d412fe] POST /api/v1/optimisation/optimisation - 200 - 124.1ms\n", "record": {"elapsed": {"repr": "0:00:08.121808", "seconds": 8.121808}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [f8d412fe] POST /api/v1/optimisation/optimisation - 200 - 124.1ms", "module": "main", "name": "app.main", "process": {"id": 18008, "name": "SpawnProcess-7"}, "thread": {"id": 5544, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:52:00.471241+02:00", "timestamp": 1754059920.471241}}}
{"text": "2025-08-01 16:54:41.926 | INFO     | app.main:lifespan:67 - 🛑 Arrêt du backend CBM_GRC_Matcher\n", "record": {"elapsed": {"repr": "0:02:49.576745", "seconds": 169.576745}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 67, "message": "🛑 Arrêt du backend CBM_GRC_Matcher", "module": "main", "name": "app.main", "process": {"id": 18008, "name": "SpawnProcess-7"}, "thread": {"id": 5544, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:41.926178+02:00", "timestamp": 1754060081.926178}}}
{"text": "2025-08-01 16:54:44.616 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:00.723559", "seconds": 0.723559}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:44.616409+02:00", "timestamp": 1754060084.616409}}}
{"text": "2025-08-01 16:54:44.630 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:00.737606", "seconds": 0.737606}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:44.630456+02:00", "timestamp": 1754060084.630456}}}
{"text": "2025-08-01 16:54:44.631 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:00.739071", "seconds": 0.739071}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:44.631921+02:00", "timestamp": 1754060084.631921}}}
{"text": "2025-08-01 16:54:44.907 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:01.014819", "seconds": 1.014819}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:44.907669+02:00", "timestamp": 1754060084.907669}}}
{"text": "2025-08-01 16:54:44.908 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:01.015254", "seconds": 1.015254}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:44.908104+02:00", "timestamp": 1754060084.908104}}}
{"text": "2025-08-01 16:54:44.918 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [79f21c00] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.025575", "seconds": 1.025575}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [79f21c00] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:44.918425+02:00", "timestamp": 1754060084.918425}}}
{"text": "2025-08-01 16:54:44.928 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:01.036079", "seconds": 1.036079}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:44.928929+02:00", "timestamp": 1754060084.928929}}}
{"text": "2025-08-01 16:54:44.980 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:00:01.087729", "seconds": 1.087729}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:44.980579+02:00", "timestamp": 1754060084.980579}}}
{"text": "2025-08-01 16:54:45.014 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:00:01.121880", "seconds": 1.12188}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:45.014730+02:00", "timestamp": 1754060085.01473}}}
{"text": "2025-08-01 16:54:45.022 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.09s\n", "record": {"elapsed": {"repr": "0:00:01.129355", "seconds": 1.129355}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.09s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:45.022205+02:00", "timestamp": 1754060085.022205}}}
{"text": "2025-08-01 16:54:45.023 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:00:01.130905", "seconds": 1.130905}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:45.023755+02:00", "timestamp": 1754060085.023755}}}
{"text": "2025-08-01 16:54:45.027 | INFO     | app.main:request_tracking_middleware:116 - ✅ [79f21c00] POST /api/v1/optimisation/optimisation - 200 - 109.3ms\n", "record": {"elapsed": {"repr": "0:00:01.134916", "seconds": 1.134916}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [79f21c00] POST /api/v1/optimisation/optimisation - 200 - 109.3ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:45.027766+02:00", "timestamp": 1754060085.027766}}}
{"text": "2025-08-01 16:54:58.802 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [7d64b2be] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.909406", "seconds": 14.909406}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [7d64b2be] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:58.802256+02:00", "timestamp": 1754060098.802256}}}
{"text": "2025-08-01 16:54:58.808 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:00:14.915334", "seconds": 14.915334}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:58.808184+02:00", "timestamp": 1754060098.808184}}}
{"text": "2025-08-01 16:54:58.971 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:00:15.078822", "seconds": 15.078822}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:58.971672+02:00", "timestamp": 1754060098.971672}}}
{"text": "2025-08-01 16:54:58.989 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:00:15.096775", "seconds": 15.096775}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:58.989625+02:00", "timestamp": 1754060098.989625}}}
{"text": "2025-08-01 16:54:58.990 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.18s\n", "record": {"elapsed": {"repr": "0:00:15.097544", "seconds": 15.097544}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.18s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:58.990394+02:00", "timestamp": 1754060098.990394}}}
{"text": "2025-08-01 16:54:58.991 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:00:15.099085", "seconds": 15.099085}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:58.991935+02:00", "timestamp": 1754060098.991935}}}
{"text": "2025-08-01 16:54:59.488 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:88 - SQL principale exécutée en 0.50s, 26 lignes\n", "record": {"elapsed": {"repr": "0:00:15.596079", "seconds": 15.596079}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 88, "message": "SQL principale exécutée en 0.50s, 26 lignes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:59.488929+02:00", "timestamp": 1754060099.488929}}}
{"text": "2025-08-01 16:54:59.489 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:103 - 2 groupes trouvés après agrégation\n", "record": {"elapsed": {"repr": "0:00:15.596773", "seconds": 15.596773}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "2 groupes trouvés après agrégation", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:54:59.489623+02:00", "timestamp": 1754060099.489623}}}
{"text": "2025-08-01 16:55:00.106 | DEBUG    | app.services.optimisation.optimisation_service:_get_sales_history_for_trend:195 - Historique tendance récupéré: 2 groupes\n", "record": {"elapsed": {"repr": "0:00:16.213410", "seconds": 16.21341}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_get_sales_history_for_trend", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 195, "message": "Historique tendance récupéré: 2 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:55:00.106260+02:00", "timestamp": 1754060100.10626}}}
{"text": "2025-08-01 16:55:00.107 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:106 - Historique récupéré pour 2 groupes\n", "record": {"elapsed": {"repr": "0:00:16.214472", "seconds": 16.214472}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 106, "message": "Historique récupéré pour 2 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:55:00.107322+02:00", "timestamp": 1754060100.107322}}}
{"text": "2025-08-01 16:55:00.108 | DEBUG    | app.services.optimisation.optimisation_service:_project_next_6_months:234 - Projection 20075-OEM avec 6 mois historiques\n", "record": {"elapsed": {"repr": "0:00:16.215159", "seconds": 16.215159}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_project_next_6_months", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 234, "message": "Projection 20075-OEM avec 6 mois historiques", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:55:00.108009+02:00", "timestamp": 1754060100.108009}}}
{"text": "2025-08-01 16:55:00.110 | DEBUG    | app.services.optimisation.optimisation_service:_project_next_6_months:234 - Projection 20075-PMQ avec 6 mois historiques\n", "record": {"elapsed": {"repr": "0:00:16.217400", "seconds": 16.2174}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_project_next_6_months", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 234, "message": "Projection 20075-PMQ avec 6 mois historiques", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:55:00.110250+02:00", "timestamp": 1754060100.11025}}}
{"text": "2025-08-01 16:55:00.112 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:154 - ✅ Cache set optimisation pour optimisation:group:{\"cod_pro\": 459763, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:00:16.220069", "seconds": 16.220069}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 154, "message": "✅ Cache set optimisation pour optimisation:group:{\"cod_pro\": 459763, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:55:00.112919+02:00", "timestamp": 1754060100.112919}}}
{"text": "2025-08-01 16:55:00.113 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:158 - Optimisation calculée: 2 groupes analysés\n", "record": {"elapsed": {"repr": "0:00:16.220654", "seconds": 16.220654}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 158, "message": "Optimisation calculée: 2 groupes analysés", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:55:00.113504+02:00", "timestamp": 1754060100.113504}}}
{"text": "2025-08-01 16:55:00.117 | INFO     | app.main:request_tracking_middleware:116 - ✅ [7d64b2be] POST /api/v1/optimisation/optimisation - 200 - 1314.9ms\n", "record": {"elapsed": {"repr": "0:00:16.224259", "seconds": 16.224259}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [7d64b2be] POST /api/v1/optimisation/optimisation - 200 - 1314.9ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:55:00.117109+02:00", "timestamp": 1754060100.117109}}}
{"text": "2025-08-01 16:56:08.590 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [7092be4c] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:24.697326", "seconds": 84.697326}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [7092be4c] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:08.590176+02:00", "timestamp": 1754060168.590176}}}
{"text": "2025-08-01 16:56:08.591 | INFO     | app.main:request_tracking_middleware:116 - ✅ [7092be4c] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.2ms\n", "record": {"elapsed": {"repr": "0:01:24.698482", "seconds": 84.698482}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [7092be4c] OPTIONS /api/v1/optimisation/optimisation - 200 - 1.2ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:08.591332+02:00", "timestamp": 1754060168.591332}}}
{"text": "2025-08-01 16:56:08.598 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [db45b24a] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:24.705729", "seconds": 84.705729}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [db45b24a] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:08.598579+02:00", "timestamp": 1754060168.598579}}}
{"text": "2025-08-01 16:56:08.601 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:24.708732", "seconds": 84.708732}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:08.601582+02:00", "timestamp": 1754060168.601582}}}
{"text": "2025-08-01 16:56:08.620 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:01:24.728131", "seconds": 84.728131}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:08.620981+02:00", "timestamp": 1754060168.620981}}}
{"text": "2025-08-01 16:56:08.635 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:01:24.742663", "seconds": 84.742663}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:08.635513+02:00", "timestamp": 1754060168.635513}}}
{"text": "2025-08-01 16:56:08.636 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.03s\n", "record": {"elapsed": {"repr": "0:01:24.743509", "seconds": 84.743509}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.03s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:08.636359+02:00", "timestamp": 1754060168.636359}}}
{"text": "2025-08-01 16:56:08.638 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:01:24.745503", "seconds": 84.745503}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:08.638353+02:00", "timestamp": 1754060168.638353}}}
{"text": "2025-08-01 16:56:08.643 | INFO     | app.main:request_tracking_middleware:116 - ✅ [db45b24a] POST /api/v1/optimisation/optimisation - 200 - 45.4ms\n", "record": {"elapsed": {"repr": "0:01:24.751114", "seconds": 84.751114}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [db45b24a] POST /api/v1/optimisation/optimisation - 200 - 45.4ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:08.643964+02:00", "timestamp": 1754060168.643964}}}
{"text": "2025-08-01 16:56:11.650 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [bb5189ca] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:27.757999", "seconds": 87.757999}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [bb5189ca] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:11.650849+02:00", "timestamp": 1754060171.650849}}}
{"text": "2025-08-01 16:56:11.653 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:01:27.760444", "seconds": 87.760444}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:11.653294+02:00", "timestamp": 1754060171.653294}}}
{"text": "2025-08-01 16:56:11.654 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:01:27.761674", "seconds": 87.761674}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:11.654524+02:00", "timestamp": 1754060171.654524}}}
{"text": "2025-08-01 16:56:11.655 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:01:27.762155", "seconds": 87.762155}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:11.655005+02:00", "timestamp": 1754060171.655005}}}
{"text": "2025-08-01 16:56:11.657 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:01:27.764449", "seconds": 87.764449}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:11.657299+02:00", "timestamp": 1754060171.657299}}}
{"text": "2025-08-01 16:56:11.664 | INFO     | app.main:request_tracking_middleware:116 - ✅ [bb5189ca] POST /api/v1/optimisation/optimisation - 200 - 13.9ms\n", "record": {"elapsed": {"repr": "0:01:27.772129", "seconds": 87.772129}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [bb5189ca] POST /api/v1/optimisation/optimisation - 200 - 13.9ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:56:11.664979+02:00", "timestamp": 1754060171.664979}}}
{"text": "2025-08-01 16:58:00.513 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [3dcdf240] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:16.620986", "seconds": 196.620986}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [3dcdf240] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:00.513836+02:00", "timestamp": 1754060280.513836}}}
{"text": "2025-08-01 16:58:00.516 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:03:16.624126", "seconds": 196.624126}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:00.516976+02:00", "timestamp": 1754060280.516976}}}
{"text": "2025-08-01 16:58:00.517 | WARNING  | app.services.optimisation.optimisation_service:evaluate_group_optimization:25 - Payload vide\n", "record": {"elapsed": {"repr": "0:03:16.624802", "seconds": 196.624802}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 25, "message": "Payload vide", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:00.517652+02:00", "timestamp": 1754060280.517652}}}
{"text": "2025-08-01 16:58:00.519 | INFO     | app.main:request_tracking_middleware:116 - ✅ [3dcdf240] POST /api/v1/optimisation/optimisation - 200 - 5.3ms\n", "record": {"elapsed": {"repr": "0:03:16.626239", "seconds": 196.626239}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [3dcdf240] POST /api/v1/optimisation/optimisation - 200 - 5.3ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:00.519089+02:00", "timestamp": 1754060280.519089}}}
{"text": "2025-08-01 16:58:00.902 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [3826eedc] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:17.009516", "seconds": 197.009516}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [3826eedc] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:00.902366+02:00", "timestamp": 1754060280.902366}}}
{"text": "2025-08-01 16:58:01.131 | INFO     | app.main:request_tracking_middleware:116 - ✅ [3826eedc] GET /api/v1/suggestions/refint-codpro - 200 - 228.8ms\n", "record": {"elapsed": {"repr": "0:03:17.238347", "seconds": 197.238347}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [3826eedc] GET /api/v1/suggestions/refint-codpro - 200 - 228.8ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:01.131197+02:00", "timestamp": 1754060281.131197}}}
{"text": "2025-08-01 16:58:03.542 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [d6bb42e5] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:19.649764", "seconds": 199.649764}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [d6bb42e5] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:03.542614+02:00", "timestamp": 1754060283.542614}}}
{"text": "2025-08-01 16:58:03.716 | INFO     | app.main:request_tracking_middleware:116 - ✅ [d6bb42e5] GET /api/v1/suggestions/refint-codpro - 200 - 174.2ms\n", "record": {"elapsed": {"repr": "0:03:19.823989", "seconds": 199.823989}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [d6bb42e5] GET /api/v1/suggestions/refint-codpro - 200 - 174.2ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:03.716839+02:00", "timestamp": 1754060283.716839}}}
{"text": "2025-08-01 16:58:04.404 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [74df558b] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:03:20.511471", "seconds": 200.511471}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [74df558b] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:04.404321+02:00", "timestamp": 1754060284.404321}}}
{"text": "2025-08-01 16:58:04.407 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:03:20.514871", "seconds": 200.514871}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:04.407721+02:00", "timestamp": 1754060284.407721}}}
{"text": "2025-08-01 16:58:04.423 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:03:20.530414", "seconds": 200.530414}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:04.423264+02:00", "timestamp": 1754060284.423264}}}
{"text": "2025-08-01 16:58:04.441 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:03:20.549144", "seconds": 200.549144}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:04.441994+02:00", "timestamp": 1754060284.441994}}}
{"text": "2025-08-01 16:58:04.442 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.03s\n", "record": {"elapsed": {"repr": "0:03:20.549896", "seconds": 200.549896}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.03s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:04.442746+02:00", "timestamp": 1754060284.442746}}}
{"text": "2025-08-01 16:58:04.444 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:03:20.551286", "seconds": 200.551286}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:04.444136+02:00", "timestamp": 1754060284.444136}}}
{"text": "2025-08-01 16:58:04.447 | INFO     | app.main:request_tracking_middleware:116 - ✅ [74df558b] POST /api/v1/optimisation/optimisation - 200 - 43.1ms\n", "record": {"elapsed": {"repr": "0:03:20.554538", "seconds": 200.554538}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [74df558b] POST /api/v1/optimisation/optimisation - 200 - 43.1ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 16:58:04.447388+02:00", "timestamp": 1754060284.447388}}}
{"text": "2025-08-01 17:05:33.113 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [3bb171aa] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:10:49.221034", "seconds": 649.221034}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [3bb171aa] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:33.113884+02:00", "timestamp": 1754060733.113884}}}
{"text": "2025-08-01 17:05:33.118 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:10:49.225554", "seconds": 649.225554}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:33.118404+02:00", "timestamp": 1754060733.118404}}}
{"text": "2025-08-01 17:05:33.118 | WARNING  | app.services.optimisation.optimisation_service:evaluate_group_optimization:25 - Payload vide\n", "record": {"elapsed": {"repr": "0:10:49.226149", "seconds": 649.226149}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 25, "message": "Payload vide", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:33.118999+02:00", "timestamp": 1754060733.118999}}}
{"text": "2025-08-01 17:05:33.121 | INFO     | app.main:request_tracking_middleware:116 - ✅ [3bb171aa] POST /api/v1/optimisation/optimisation - 200 - 7.2ms\n", "record": {"elapsed": {"repr": "0:10:49.228252", "seconds": 649.228252}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [3bb171aa] POST /api/v1/optimisation/optimisation - 200 - 7.2ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:33.121102+02:00", "timestamp": 1754060733.121102}}}
{"text": "2025-08-01 17:05:34.086 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [247e8261] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:10:50.193733", "seconds": 650.193733}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [247e8261] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:34.086583+02:00", "timestamp": 1754060734.086583}}}
{"text": "2025-08-01 17:05:34.325 | INFO     | app.main:request_tracking_middleware:116 - ✅ [247e8261] GET /api/v1/suggestions/refint-codpro - 200 - 238.5ms\n", "record": {"elapsed": {"repr": "0:10:50.432326", "seconds": 650.432326}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [247e8261] GET /api/v1/suggestions/refint-codpro - 200 - 238.5ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:34.325176+02:00", "timestamp": 1754060734.325176}}}
{"text": "2025-08-01 17:05:39.294 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [0330ee5d] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:10:55.402134", "seconds": 655.402134}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [0330ee5d] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:39.294984+02:00", "timestamp": 1754060739.294984}}}
{"text": "2025-08-01 17:05:39.471 | INFO     | app.main:request_tracking_middleware:116 - ✅ [0330ee5d] GET /api/v1/suggestions/refint-codpro - 200 - 176.1ms\n", "record": {"elapsed": {"repr": "0:10:55.578243", "seconds": 655.578243}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [0330ee5d] GET /api/v1/suggestions/refint-codpro - 200 - 176.1ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:39.471093+02:00", "timestamp": 1754060739.471093}}}
{"text": "2025-08-01 17:05:39.986 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [8005792e] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:10:56.093698", "seconds": 656.093698}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [8005792e] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:39.986548+02:00", "timestamp": 1754060739.986548}}}
{"text": "2025-08-01 17:05:39.990 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:10:56.097447", "seconds": 656.097447}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:39.990297+02:00", "timestamp": 1754060739.990297}}}
{"text": "2025-08-01 17:05:40.008 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:10:56.115463", "seconds": 656.115463}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:40.008313+02:00", "timestamp": 1754060740.008313}}}
{"text": "2025-08-01 17:05:40.023 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:10:56.130826", "seconds": 656.130826}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:40.023676+02:00", "timestamp": 1754060740.023676}}}
{"text": "2025-08-01 17:05:40.024 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.03s\n", "record": {"elapsed": {"repr": "0:10:56.131931", "seconds": 656.131931}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.03s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:40.024781+02:00", "timestamp": 1754060740.024781}}}
{"text": "2025-08-01 17:05:40.026 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:50 - Lancement requête SQL principale avec CTE CodProList\n", "record": {"elapsed": {"repr": "0:10:56.133248", "seconds": 656.133248}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 50, "message": "Lancement requête SQL principale avec CTE CodProList", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:40.026098+02:00", "timestamp": 1754060740.026098}}}
{"text": "2025-08-01 17:05:40.649 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:88 - SQL principale exécutée en 0.62s, 26 lignes\n", "record": {"elapsed": {"repr": "0:10:56.757109", "seconds": 656.757109}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 88, "message": "SQL principale exécutée en 0.62s, 26 lignes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:40.649959+02:00", "timestamp": 1754060740.649959}}}
{"text": "2025-08-01 17:05:40.650 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:103 - 2 groupes trouvés après agrégation\n", "record": {"elapsed": {"repr": "0:10:56.757749", "seconds": 656.757749}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 103, "message": "2 groupes trouvés après agrégation", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:40.650599+02:00", "timestamp": 1754060740.650599}}}
{"text": "2025-08-01 17:05:41.260 | DEBUG    | app.services.optimisation.optimisation_service:_get_sales_history_for_trend:195 - Historique tendance récupéré: 2 groupes\n", "record": {"elapsed": {"repr": "0:10:57.367495", "seconds": 657.367495}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_get_sales_history_for_trend", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 195, "message": "Historique tendance récupéré: 2 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:41.260345+02:00", "timestamp": 1754060741.260345}}}
{"text": "2025-08-01 17:05:41.261 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:106 - Historique récupéré pour 2 groupes\n", "record": {"elapsed": {"repr": "0:10:57.368520", "seconds": 657.36852}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 106, "message": "Historique récupéré pour 2 groupes", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:41.261370+02:00", "timestamp": 1754060741.26137}}}
{"text": "2025-08-01 17:05:41.262 | DEBUG    | app.services.optimisation.optimisation_service:_project_next_6_months:234 - Projection 20075-OEM avec 6 mois historiques\n", "record": {"elapsed": {"repr": "0:10:57.369391", "seconds": 657.369391}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_project_next_6_months", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 234, "message": "Projection 20075-OEM avec 6 mois historiques", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:41.262241+02:00", "timestamp": 1754060741.262241}}}
{"text": "2025-08-01 17:05:41.263 | DEBUG    | app.services.optimisation.optimisation_service:_project_next_6_months:234 - Projection 20075-PMQ avec 6 mois historiques\n", "record": {"elapsed": {"repr": "0:10:57.371051", "seconds": 657.371051}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "_project_next_6_months", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 234, "message": "Projection 20075-PMQ avec 6 mois historiques", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:41.263901+02:00", "timestamp": 1754060741.263901}}}
{"text": "2025-08-01 17:05:41.266 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:154 - ✅ Cache set optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:10:57.373783", "seconds": 657.373783}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 154, "message": "✅ Cache set optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:41.266633+02:00", "timestamp": 1754060741.266633}}}
{"text": "2025-08-01 17:05:41.267 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:158 - Optimisation calculée: 2 groupes analysés\n", "record": {"elapsed": {"repr": "0:10:57.374492", "seconds": 657.374492}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 158, "message": "Optimisation calculée: 2 groupes analysés", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:41.267342+02:00", "timestamp": 1754060741.267342}}}
{"text": "2025-08-01 17:05:41.272 | INFO     | app.main:request_tracking_middleware:116 - ✅ [8005792e] POST /api/v1/optimisation/optimisation - 200 - 1286.3ms\n", "record": {"elapsed": {"repr": "0:10:57.379941", "seconds": 657.379941}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [8005792e] POST /api/v1/optimisation/optimisation - 200 - 1286.3ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:05:41.272791+02:00", "timestamp": 1754060741.272791}}}
{"text": "2025-08-01 17:08:54.541 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [6ca18a50] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:14:10.649072", "seconds": 850.649072}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [6ca18a50] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:08:54.541922+02:00", "timestamp": 1754060934.541922}}}
{"text": "2025-08-01 17:08:54.544 | INFO     | app.main:request_tracking_middleware:116 - ✅ [6ca18a50] OPTIONS /api/v1/optimisation/optimisation - 200 - 2.3ms\n", "record": {"elapsed": {"repr": "0:14:10.651220", "seconds": 850.65122}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [6ca18a50] OPTIONS /api/v1/optimisation/optimisation - 200 - 2.3ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:08:54.544070+02:00", "timestamp": 1754060934.54407}}}
{"text": "2025-08-01 17:08:54.552 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [2a80cb40] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:14:10.659517", "seconds": 850.659517}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [2a80cb40] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:08:54.552367+02:00", "timestamp": 1754060934.552367}}}
{"text": "2025-08-01 17:08:54.555 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:14:10.662349", "seconds": 850.662349}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:08:54.555199+02:00", "timestamp": 1754060934.555199}}}
{"text": "2025-08-01 17:08:54.652 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:14:10.759229", "seconds": 850.759229}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:08:54.652079+02:00", "timestamp": 1754060934.652079}}}
{"text": "2025-08-01 17:08:54.708 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:14:10.815448", "seconds": 850.815448}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:08:54.708298+02:00", "timestamp": 1754060934.708298}}}
{"text": "2025-08-01 17:08:54.713 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.16s\n", "record": {"elapsed": {"repr": "0:14:10.820903", "seconds": 850.820903}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.16s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:08:54.713753+02:00", "timestamp": 1754060934.713753}}}
{"text": "2025-08-01 17:08:54.715 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:14:10.822676", "seconds": 850.822676}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:08:54.715526+02:00", "timestamp": 1754060934.715526}}}
{"text": "2025-08-01 17:08:54.720 | INFO     | app.main:request_tracking_middleware:116 - ✅ [2a80cb40] POST /api/v1/optimisation/optimisation - 200 - 168.4ms\n", "record": {"elapsed": {"repr": "0:14:10.827898", "seconds": 850.827898}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [2a80cb40] POST /api/v1/optimisation/optimisation - 200 - 168.4ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:08:54.720748+02:00", "timestamp": 1754060934.720748}}}
{"text": "2025-08-01 17:09:27.194 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [6503e460] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:14:43.302006", "seconds": 883.302006}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [6503e460] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:09:27.194856+02:00", "timestamp": 1754060967.194856}}}
{"text": "2025-08-01 17:09:27.513 | INFO     | app.main:request_tracking_middleware:116 - ✅ [6503e460] GET /api/v1/suggestions/refint-codpro - 200 - 318.3ms\n", "record": {"elapsed": {"repr": "0:14:43.620270", "seconds": 883.62027}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [6503e460] GET /api/v1/suggestions/refint-codpro - 200 - 318.3ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:09:27.513120+02:00", "timestamp": 1754060967.51312}}}
{"text": "2025-08-01 17:10:11.910 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [778ba281] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:15:28.017596", "seconds": 928.017596}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [778ba281] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:10:11.910446+02:00", "timestamp": 1754061011.910446}}}
{"text": "2025-08-01 17:10:12.118 | INFO     | app.main:request_tracking_middleware:116 - ✅ [778ba281] GET /api/v1/suggestions/refint-codpro - 200 - 207.9ms\n", "record": {"elapsed": {"repr": "0:15:28.225545", "seconds": 928.225545}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [778ba281] GET /api/v1/suggestions/refint-codpro - 200 - 207.9ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:10:12.118395+02:00", "timestamp": 1754061012.118395}}}
{"text": "2025-08-01 17:12:45.495 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [03bcaaea] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:18:01.602970", "seconds": 1081.60297}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [03bcaaea] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:12:45.495820+02:00", "timestamp": 1754061165.49582}}}
{"text": "2025-08-01 17:12:46.312 | INFO     | app.main:request_tracking_middleware:116 - ✅ [03bcaaea] GET /api/v1/suggestions/refint-codpro - 200 - 816.8ms\n", "record": {"elapsed": {"repr": "0:18:02.419736", "seconds": 1082.419736}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [03bcaaea] GET /api/v1/suggestions/refint-codpro - 200 - 816.8ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:12:46.312586+02:00", "timestamp": 1754061166.312586}}}
{"text": "2025-08-01 17:12:47.293 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [defebb71] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:18:03.401101", "seconds": 1083.401101}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [defebb71] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:12:47.293951+02:00", "timestamp": 1754061167.293951}}}
{"text": "2025-08-01 17:12:47.297 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [7a6cb83c] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:18:03.404506", "seconds": 1083.404506}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [7a6cb83c] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:12:47.297356+02:00", "timestamp": 1754061167.297356}}}
{"text": "2025-08-01 17:12:47.485 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [48c3d04b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:18:03.592740", "seconds": 1083.59274}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [48c3d04b] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:12:47.485590+02:00", "timestamp": 1754061167.48559}}}
{"text": "2025-08-01 17:12:47.953 | INFO     | app.main:request_tracking_middleware:116 - ✅ [defebb71] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 659.1ms\n", "record": {"elapsed": {"repr": "0:18:04.060274", "seconds": 1084.060274}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [defebb71] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 659.1ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:12:47.953124+02:00", "timestamp": 1754061167.953124}}}
{"text": "2025-08-01 17:12:48.726 | INFO     | app.main:request_tracking_middleware:116 - ✅ [48c3d04b] GET /api/v1/suggestions/refint-codpro - 200 - 1240.5ms\n", "record": {"elapsed": {"repr": "0:18:04.833232", "seconds": 1084.833232}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [48c3d04b] GET /api/v1/suggestions/refint-codpro - 200 - 1240.5ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:12:48.726082+02:00", "timestamp": 1754061168.726082}}}
{"text": "2025-08-01 17:12:49.638 | INFO     | app.main:request_tracking_middleware:116 - ✅ [7a6cb83c] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 2341.4ms\n", "record": {"elapsed": {"repr": "0:18:05.745936", "seconds": 1085.745936}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [7a6cb83c] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 2341.4ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:12:49.638786+02:00", "timestamp": 1754061169.638786}}}
{"text": "2025-08-01 17:12:50.471 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [08889fb9] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:18:06.579132", "seconds": 1086.579132}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [08889fb9] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:12:50.471982+02:00", "timestamp": 1754061170.471982}}}
{"text": "2025-08-01 17:12:51.485 | INFO     | app.main:request_tracking_middleware:116 - ✅ [08889fb9] GET /api/v1/suggestions/refint-codpro - 200 - 1013.4ms\n", "record": {"elapsed": {"repr": "0:18:07.592533", "seconds": 1087.592533}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [08889fb9] GET /api/v1/suggestions/refint-codpro - 200 - 1013.4ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:12:51.485383+02:00", "timestamp": 1754061171.485383}}}
{"text": "2025-08-01 17:13:04.696 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [bf40f8f7] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:18:20.803300", "seconds": 1100.8033}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [bf40f8f7] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:04.696150+02:00", "timestamp": 1754061184.69615}}}
{"text": "2025-08-01 17:13:04.697 | INFO     | app.main:request_tracking_middleware:116 - ✅ [bf40f8f7] OPTIONS /api/v1/dashboard/fiche - 200 - 1.6ms\n", "record": {"elapsed": {"repr": "0:18:20.804874", "seconds": 1100.804874}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [bf40f8f7] OPTIONS /api/v1/dashboard/fiche - 200 - 1.6ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:04.697724+02:00", "timestamp": 1754061184.697724}}}
{"text": "2025-08-01 17:13:04.764 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [91e45f25] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:18:20.871641", "seconds": 1100.871641}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [91e45f25] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:04.764491+02:00", "timestamp": 1754061184.764491}}}
{"text": "2025-08-01 17:13:05.333 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:18:21.440602", "seconds": 1101.440602}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:05.333452+02:00", "timestamp": 1754061185.333452}}}
{"text": "2025-08-01 17:13:06.676 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:18:22.783703", "seconds": 1102.783703}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:06.676553+02:00", "timestamp": 1754061186.676553}}}
{"text": "2025-08-01 17:13:06.690 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:18:22.797799", "seconds": 1102.797799}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:06.690649+02:00", "timestamp": 1754061186.690649}}}
{"text": "2025-08-01 17:13:07.445 | DEBUG    | app.services.products.detail_service:get_product_details:77 - ✅ Détails produits récupérés: 29 éléments\n", "record": {"elapsed": {"repr": "0:18:23.553148", "seconds": 1103.553148}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 77, "message": "✅ Détails produits récupérés: 29 éléments", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:07.445998+02:00", "timestamp": 1754061187.445998}}}
{"text": "2025-08-01 17:13:07.447 | DEBUG    | app.services.products.detail_service:get_product_details:82 - ✅ Cache set produit:details pour produit:details:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:18:23.555072", "seconds": 1103.555072}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 82, "message": "✅ Cache set produit:details pour produit:details:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:07.447922+02:00", "timestamp": 1754061187.447922}}}
{"text": "2025-08-01 17:13:07.472 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:18:23.579514", "seconds": 1103.579514}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:07.472364+02:00", "timestamp": 1754061187.472364}}}
{"text": "2025-08-01 17:13:12.189 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:77 - ✅ Agrégat ventes récupéré: 20 éléments\n", "record": {"elapsed": {"repr": "0:18:28.296932", "seconds": 1108.296932}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 77, "message": "✅ Agrégat ventes récupéré: 20 éléments", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:12.189782+02:00", "timestamp": 1754061192.189782}}}
{"text": "2025-08-01 17:13:12.203 | DEBUG    | app.services.sales.sales_service:get_sales_aggregate:81 - ✅ Cache set sales:agg pour sales:agg:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:18:28.310849", "seconds": 1108.310849}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_aggregate", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 81, "message": "✅ Cache set sales:agg pour sales:agg:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:12.203699+02:00", "timestamp": 1754061192.203699}}}
{"text": "2025-08-01 17:13:12.207 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:18:28.314590", "seconds": 1108.31459}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:12.207440+02:00", "timestamp": 1754061192.20744}}}
{"text": "2025-08-01 17:13:16.140 | DEBUG    | app.services.sales.sales_service:get_sales_history:162 - ✅ Historique ventes récupéré: 138 éléments pour période >= 2024-09-01\n", "record": {"elapsed": {"repr": "0:18:32.247282", "seconds": 1112.247282}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 162, "message": "✅ Historique ventes récupéré: 138 éléments pour période >= 2024-09-01", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:16.140132+02:00", "timestamp": 1754061196.140132}}}
{"text": "2025-08-01 17:13:16.143 | DEBUG    | app.services.sales.sales_service:get_sales_history:166 - ✅ Cache set sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:18:32.251103", "seconds": 1112.251103}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 166, "message": "✅ Cache set sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:16.143953+02:00", "timestamp": 1754061196.143953}}}
{"text": "2025-08-01 17:13:16.159 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:18:32.266817", "seconds": 1112.266817}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:16.159667+02:00", "timestamp": 1754061196.159667}}}
{"text": "2025-08-01 17:13:17.236 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:63 - ✅ Stock actuel récupéré: 145 éléments\n", "record": {"elapsed": {"repr": "0:18:33.343335", "seconds": 1113.343335}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 63, "message": "✅ Stock actuel récupéré: 145 éléments", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:17.236185+02:00", "timestamp": 1754061197.236185}}}
{"text": "2025-08-01 17:13:17.241 | DEBUG    | app.services.stock.stock_service:get_stock_actuel:67 - ✅ Cache set stock:actuel pour stock:actuel:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:18:33.348260", "seconds": 1113.34826}, "exception": null, "extra": {}, "file": {"name": "stock_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\stock\\stock_service.py"}, "function": "get_stock_actuel", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 67, "message": "✅ Cache set stock:actuel pour stock:actuel:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "stock_service", "name": "app.services.stock.stock_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:17.241110+02:00", "timestamp": 1754061197.24111}}}
{"text": "2025-08-01 17:13:17.251 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:18:33.358269", "seconds": 1113.358269}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:17.251119+02:00", "timestamp": 1754061197.251119}}}
{"text": "2025-08-01 17:13:19.101 | DEBUG    | app.services.purchase.purchase_service:get_purchase_price:63 - ✅ Cache enregistré purchase_price pour purchase:price:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:18:35.208457", "seconds": 1115.208457}, "exception": null, "extra": {}, "file": {"name": "purchase_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\purchase\\purchase_service.py"}, "function": "get_purchase_price", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 63, "message": "✅ Cache enregistré purchase_price pour purchase:price:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "purchase_service", "name": "app.services.purchase.purchase_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:19.101307+02:00", "timestamp": 1754061199.101307}}}
{"text": "2025-08-01 17:13:19.150 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:18:35.257726", "seconds": 1115.257726}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:19.150576+02:00", "timestamp": 1754061199.150576}}}
{"text": "2025-08-01 17:13:19.231 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:18:35.338908", "seconds": 1115.338908}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:19.231758+02:00", "timestamp": 1754061199.231758}}}
{"text": "2025-08-01 17:13:20.920 | DEBUG    | app.services.products.match_service:get_codpro_match_list:76 - ✅ Matches récupérés: 549 éléments uniques\n", "record": {"elapsed": {"repr": "0:18:37.027260", "seconds": 1117.02726}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Matches récupérés: 549 éléments uniques", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:20.920110+02:00", "timestamp": 1754061200.92011}}}
{"text": "2025-08-01 17:13:20.924 | DEBUG    | app.services.products.match_service:get_codpro_match_list:81 - ✅ Cache set get_codpro_match_list pour match:codpro:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}\n", "record": {"elapsed": {"repr": "0:18:37.031950", "seconds": 1117.03195}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 81, "message": "✅ Cache set get_codpro_match_list pour match:codpro:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1}", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:20.924800+02:00", "timestamp": 1754061200.9248}}}
{"text": "2025-08-01 17:13:20.952 | INFO     | app.main:request_tracking_middleware:116 - ✅ [91e45f25] POST /api/v1/dashboard/fiche - 200 - 16188.2ms\n", "record": {"elapsed": {"repr": "0:18:37.059841", "seconds": 1117.059841}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [91e45f25] POST /api/v1/dashboard/fiche - 200 - 16188.2ms", "module": "main", "name": "app.main", "process": {"id": 14284, "name": "SpawnProcess-8"}, "thread": {"id": 14532, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:20.952691+02:00", "timestamp": 1754061200.952691}}}
{"text": "2025-08-01 17:13:56.989 | INFO     | app.main:lifespan:38 - 🚀 Initialisation backend CBM_GRC_Matcher...\n", "record": {"elapsed": {"repr": "0:00:02.115296", "seconds": 2.115296}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 38, "message": "🚀 Initialisation backend CBM_GRC_Matcher...", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:56.989048+02:00", "timestamp": 1754061236.989048}}}
{"text": "2025-08-01 17:13:57.004 | INFO     | app.common.redis_client:test_connection:19 - ✅ Redis OK\n", "record": {"elapsed": {"repr": "0:00:02.130293", "seconds": 2.130293}, "exception": null, "extra": {}, "file": {"name": "redis_client.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\common\\redis_client.py"}, "function": "test_connection", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 19, "message": "✅ Redis OK", "module": "redis_client", "name": "app.common.redis_client", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:57.004045+02:00", "timestamp": 1754061237.004045}}}
{"text": "2025-08-01 17:13:57.004 | INFO     | app.main:lifespan:47 - ✅ Redis connecté\n", "record": {"elapsed": {"repr": "0:00:02.130813", "seconds": 2.130813}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 47, "message": "✅ Redis connecté", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:57.004565+02:00", "timestamp": 1754061237.004565}}}
{"text": "2025-08-01 17:13:57.422 | INFO     | app.main:lifespan:54 - ✅ Base de données connectée\n", "record": {"elapsed": {"repr": "0:00:02.549067", "seconds": 2.549067}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 54, "message": "✅ Base de données connectée", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:57.422819+02:00", "timestamp": 1754061237.422819}}}
{"text": "2025-08-01 17:13:57.423 | INFO     | app.main:lifespan:63 - ✅ Backend prêt - Tous les services sont opérationnels\n", "record": {"elapsed": {"repr": "0:00:02.549553", "seconds": 2.549553}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "lifespan", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 63, "message": "✅ Backend prêt - Tous les services sont opérationnels", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:13:57.423305+02:00", "timestamp": 1754061237.423305}}}
{"text": "2025-08-01 17:14:05.160 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c191dc7b] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.287045", "seconds": 10.287045}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c191dc7b] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:14:05.160797+02:00", "timestamp": 1754061245.160797}}}
{"text": "2025-08-01 17:14:05.170 | INFO     | app.main:request_tracking_middleware:116 - ✅ [c191dc7b] POST /api/v1/dashboard/fiche - 200 - 9.8ms\n", "record": {"elapsed": {"repr": "0:00:10.296826", "seconds": 10.296826}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [c191dc7b] POST /api/v1/dashboard/fiche - 200 - 9.8ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:14:05.170578+02:00", "timestamp": 1754061245.170578}}}
{"text": "2025-08-01 17:16:10.148 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [be52d5ad] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:15.274250", "seconds": 135.27425}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [be52d5ad] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:10.148002+02:00", "timestamp": 1754061370.148002}}}
{"text": "2025-08-01 17:16:10.160 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:02:15.287024", "seconds": 135.287024}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:10.160776+02:00", "timestamp": 1754061370.160776}}}
{"text": "2025-08-01 17:16:10.161 | WARNING  | app.services.optimisation.optimisation_service:evaluate_group_optimization:25 - Payload vide\n", "record": {"elapsed": {"repr": "0:02:15.287771", "seconds": 135.287771}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 25, "message": "Payload vide", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:10.161523+02:00", "timestamp": 1754061370.161523}}}
{"text": "2025-08-01 17:16:10.164 | INFO     | app.main:request_tracking_middleware:116 - ✅ [be52d5ad] POST /api/v1/optimisation/optimisation - 200 - 16.6ms\n", "record": {"elapsed": {"repr": "0:02:15.290800", "seconds": 135.2908}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [be52d5ad] POST /api/v1/optimisation/optimisation - 200 - 16.6ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:10.164552+02:00", "timestamp": 1754061370.164552}}}
{"text": "2025-08-01 17:16:13.692 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [5098159c] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:18.818348", "seconds": 138.818348}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [5098159c] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:13.692100+02:00", "timestamp": 1754061373.6921}}}
{"text": "2025-08-01 17:16:13.694 | INFO     | app.main:request_tracking_middleware:116 - ✅ [5098159c] OPTIONS /api/v1/optimisation/optimisation - 200 - 2.7ms\n", "record": {"elapsed": {"repr": "0:02:18.820854", "seconds": 138.820854}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [5098159c] OPTIONS /api/v1/optimisation/optimisation - 200 - 2.7ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:13.694606+02:00", "timestamp": 1754061373.694606}}}
{"text": "2025-08-01 17:16:13.701 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [32260ad0] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:18.827475", "seconds": 138.827475}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [32260ad0] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:13.701227+02:00", "timestamp": 1754061373.701227}}}
{"text": "2025-08-01 17:16:13.709 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:02:18.835275", "seconds": 138.835275}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:13.709027+02:00", "timestamp": 1754061373.709027}}}
{"text": "2025-08-01 17:16:13.709 | WARNING  | app.services.optimisation.optimisation_service:evaluate_group_optimization:25 - Payload vide\n", "record": {"elapsed": {"repr": "0:02:18.836003", "seconds": 138.836003}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "⚠️", "name": "WARNING", "no": 30}, "line": 25, "message": "Payload vide", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:13.709755+02:00", "timestamp": 1754061373.709755}}}
{"text": "2025-08-01 17:16:13.711 | INFO     | app.main:request_tracking_middleware:116 - ✅ [32260ad0] POST /api/v1/optimisation/optimisation - 200 - 10.1ms\n", "record": {"elapsed": {"repr": "0:02:18.837541", "seconds": 138.837541}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [32260ad0] POST /api/v1/optimisation/optimisation - 200 - 10.1ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:13.711293+02:00", "timestamp": 1754061373.711293}}}
{"text": "2025-08-01 17:16:23.545 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [e13a83ee] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:28.671868", "seconds": 148.671868}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [e13a83ee] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:23.545620+02:00", "timestamp": 1754061383.54562}}}
{"text": "2025-08-01 17:16:23.839 | INFO     | app.main:request_tracking_middleware:116 - ✅ [e13a83ee] GET /api/v1/suggestions/refint-codpro - 200 - 293.9ms\n", "record": {"elapsed": {"repr": "0:02:28.965736", "seconds": 148.965736}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [e13a83ee] GET /api/v1/suggestions/refint-codpro - 200 - 293.9ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:23.839488+02:00", "timestamp": 1754061383.839488}}}
{"text": "2025-08-01 17:16:24.002 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [2c420e25] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:29.129044", "seconds": 149.129044}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [2c420e25] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:24.002796+02:00", "timestamp": 1754061384.002796}}}
{"text": "2025-08-01 17:16:24.197 | INFO     | app.main:request_tracking_middleware:116 - ✅ [2c420e25] GET /api/v1/suggestions/refint-codpro - 200 - 195.2ms\n", "record": {"elapsed": {"repr": "0:02:29.324240", "seconds": 149.32424}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [2c420e25] GET /api/v1/suggestions/refint-codpro - 200 - 195.2ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:24.197992+02:00", "timestamp": 1754061384.197992}}}
{"text": "2025-08-01 17:16:25.273 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [76ae53b8] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:30.399489", "seconds": 150.399489}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [76ae53b8] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:25.273241+02:00", "timestamp": 1754061385.273241}}}
{"text": "2025-08-01 17:16:25.463 | INFO     | app.main:request_tracking_middleware:116 - ✅ [76ae53b8] GET /api/v1/suggestions/refint-codpro - 200 - 190.2ms\n", "record": {"elapsed": {"repr": "0:02:30.589692", "seconds": 150.589692}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [76ae53b8] GET /api/v1/suggestions/refint-codpro - 200 - 190.2ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:25.463444+02:00", "timestamp": 1754061385.463444}}}
{"text": "2025-08-01 17:16:26.849 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [a4fcf5f8] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:31.975839", "seconds": 151.975839}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [a4fcf5f8] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:26.849591+02:00", "timestamp": 1754061386.849591}}}
{"text": "2025-08-01 17:16:26.855 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [93992e4c] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:31.981651", "seconds": 151.981651}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [93992e4c] GET /api/v1/suggestions/refcrn_by_codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:26.855403+02:00", "timestamp": 1754061386.855403}}}
{"text": "2025-08-01 17:16:26.970 | INFO     | app.main:request_tracking_middleware:116 - ✅ [a4fcf5f8] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 120.9ms\n", "record": {"elapsed": {"repr": "0:02:32.096768", "seconds": 152.096768}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [a4fcf5f8] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 120.9ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:26.970520+02:00", "timestamp": 1754061386.97052}}}
{"text": "2025-08-01 17:16:27.041 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [79a9b473] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:32.167673", "seconds": 152.167673}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [79a9b473] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:27.041425+02:00", "timestamp": 1754061387.041425}}}
{"text": "2025-08-01 17:16:27.088 | INFO     | app.main:request_tracking_middleware:116 - ✅ [93992e4c] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 233.0ms\n", "record": {"elapsed": {"repr": "0:02:32.214644", "seconds": 152.214644}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [93992e4c] GET /api/v1/suggestions/refcrn_by_codpro - 200 - 233.0ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:27.088396+02:00", "timestamp": 1754061387.088396}}}
{"text": "2025-08-01 17:16:27.640 | INFO     | app.main:request_tracking_middleware:116 - ✅ [79a9b473] GET /api/v1/suggestions/refint-codpro - 200 - 599.0ms\n", "record": {"elapsed": {"repr": "0:02:32.766649", "seconds": 152.766649}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [79a9b473] GET /api/v1/suggestions/refint-codpro - 200 - 599.0ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:27.640401+02:00", "timestamp": 1754061387.640401}}}
{"text": "2025-08-01 17:16:31.019 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [505651db] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:36.145951", "seconds": 156.145951}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [505651db] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:31.019703+02:00", "timestamp": 1754061391.019703}}}
{"text": "2025-08-01 17:16:31.024 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:02:36.151224", "seconds": 156.151224}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:31.024976+02:00", "timestamp": 1754061391.024976}}}
{"text": "2025-08-01 17:16:31.047 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:02:36.173779", "seconds": 156.173779}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:31.047531+02:00", "timestamp": 1754061391.047531}}}
{"text": "2025-08-01 17:16:31.108 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:02:36.234880", "seconds": 156.23488}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:31.108632+02:00", "timestamp": 1754061391.108632}}}
{"text": "2025-08-01 17:16:31.112 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.09s\n", "record": {"elapsed": {"repr": "0:02:36.238419", "seconds": 156.238419}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.09s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:31.112171+02:00", "timestamp": 1754061391.112171}}}
{"text": "2025-08-01 17:16:31.114 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:02:36.240562", "seconds": 156.240562}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:31.114314+02:00", "timestamp": 1754061391.114314}}}
{"text": "2025-08-01 17:16:31.123 | INFO     | app.main:request_tracking_middleware:116 - ✅ [505651db] POST /api/v1/optimisation/optimisation - 200 - 103.8ms\n", "record": {"elapsed": {"repr": "0:02:36.249707", "seconds": 156.249707}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [505651db] POST /api/v1/optimisation/optimisation - 200 - 103.8ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:31.123459+02:00", "timestamp": 1754061391.123459}}}
{"text": "2025-08-01 17:16:31.887 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [11d2497e] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:02:37.013926", "seconds": 157.013926}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [11d2497e] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:31.887678+02:00", "timestamp": 1754061391.887678}}}
{"text": "2025-08-01 17:16:32.387 | INFO     | app.main:request_tracking_middleware:116 - ✅ [11d2497e] GET /api/v1/suggestions/refint-codpro - 200 - 499.9ms\n", "record": {"elapsed": {"repr": "0:02:37.513754", "seconds": 157.513754}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [11d2497e] GET /api/v1/suggestions/refint-codpro - 200 - 499.9ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:16:32.387506+02:00", "timestamp": 1754061392.387506}}}
{"text": "2025-08-01 17:28:22.166 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [2ceead2a] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:14:27.292368", "seconds": 867.292368}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [2ceead2a] OPTIONS /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:22.166120+02:00", "timestamp": 1754062102.16612}}}
{"text": "2025-08-01 17:28:22.167 | INFO     | app.main:request_tracking_middleware:116 - ✅ [2ceead2a] OPTIONS /api/v1/dashboard/fiche - 200 - 1.6ms\n", "record": {"elapsed": {"repr": "0:14:27.293786", "seconds": 867.293786}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [2ceead2a] OPTIONS /api/v1/dashboard/fiche - 200 - 1.6ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:22.167538+02:00", "timestamp": 1754062102.167538}}}
{"text": "2025-08-01 17:28:22.173 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [c324cb26] POST /api/v1/dashboard/fiche - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:14:27.299517", "seconds": 867.299517}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [c324cb26] POST /api/v1/dashboard/fiche - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:22.173269+02:00", "timestamp": 1754062102.173269}}}
{"text": "2025-08-01 17:28:22.197 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:14:27.323844", "seconds": 867.323844}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:22.197596+02:00", "timestamp": 1754062102.197596}}}
{"text": "2025-08-01 17:28:22.208 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:14:27.334365", "seconds": 867.334365}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:22.208117+02:00", "timestamp": 1754062102.208117}}}
{"text": "2025-08-01 17:28:22.209 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:60 - ✅ Cache hit dashboard:products\n", "record": {"elapsed": {"repr": "0:14:27.335787", "seconds": 867.335787}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 60, "message": "✅ Cache hit dashboard:products", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:22.209539+02:00", "timestamp": 1754062102.209539}}}
{"text": "2025-08-01 17:28:22.210 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:64 - ✅ Cache hit dashboard:sales\n", "record": {"elapsed": {"repr": "0:14:27.336872", "seconds": 867.336872}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 64, "message": "✅ Cache hit dashboard:sales", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:22.210624+02:00", "timestamp": 1754062102.210624}}}
{"text": "2025-08-01 17:28:22.211 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:68 - ✅ Cache hit dashboard:stock\n", "record": {"elapsed": {"repr": "0:14:27.338147", "seconds": 867.338147}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 68, "message": "✅ Cache hit dashboard:stock", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:22.211899+02:00", "timestamp": 1754062102.211899}}}
{"text": "2025-08-01 17:28:22.213 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:72 - ✅ Cache hit dashboard:purchase\n", "record": {"elapsed": {"repr": "0:14:27.339841", "seconds": 867.339841}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 72, "message": "✅ Cache hit dashboard:purchase", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:22.213593+02:00", "timestamp": 1754062102.213593}}}
{"text": "2025-08-01 17:28:22.214 | DEBUG    | app.services.dashboard.dashboard_service:get_dashboard_fiche:76 - ✅ Cache hit dashboard:matches\n", "record": {"elapsed": {"repr": "0:14:27.340949", "seconds": 867.340949}, "exception": null, "extra": {}, "file": {"name": "dashboard_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\dashboard\\dashboard_service.py"}, "function": "get_dashboard_fiche", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Cache hit dashboard:matches", "module": "dashboard_service", "name": "app.services.dashboard.dashboard_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:22.214701+02:00", "timestamp": 1754062102.214701}}}
{"text": "2025-08-01 17:28:22.217 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:14:27.343931", "seconds": 867.343931}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:22.217683+02:00", "timestamp": 1754062102.217683}}}
{"text": "2025-08-01 17:28:22.219 | DEBUG    | app.services.sales.sales_service:get_sales_history:114 - ✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}\n", "record": {"elapsed": {"repr": "0:14:27.346055", "seconds": 867.346055}, "exception": null, "extra": {}, "file": {"name": "sales_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\sales\\sales_service.py"}, "function": "get_sales_history", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 114, "message": "✅ Cache hit sales:history pour sales:history:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"min_period\": \"2024-09-01\"}", "module": "sales_service", "name": "app.services.sales.sales_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:22.219807+02:00", "timestamp": 1754062102.219807}}}
{"text": "2025-08-01 17:28:22.238 | INFO     | app.main:request_tracking_middleware:116 - ✅ [c324cb26] POST /api/v1/dashboard/fiche - 200 - 65.5ms\n", "record": {"elapsed": {"repr": "0:14:27.364995", "seconds": 867.364995}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [c324cb26] POST /api/v1/dashboard/fiche - 200 - 65.5ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:22.238747+02:00", "timestamp": 1754062102.238747}}}
{"text": "2025-08-01 17:28:23.742 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [50c8bdc8] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:14:28.868426", "seconds": 868.868426}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [50c8bdc8] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:23.742178+02:00", "timestamp": 1754062103.742178}}}
{"text": "2025-08-01 17:28:24.089 | INFO     | app.main:request_tracking_middleware:116 - ✅ [50c8bdc8] GET /api/v1/suggestions/refint-codpro - 200 - 347.3ms\n", "record": {"elapsed": {"repr": "0:14:29.215686", "seconds": 869.215686}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [50c8bdc8] GET /api/v1/suggestions/refint-codpro - 200 - 347.3ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:28:24.089438+02:00", "timestamp": 1754062104.089438}}}
{"text": "2025-08-01 17:29:51.735 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [dd726d7a] OPTIONS /api/v1/matrix/view - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:15:56.861342", "seconds": 956.861342}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [dd726d7a] OPTIONS /api/v1/matrix/view - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:51.735094+02:00", "timestamp": 1754062191.735094}}}
{"text": "2025-08-01 17:29:51.736 | INFO     | app.main:request_tracking_middleware:116 - ✅ [dd726d7a] OPTIONS /api/v1/matrix/view - 200 - 1.8ms\n", "record": {"elapsed": {"repr": "0:15:56.863164", "seconds": 956.863164}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [dd726d7a] OPTIONS /api/v1/matrix/view - 200 - 1.8ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:51.736916+02:00", "timestamp": 1754062191.736916}}}
{"text": "2025-08-01 17:29:51.756 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [e5841ee2] POST /api/v1/matrix/view - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:15:56.882546", "seconds": 956.882546}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [e5841ee2] POST /api/v1/matrix/view - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:51.756298+02:00", "timestamp": 1754062191.756298}}}
{"text": "2025-08-01 17:29:51.759 | INFO     | app.routers.matrix.matrix_view_router:get_matrix_view:52 - 🎯 Matrix view request: cod_pro=23412 ref_crn=None refint=None ref_ext=None cod_pro_list=[] famille=None s_famille=None qualite=None statut=None statut_clean=None grouping_crn=1 single_cod_pro=False\n", "record": {"elapsed": {"repr": "0:15:56.885419", "seconds": 956.885419}, "exception": null, "extra": {}, "file": {"name": "matrix_view_router.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\routers\\matrix\\matrix_view_router.py"}, "function": "get_matrix_view", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 52, "message": "🎯 Matrix view request: cod_pro=23412 ref_crn=None refint=None ref_ext=None cod_pro_list=[] famille=None s_famille=None qualite=None statut=None statut_clean=None grouping_crn=1 single_cod_pro=False", "module": "matrix_view_router", "name": "app.routers.matrix.matrix_view_router", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:51.759171+02:00", "timestamp": 1754062191.759171}}}
{"text": "2025-08-01 17:29:51.759 | INFO     | app.services.matrix.matrix_view_service:get_matrix_view_data:193 - 🎯 Matrix view request: cod_pro=23412 ref_crn=None refint=None ref_ext=None cod_pro_list=[] famille=None s_famille=None qualite=None statut=None statut_clean=None grouping_crn=1 single_cod_pro=False\n", "record": {"elapsed": {"repr": "0:15:56.885940", "seconds": 956.88594}, "exception": null, "extra": {}, "file": {"name": "matrix_view_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\matrix\\matrix_view_service.py"}, "function": "get_matrix_view_data", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 193, "message": "🎯 Matrix view request: cod_pro=23412 ref_crn=None refint=None ref_ext=None cod_pro_list=[] famille=None s_famille=None qualite=None statut=None statut_clean=None grouping_crn=1 single_cod_pro=False", "module": "matrix_view_service", "name": "app.services.matrix.matrix_view_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:51.759692+02:00", "timestamp": 1754062191.759692}}}
{"text": "2025-08-01 17:29:51.821 | INFO     | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:79 - 📌 Résolution via grouping_crn=20075, qualite=None\n", "record": {"elapsed": {"repr": "0:15:56.948106", "seconds": 956.948106}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 79, "message": "📌 Résolution via grouping_crn=20075, qualite=None", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:51.821858+02:00", "timestamp": 1754062191.821858}}}
{"text": "2025-08-01 17:29:51.883 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:102 - ✅ Cache enregistré pour 29 cod_pro\n", "record": {"elapsed": {"repr": "0:15:57.010170", "seconds": 957.01017}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 102, "message": "✅ Cache enregistré pour 29 cod_pro", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:51.883922+02:00", "timestamp": 1754062191.883922}}}
{"text": "2025-08-01 17:29:51.994 | DEBUG    | app.services.products.detail_service:get_product_details:77 - ✅ Détails produits récupérés: 29 éléments\n", "record": {"elapsed": {"repr": "0:15:57.120680", "seconds": 957.12068}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 77, "message": "✅ Détails produits récupérés: 29 éléments", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:51.994432+02:00", "timestamp": 1754062191.994432}}}
{"text": "2025-08-01 17:29:51.996 | DEBUG    | app.services.products.detail_service:get_product_details:82 - ✅ Cache set produit:details pour produit:details:f95a10e666a194bee32246e2d2d3bf6a\n", "record": {"elapsed": {"repr": "0:15:57.122815", "seconds": 957.122815}, "exception": null, "extra": {}, "file": {"name": "detail_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\detail_service.py"}, "function": "get_product_details", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 82, "message": "✅ Cache set produit:details pour produit:details:f95a10e666a194bee32246e2d2d3bf6a", "module": "detail_service", "name": "app.services.products.detail_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:51.996567+02:00", "timestamp": 1754062191.996567}}}
{"text": "2025-08-01 17:29:52.199 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [ca934385] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:15:57.325265", "seconds": 957.325265}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [ca934385] GET /api/v1/suggestions/refint-codpro - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:52.199017+02:00", "timestamp": 1754062192.199017}}}
{"text": "2025-08-01 17:29:52.366 | DEBUG    | app.services.products.match_service:get_codpro_match_list:76 - ✅ Matches récupérés: 549 éléments uniques\n", "record": {"elapsed": {"repr": "0:15:57.492575", "seconds": 957.492575}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 76, "message": "✅ Matches récupérés: 549 éléments uniques", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:52.366327+02:00", "timestamp": 1754062192.366327}}}
{"text": "2025-08-01 17:29:52.370 | DEBUG    | app.services.products.match_service:get_codpro_match_list:81 - ✅ Cache set get_codpro_match_list pour match:codpro:f95a10e666a194bee32246e2d2d3bf6a\n", "record": {"elapsed": {"repr": "0:15:57.497180", "seconds": 957.49718}, "exception": null, "extra": {}, "file": {"name": "match_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\products\\match_service.py"}, "function": "get_codpro_match_list", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 81, "message": "✅ Cache set get_codpro_match_list pour match:codpro:f95a10e666a194bee32246e2d2d3bf6a", "module": "match_service", "name": "app.services.products.match_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:52.370932+02:00", "timestamp": 1754062192.370932}}}
{"text": "2025-08-01 17:29:52.378 | DEBUG    | app.services.matrix.matrix_view_service:_analyze_column_references:281 - 🎨 Colonnes analysées: 227\n", "record": {"elapsed": {"repr": "0:15:57.505130", "seconds": 957.50513}, "exception": null, "extra": {}, "file": {"name": "matrix_view_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\matrix\\matrix_view_service.py"}, "function": "_analyze_column_references", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 281, "message": "🎨 Colonnes analysées: 227", "module": "matrix_view_service", "name": "app.services.matrix.matrix_view_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:52.378882+02:00", "timestamp": 1754062192.378882}}}
{"text": "2025-08-01 17:29:52.385 | DEBUG    | app.services.matrix.matrix_view_service:get_matrix_view_data:247 - ✅ Cache enregistré matrix:view pour matrix:view:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:15:57.512127", "seconds": 957.512127}, "exception": null, "extra": {}, "file": {"name": "matrix_view_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\matrix\\matrix_view_service.py"}, "function": "get_matrix_view_data", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 247, "message": "✅ Cache enregistré matrix:view pour matrix:view:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "matrix_view_service", "name": "app.services.matrix.matrix_view_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:52.385879+02:00", "timestamp": 1754062192.385879}}}
{"text": "2025-08-01 17:29:52.413 | INFO     | app.main:request_tracking_middleware:116 - ✅ [e5841ee2] POST /api/v1/matrix/view - 200 - 657.0ms\n", "record": {"elapsed": {"repr": "0:15:57.539525", "seconds": 957.539525}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [e5841ee2] POST /api/v1/matrix/view - 200 - 657.0ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:52.413277+02:00", "timestamp": 1754062192.413277}}}
{"text": "2025-08-01 17:29:52.483 | INFO     | app.main:request_tracking_middleware:116 - ✅ [ca934385] GET /api/v1/suggestions/refint-codpro - 200 - 284.3ms\n", "record": {"elapsed": {"repr": "0:15:57.609557", "seconds": 957.609557}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [ca934385] GET /api/v1/suggestions/refint-codpro - 200 - 284.3ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:29:52.483309+02:00", "timestamp": 1754062192.483309}}}
{"text": "2025-08-01 17:30:17.395 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [f59a2d29] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:16:22.521869", "seconds": 982.521869}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [f59a2d29] OPTIONS /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:30:17.395621+02:00", "timestamp": 1754062217.395621}}}
{"text": "2025-08-01 17:30:17.398 | INFO     | app.main:request_tracking_middleware:116 - ✅ [f59a2d29] OPTIONS /api/v1/optimisation/optimisation - 200 - 2.4ms\n", "record": {"elapsed": {"repr": "0:16:22.524352", "seconds": 982.524352}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [f59a2d29] OPTIONS /api/v1/optimisation/optimisation - 200 - 2.4ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:30:17.398104+02:00", "timestamp": 1754062217.398104}}}
{"text": "2025-08-01 17:30:17.408 | INFO     | app.main:request_tracking_middleware:105 - 🔵 [35ca1e14] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:16:22.534299", "seconds": 982.534299}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 105, "message": "🔵 [35ca1e14] POST /api/v1/optimisation/optimisation - Client: 127.0.0.1", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:30:17.408051+02:00", "timestamp": 1754062217.408051}}}
{"text": "2025-08-01 17:30:17.411 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:22 - Démarrage evaluate_group_optimization\n", "record": {"elapsed": {"repr": "0:16:22.537473", "seconds": 982.537473}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 22, "message": "Démarrage evaluate_group_optimization", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:30:17.411225+02:00", "timestamp": 1754062217.411225}}}
{"text": "2025-08-01 17:30:17.412 | DEBUG    | app.services.identifiers.identifier_service:get_codpro_list_from_identifier:30 - ✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce\n", "record": {"elapsed": {"repr": "0:16:22.538829", "seconds": 982.538829}, "exception": null, "extra": {}, "file": {"name": "identifier_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\identifiers\\identifier_service.py"}, "function": "get_codpro_list_from_identifier", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 30, "message": "✅ Cache hit pour resolve_codpro:6fb48d02a4f3907b996e1233e29ea8ce", "module": "identifier_service", "name": "app.services.identifiers.identifier_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:30:17.412581+02:00", "timestamp": 1754062217.412581}}}
{"text": "2025-08-01 17:30:17.413 | INFO     | app.services.optimisation.optimisation_service:evaluate_group_optimization:36 - cod_pro_list résolue: 29 éléments en 0.00s\n", "record": {"elapsed": {"repr": "0:16:22.539549", "seconds": 982.539549}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 36, "message": "cod_pro_list résolue: 29 éléments en 0.00s", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:30:17.413301+02:00", "timestamp": 1754062217.413301}}}
{"text": "2025-08-01 17:30:17.414 | DEBUG    | app.services.optimisation.optimisation_service:evaluate_group_optimization:44 - ✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}\n", "record": {"elapsed": {"repr": "0:16:22.541104", "seconds": 982.541104}, "exception": null, "extra": {}, "file": {"name": "optimisation_service.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\services\\optimisation\\optimisation_service.py"}, "function": "evaluate_group_optimization", "level": {"icon": "🐞", "name": "DEBUG", "no": 10}, "line": 44, "message": "✅ Cache hit optimisation pour optimisation:group:{\"cod_pro\": 23412, \"cod_pro_list\": [], \"grouping_crn\": 1, \"single_cod_pro\": false}", "module": "optimisation_service", "name": "app.services.optimisation.optimisation_service", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:30:17.414856+02:00", "timestamp": 1754062217.414856}}}
{"text": "2025-08-01 17:30:17.417 | INFO     | app.main:request_tracking_middleware:116 - ✅ [35ca1e14] POST /api/v1/optimisation/optimisation - 200 - 9.6ms\n", "record": {"elapsed": {"repr": "0:16:22.543915", "seconds": 982.543915}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "D:\\Projet\\CBM_GRC_Matcher\\backend\\app\\main.py"}, "function": "request_tracking_middleware", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 116, "message": "✅ [35ca1e14] POST /api/v1/optimisation/optimisation - 200 - 9.6ms", "module": "main", "name": "app.main", "process": {"id": 12528, "name": "SpawnProcess-1"}, "thread": {"id": 14840, "name": "MainThread"}, "time": {"repr": "2025-08-01 17:30:17.417667+02:00", "timestamp": 1754062217.417667}}}
